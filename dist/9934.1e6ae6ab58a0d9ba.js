"use strict";(self.webpackChunkchat21=self.webpackChunkchat21||[]).push([[9934],{69934:(ae,A,g)=>{g.r(A),g.d(A,{IntegrationsModule:()=>ee});var d=g(69808),w=g(15861),n=g(5e3),T=g(87341),U=g(26930),h=g(48616),b=g(40520);let f=(()=>{class i{constructor(t,e,o,a){this.auth=t,this.appConfigService=e,this.logger=o,this.http=a,this.user=t.user_bs.value,this.checkIfExistUserAndGetToken(),this.auth.user_bs.subscribe(s=>{this.user=s,this.checkIfExistUserAndGetToken()}),this.getCurrentProject(),this.getAppConfig()}getAppConfig(){this.SERVER_BASE_PATH=this.appConfigService.getConfig().SERVER_BASE_URL,this.logger.log("AppConfigService getAppConfig (FAQ-KB SERV.) SERVER_BASE_PATH ",this.SERVER_BASE_PATH)}getCurrentProject(){this.auth.project_bs.subscribe(t=>{t&&(this.project_id=t._id)},t=>{this.logger.error("[INTEGRATION.SERV] - get current project ERROR: ",t)},()=>{this.logger.debug("[INTEGRATION.SERV] - get current project *COMPLETE*")})}checkIfExistUserAndGetToken(){this.user?(this.TOKEN=this.user.token,this.logger.log("[INTEGRATION.SERV] user is signed in")):this.logger.log("[INTEGRATION.SERV] No user is signed in")}getAllIntegrations(){const t={headers:new b.WM({"Content-Type":"application/json",Authorization:this.TOKEN})},e=this.SERVER_BASE_PATH+this.project_id+"/integration";return this.logger.debug("[INTEGRATION.SERV] - get integration URL: ",e),this.http.get(e,t)}getIntegrationDetail(t){const e={headers:new b.WM({"Content-Type":"application/json",Authorization:this.TOKEN})},o=this.SERVER_BASE_PATH+this.project_id+"/integration/"+t;return this.logger.debug("[INTEGRATION.SERV] - get integration URL: ",o),this.http.get(o,e)}saveIntegration(t){this.logger.log("integration ",t);const e={headers:new b.WM({"Content-Type":"application/json",Authorization:this.TOKEN})},o=this.SERVER_BASE_PATH+this.project_id+"/integration/";return this.logger.debug("[INTEGRATION.SERV] - save integration URL: ",o),this.http.post(o,t,e)}deleteIntegration(t){const e={headers:new b.WM({"Content-Type":"application/json",Authorization:this.TOKEN})},o=this.SERVER_BASE_PATH+this.project_id+"/integration/"+t;return this.logger.debug("[INTEGRATION.SERV] - save integration URL: ",o),this.http.delete(o,e)}checkIntegrationKeyValidity(t,e,o){let a=new b.WM({"Content-Type":"application/json"});return e&&(a=a.append("Authorization",e)),o&&(a=a.append("api-key",o)),this.http.get(t,{headers:a})}checkAnthropicKeyValidity(t,e){const o={headers:new b.WM({"x-api-key":e,"Content-Type":"application/json","anthropic-version":"2023-06-01"})};return this.http.get(t,o)}}return i.\u0275fac=function(t){return new(t||i)(n.LFG(T.e),n.LFG(U._),n.LFG(h.m),n.LFG(b.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var p=g(27284),S=g(44034),L=g(94961),y=g(7625),G=g(8929),V=g(17744),N=g(27544),l=g(7623),R=g(25466),u=g(92340),M=g(54132),_=g(51062),O=g(81125),q=g(1533),P=g(39850);let J=(()=>{class i{constructor(){}ngOnInit(){}ngOnChanges(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["integration-header"]],inputs:{integrationModel:"integrationModel"},features:[n.TTD],decls:2,vars:2,consts:[[1,"header-container",2,"display","flex","flex-direction","row"],[3,"src","alt"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"img",1),n.qZA()),2&t&&(n.xp6(1),n.s9C("alt",e.integrationModel.name),n.Q6J("src",e.integrationModel.src_logo,n.LSH))},styles:[".header-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px 0px;\n}\n\nimg[_ngcontent-%COMP%] {\n  width: auto;\n  height: 40px;\n  margin-right: 6px;\n}\n\n.title[_ngcontent-%COMP%] {\n  font-size: 26px;\n  font-weight: 600;\n}"]}),i})();function D(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5,"Verified!"),n.qZA()())}function Y(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6,"Failed!"),n.qZA()())}function K(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function Q(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function B(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function F(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let H=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.debug("[INT-Brevo] integration ",this.integration),this.translateparams={intname:"Brevo"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:t})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://api.brevo.com/v3/contacts?limit=2",null,"Basic "+this.integration.value.apikey).subscribe(a=>{this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-Customer.io] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["brevo-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://onboarding.brevo.com/account/register","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,D,6,0,"div",4),n.YNc(8,Y,7,0,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,K,2,0,"span",12),n.YNc(20,Q,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,B,3,3,"button",15),n.YNc(26,F,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:disabled:hover {\n  opacity: 0.8;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();var m=g(93075);function j(i,r){1&i&&(n.TgZ(0,"div",18),n.O4$(),n.TgZ(1,"svg",19),n._UZ(2,"circle",20)(3,"polyline",21),n.qZA(),n.kcU(),n.TgZ(4,"p",22),n._uU(5,"Verified!"),n.qZA()())}function z(i,r){1&i&&(n.TgZ(0,"div",18),n.O4$(),n.TgZ(1,"svg",19),n._UZ(2,"circle",23)(3,"line",24)(4,"line",25),n.qZA(),n.kcU(),n.TgZ(5,"p",26),n._uU(6,"Failed!"),n.qZA()())}function X(i,r){1&i&&(n.TgZ(0,"span",27),n._uU(1,"visibility_off"),n.qZA())}function $(i,r){1&i&&(n.TgZ(0,"span",27),n._uU(1,"visibility"),n.qZA())}function W(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function nn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let tn=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.debug("[INT-Customer.io] integration ",this.integration),this.translateparams={intname:"Customer.io"},this.integration.value.apikey&&this.checkKey()}showHideKey(){this.logger.log("showHideKey called"),document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){let t=btoa(this.integration.value.siteid+":"+this.integration.value.key);this.integration.value.apikey=t,this.checkKey().then(e=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:e})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.logger.log("[INT-Customer.io] integration.value.apikey",this.integration.value.apikey),this.integrationService.checkIntegrationKeyValidity("https://track.customer.io/api/v1/accounts/region","Basic "+this.integration.value.apikey).subscribe(a=>{this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-Customer.io] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={siteid:null,key:null,apikey:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["customerio-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:31,vars:21,consts:[[1,"header"],[1,"signup"],[3,"innerHTML"],["href","https://fly.customer.io/signup","target","_blank",2,"margin-left","4px"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],["type","text","placeholder","Your site ID",1,"custom-input",3,"ngModel","ngModelChange"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"p",2),n.ALo(3,"translate"),n.TgZ(4,"a",3),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.YNc(7,j,6,0,"div",4),n.YNc(8,z,7,0,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Site ID"),n.qZA(),n.TgZ(13,"input",7),n.NdJ("ngModelChange",function(s){return e.integration.value.siteid=s}),n.qZA()(),n.TgZ(14,"div",6)(15,"label"),n._uU(16,"Api Key"),n.qZA(),n.TgZ(17,"div",8)(18,"input",9),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(19,"translate"),n.qZA(),n.TgZ(20,"div",10)(21,"button",11,12),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(22);return n.KtG(e.toggleMask(s))}),n.YNc(23,X,2,0,"span",13),n.YNc(24,$,2,0,"span",13),n.qZA()()()(),n.TgZ(25,"div",14)(26,"button",15),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(27),n.ALo(28,"translate"),n.qZA(),n.YNc(29,W,3,3,"button",16),n.YNc(30,nn,3,3,"button",17),n.qZA()()}2&t&&(n.xp6(2),n.Q6J("innerHTML",n.xi3(3,12,"Integration.StartForFree",e.translateparams),n.oJD),n.xp6(3),n.hij(" ",n.lcZ(6,15,"Integration.SignupNow"),""),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(5),n.Q6J("ngModel",e.integration.value.siteid),n.xp6(5),n.s9C("placeholder",n.lcZ(19,17,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(28,19,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,m.Fj,m.JJ,m.On,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})(),en=(()=>{class i{constructor(){this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["gsheets-integration"]],inputs:{integration_name:"integration_name",integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:10,vars:0,consts:[[1,"header"],["src","../../../../assets/img/google_sheets.png","alt","Google Sheets","width","24","height","auto"],[1,"title"],[1,"content"],[1,"custom-connect-button",2,"margin-top","10px"],["src","../../../../assets/img/google-icon.png","width","16","height","16"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"img",1),n.TgZ(2,"p",2),n._uU(3,"Google Sheets"),n.qZA()(),n.TgZ(4,"div",3)(5,"p"),n._uU(6,"Connect your Google account to use Google Sheets in your flow"),n.qZA(),n.TgZ(7,"button",4),n._UZ(8,"img",5),n._uU(9," Sign in with Google "),n.qZA()())},styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\n  font-size: 20px;\n  margin-left: 10px;\n  font-weight: 500;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.custom-connect-button[_ngcontent-%COMP%] {\n  height: 36px;\n  background: none;\n  border: solid 2px #dedede;\n  border-radius: 8px;\n  padding: 0px 14px;\n}\n\n.custom-connect-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}"]}),i})();function on(i,r){1&i&&(n.TgZ(0,"span",16),n._uU(1,"visibility_off"),n.qZA())}function an(i,r){1&i&&(n.TgZ(0,"span",16),n._uU(1,"visibility"),n.qZA())}function rn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",17),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function sn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let ln=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-Hubspot] integration ",this.integration),this.logger.debug("[INT-Hubspot] integration ",this.integration),this.translateparams={intname:"Hubspot"}}showHideKey(){this.logger.log("showHideKey called"),document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.onUpdateIntegration.emit({integration:this.integration})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.logger.log("checkKey  this.integration.value.apikey; ",this.integration.value.apikey),this.integrationService.checkIntegrationKeyValidity("https://api.hubapi.com/crm/v3/objects/contacts?limit=10","Bearer "+this.integration.value.apikey).subscribe(a=>{this.isVerified=!0,t(!0)},a=>{this.isVerified=!1,this.logger.error("[INT-Hubspot] Key verification failed: ",a),t(!1)})})}resetValues(){this.integration.value={apikey:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["hubspot-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:25,vars:18,consts:[[1,"header"],[1,"signup"],["href","https://www.hubspot.com/","target","_blank"],[3,"innerHTML"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",4)(8,"div",5)(9,"label"),n._uU(10,"Api Key"),n.qZA(),n.TgZ(11,"div",6)(12,"input",7),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"div",8)(15,"button",9,10),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(16);return n.KtG(e.toggleMask(s))}),n.YNc(17,on,2,0,"span",11),n.YNc(18,an,2,0,"span",11),n.qZA()()()(),n.TgZ(19,"div",12)(20,"button",13),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.YNc(23,rn,3,3,"button",14),n.YNc(24,sn,3,3,"button",15),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,9,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,11,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(7),n.s9C("placeholder",n.lcZ(13,14,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(22,16,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:disabled:hover {\n  opacity: 0.8;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})(),pn=(()=>{class i{constructor(t,e){this.logger=t,this.translate=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe}ngOnInit(){this.logger.log("[INT-Make] integration (oninit)",this.integration),this.translateparams={intname:"Make"}}ngOnChanges(t){this.logger.log("[INT-Make] integration (onchanges) changes",t),this.logger.log("[INT-Make] integration (onchanges) integration",this.integration)}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(h.m),n.Y36(_.sK))},i.\u0275cmp=n.Xpm({type:i,selectors:[["make-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},features:[n.TTD],decls:12,vars:14,consts:[[1,"header"],[1,"signup"],["href","https://www.make.com/en/register","target","_blank"],[3,"innerHTML"],[1,"content"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",4),n._UZ(8,"p",3),n.ALo(9,"translate"),n._UZ(10,"p",3),n.ALo(11,"translate"),n.qZA()),2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,4,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,6,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(9,9,"Integration.GoodNews"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.xi3(11,11,"Integration.NoNeedApikey",e.translateparams),n.oJD))},dependencies:[_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}"]}),i})();function gn(i,r){1&i&&(n.TgZ(0,"div",18),n.O4$(),n.TgZ(1,"svg",19),n._UZ(2,"circle",20)(3,"polyline",21),n.qZA(),n.kcU(),n.TgZ(4,"p",22),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function cn(i,r){1&i&&(n.TgZ(0,"div",18),n.O4$(),n.TgZ(1,"svg",19),n._UZ(2,"circle",23)(3,"line",24)(4,"line",25),n.qZA(),n.kcU(),n.TgZ(5,"p",26),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function dn(i,r){1&i&&(n.TgZ(0,"span",27),n._uU(1,"visibility_off"),n.qZA())}function un(i,r){1&i&&(n.TgZ(0,"span",27),n._uU(1,"visibility"),n.qZA())}function _n(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function hn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let fn=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-OpenAI] integration ",this.integration),this.translateparams={intname:"OpenAI"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{let e={integration:this.integration,isVerified:t};this.logger.log("[INT-OpenAI] saveIntegration data ",e),this.onUpdateIntegration.emit(e)})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://api.openai.com/v1/models","Bearer "+this.integration.value.apikey).subscribe(a=>{this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-OpenAI] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null,organization:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["openai-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:33,vars:27,consts:[[1,"header"],[1,"signup"],["href","https://openai.com/","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],["type","text",1,"custom-input",3,"ngModel","placeholder","ngModelChange"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,gn,7,3,"div",4),n.YNc(8,cn,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,dn,2,0,"span",12),n.YNc(20,un,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",6)(22,"label"),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.TgZ(25,"input",13),n.NdJ("ngModelChange",function(s){return e.integration.value.organization=s}),n.ALo(26,"translate"),n.qZA()(),n.TgZ(27,"div",14)(28,"button",15),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.YNc(31,_n,3,3,"button",16),n.YNc(32,hn,3,3,"button",17),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,14,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,16,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,19,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.Oqu(n.lcZ(24,21,"Integration.OrganizationOptional")),n.xp6(2),n.s9C("placeholder",n.lcZ(26,23,"Integration.YourOrganization")),n.Q6J("ngModel",e.integration.value.organization),n.xp6(4),n.hij(" ",n.lcZ(30,25,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,m.Fj,m.JJ,m.On,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();function mn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function In(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function xn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function kn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function Cn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function bn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let On=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.debug("[INT-Qapla] integration ",this.integration),this.translateparams={intname:"Qapla'"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:t})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://api.qapla.it/1.2/getCouriers/?apiKey="+this.integration.value.apikey).subscribe(o=>{"OK"===o.getCouriers.result?(this.isVerified=!0,t(!0)):(this.isVerified=!1,t(!1))},o=>{this.logger.error("[INT-Qapla] Key verification failed: ",o),0==o.status||(this.isVerified=!1),t(!1)})})}resetValues(){this.integration.value={apikey:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["qapla-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://www.qapla.it/en/book-a-demo/","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,mn,7,3,"div",4),n.YNc(8,In,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,xn,2,0,"span",12),n.YNc(20,kn,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,Cn,3,3,"button",15),n.YNc(26,bn,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Join")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.JoinNow",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:disabled:hover {\n  opacity: 0.8;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();var yn=g(22313);function Tn(i,r){1&i&&n._UZ(0,"loading-spinner",3)}let Mn=(()=>{class i{constructor(t,e,o){this.sanitizer=t,this.auth=e,this.logger=o,this.showSpinner=!0}ngOnInit(){}ngOnChanges(){this.showSpinner=!0,this.logger.log("id_project: ",this.id_project),this.logger.log("renderUlr: ",this.renderUrl),this.auth.user_bs.subscribe(t=>{t?(this.TOKEN=t.token,this.URL=this.sanitizer.bypassSecurityTrustResourceUrl(this.renderUrl+"?project_id="+this.id_project+"&token="+this.TOKEN),this.logger.log("URL: ",this.URL)):this.logger.log("Get user token failed")})}onIframeLoaded(){this.logger.log("onIframeLoaded"),this.showSpinner=!1}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(yn.H7),n.Y36(T.e),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["ext-integration"]],inputs:{id_project:"id_project",renderUrl:"renderUrl"},features:[n.TTD],decls:3,vars:2,consts:[[1,"content"],["allow","camera; microphone","id","i_frame","frameBorder","0","allowfullscreen","",2,"width","100%","height","calc(100vh - 160px)",3,"src","load"],["class","custom-spinner",4,"ngIf"],[1,"custom-spinner"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0)(1,"iframe",1),n.NdJ("load",function(){return e.onIframeLoaded()}),n.qZA(),n.YNc(2,Tn,1,0,"loading-spinner",2),n.qZA()),2&t&&(n.xp6(1),n.Q6J("src",e.URL,n.uOi),n.xp6(1),n.Q6J("ngIf",e.showSpinner))},dependencies:[d.O5,P.g],styles:[".content[_ngcontent-%COMP%] {\n  padding: 2px;\n  height: calc(100vh - 158px);\n  position: relative;\n}\n\n.custom-spinner[_ngcontent-%COMP%] {\n  width: 100% !important;\n  display: flex;\n  align-items: center;\n  position: absolute;\n  background: white;\n  top: 0;\n  bottom: 0;\n}\n\niframe[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n}"]}),i})(),vn=(()=>{class i{constructor(t){this.logger=t,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe}ngOnInit(){this.logger.log("[INT-n8n] integration (oninit)",this.integration),this.translateparams={intname:"n8n"}}ngOnChanges(t){this.logger.log("[INT-Make] integration (onchanges) changes",t),this.logger.log("[INT-Make] integration (onchanges) integration",this.integration)}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["n8n-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},features:[n.TTD],decls:12,vars:14,consts:[[1,"header"],[1,"signup"],["href","https://app.n8n.cloud/register","target","_blank"],[3,"innerHTML"],[1,"content"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",4),n._UZ(8,"p",3),n.ALo(9,"translate"),n._UZ(10,"p",3),n.ALo(11,"translate"),n.qZA()),2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,4,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,6,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(9,9,"Integration.GoodNews"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.xi3(11,11,"Integration.NoNeedApikey",e.translateparams),n.oJD))},dependencies:[_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}"]}),i})();function An(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function wn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function Nn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function Pn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function En(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function Zn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let Un=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-GOOGLE-GEMINI] integration ",this.integration),this.translateparams={intname:"Google AI"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:t})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash?key="+this.integration.value.apikey).subscribe(o=>{this.logger.log("[INT-GOOGLE-GEMINI] resp ",o),o&&(this.isVerified=!0,t(!0))},o=>{this.logger.error("[INT-GOOGLE-GEMINI] Key verification failed: ",o),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null,organization:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["google-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://ai.google.dev/","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,An,7,3,"div",4),n.YNc(8,wn,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,Nn,2,0,"span",12),n.YNc(20,Pn,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,En,3,3,"button",15),n.YNc(26,Zn,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();function Sn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function Ln(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function Gn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function Vn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function Rn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function qn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let Jn=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-Anthropic] integration ",this.integration),this.translateparams={intname:"Anthropic"}}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.onUpdateIntegration.emit({integration:this.integration})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkAnthropicKeyValidity("https://api.anthropic.com/v1/models",this.integration.value.apikey).subscribe(a=>{this.logger.log("[INT-Anthropic] Key verification resp : ",a),this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-Anthropic] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null,organization:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["anthropic-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://console.anthropic.com/login","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,Sn,7,3,"div",4),n.YNc(8,Ln,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,Gn,2,0,"span",12),n.YNc(20,Vn,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,Rn,3,3,"button",15),n.YNc(26,qn,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();function Dn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function Yn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function Kn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function Qn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function Bn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function Fn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let Hn=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-GROQ] integration ",this.integration),this.translateparams={intname:"Groq"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:t})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://api.groq.com/openai/v1/models","Bearer "+this.integration.value.apikey).subscribe(a=>{this.logger.log("[INT-GROQ] Key verification resp: ",a),this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-GROQ] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null,organization:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["groq-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://console.groq.com/login","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,Dn,7,3,"div",4),n.YNc(8,Yn,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,Kn,2,0,"span",12),n.YNc(20,Qn,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,Bn,3,3,"button",15),n.YNc(26,Fn,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();function jn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function zn(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function Xn(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function $n(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function Wn(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function nt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let tt=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-Cohere] integration ",this.integration),this.translateparams={intname:"Cohere"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:t})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://api.cohere.com/v1/models","Bearer "+this.integration.value.apikey).subscribe(a=>{this.logger.log("[INT-Cohere] Key verification resp: ",a),this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-Cohere] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null,organization:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["cohere-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://dashboard.cohere.com/welcome/register","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,jn,7,3,"div",4),n.YNc(8,zn,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,Xn,2,0,"span",12),n.YNc(20,$n,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,Wn,3,3,"button",15),n.YNc(26,nt,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();function et(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",13)(1,"p",14),n._uU(2),n.qZA(),n.TgZ(3,"button",15),n.NdJ("click",function(){const a=n.CHM(t).$implicit,s=n.oxw();return n.KtG(s.removeModel(a))}),n.O4$(),n.TgZ(4,"svg",16),n._UZ(5,"path",17)(6,"path",18),n.qZA()()()}if(2&i){const t=r.$implicit;n.xp6(2),n.Oqu(t)}}function it(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function ot(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let at=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.newModelName=""}ngOnInit(){this.logger.log("[INT-Ollama] integration ",this.integration),this.translateparams={intname:"Ollama"}}addModel(t){document.getElementById("enter-button").style.display="none",this.logger.log("[INT-Ollama] - addModel ",t),t&&!this.integration.value.models.includes(t)&&(this.logger.log("[INT-Ollama] - addModel here yes modelName",t),this.logger.log("[INT-Ollama] - addModel this.integration.value.models",this.integration.value.models),this.integration.value.models.push(t)),this.newModelName=null}onEnterModel(t){document.getElementById("enter-button").style.display=t.length>0?"inline-block":"none"}removeModel(t){this.integration.value.models=this.integration.value.models.filter(e=>e!==t)}saveIntegration(){let t={integration:this.integration};this.logger.log("[INT-Ollama] saveIntegration ",this.integration),this.onUpdateIntegration.emit(t)}deleteIntegration(){this.onDeleteIntegration.emit(this.integration)}resetValues(){this.integration.value={url:null,token:null,models:[]},this.newModelName=null}handleInput(t){}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["ollama-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:24,vars:17,consts:[[1,"content"],[1,"input-field"],["id","ollama-url","type","url","name","ollama-url","placeholder","URL of the external Ollama server","autocomplete","off",1,"custom-input",3,"ngModel","input","ngModelChange"],[1,"fake--input"],[1,"fake--input-inner"],["id","ollama-models","name","ollama-models","placeholder","Type an LLM model and press Enter to add it to your favorites","type","text","autocomplete","off",1,"custom-input",3,"ngModel","ngModelChange","keyup.enter"],["id","enter-button",1,"enter-button",3,"click"],[1,"models--container"],["aria-label","models","class","model-name-and-btn-wpr",4,"ngFor","ngForOf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],["aria-label","models",1,"model-name-and-btn-wpr"],["weight","400",1,"model-name"],["type","button",1,"delete-model",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24",1,"remove-tag-icon",2,"min-width","12px","min-height","12px","margin-right","0px"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["d","M0 0h24v24H0z","fill","none"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"label"),n._uU(3,"URL"),n.qZA(),n.TgZ(4,"input",2),n.NdJ("input",function(a){return e.handleInput(a)})("ngModelChange",function(a){return e.integration.value.url=a}),n.qZA()(),n.TgZ(5,"div",1)(6,"label"),n._uU(7),n.ALo(8,"translate"),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",3)(11,"div",4)(12,"input",5),n.NdJ("ngModelChange",function(a){return e.newModelName=a})("ngModelChange",function(a){return e.onEnterModel(a)})("keyup.enter",function(){return e.addModel(e.newModelName)}),n.qZA(),n.TgZ(13,"div",6),n.NdJ("click",function(){return e.addModel(e.newModelName)}),n._uU(14),n.ALo(15,"translate"),n.qZA()()()(),n.TgZ(16,"div",7),n.YNc(17,et,7,1,"div",8),n.qZA(),n.TgZ(18,"div",9)(19,"button",10),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.YNc(22,it,3,3,"button",11),n.YNc(23,ot,3,3,"button",12),n.qZA()()),2&t&&(n.xp6(4),n.Q6J("ngModel",e.integration.value.url),n.xp6(3),n.AsE("",n.lcZ(8,9,"Models")," (",n.lcZ(9,11,"Optional"),")"),n.xp6(5),n.Q6J("ngModel",e.newModelName),n.xp6(2),n.Oqu(n.lcZ(15,13,"KbPage.Enter")),n.xp6(3),n.Q6J("ngForOf",e.integration.value.models),n.xp6(3),n.hij(" ",n.lcZ(21,15,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.sg,d.O5,m.Fj,m.JJ,m.On,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}\n\n.tags-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.tag[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  background-color: #f1f3f5;\n  padding: 5px 10px;\n  border-radius: 20px;\n  font-size: 14px;\n  color: #495057;\n  border: 1px solid #ced4da;\n}\n\n.remove-btn[_ngcontent-%COMP%] {\n  background: none;\n  border: none;\n  color: #495057;\n  font-size: 16px;\n  margin-left: 8px;\n  cursor: pointer;\n}\n\n.remove-btn[_ngcontent-%COMP%]:hover {\n  color: #e03131; \n}\n\n.models--container[_ngcontent-%COMP%] {\n  \n  \n  \n  \n  display: flex;\n  \n  align-items: flex-start;\n  gap: 6px;\n  \n  \n  flex-direction: column;\n}\n\n.model-name-and-btn-wpr[_ngcontent-%COMP%] {\n  display: flex;\n  border-radius: 4px;\n  background-color: var(--contact-tag-background);\n  color: var(--contact-tag-color);\n}\n\n.model-name[_ngcontent-%COMP%] {\n  margin-top: 0px;\n  margin-bottom: 0px;\n  font-weight: var(--contact-tag-font-weight);\n  font-size: var(--contact-tag-font-size);\n  line-height: var(--contact-tag-line-height);\n  letter-spacing: var(--contact-tag-letter-spacing);\n  padding: 3px 5px 4px;\n  word-break: break-word;\n  cursor: default;\n  font-family: var(--content-font-family);\n}\n\n.delete-model[_ngcontent-%COMP%] {\n  border: none;\n  outline: none;\n  background: transparent;\n  border-radius: 0px 4px 4px 0px;\n  padding: 2px 4px 0px 3px;\n  cursor: pointer;\n}\n\n.delete-model[_ngcontent-%COMP%]:hover {\n  background: var(--delete-tag-btn-hover);\n}\n\n.tags-btn-wpr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-left: -2px;\n}\n\n.tags-btn-wpr[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\n  position: relative;\n  top: 1px;\n  fill: var(--delete-tag-icon-color);\n}\n\n.fake--input[_ngcontent-%COMP%] {\n  height: 39px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  display: flex;\n  align-items: center;\n  padding-right: 8px;\n  cursor: text;\n  max-width: 500px;\n}\n\n.fake--input[_ngcontent-%COMP%]   .fake--input-inner[_ngcontent-%COMP%] {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.fake--input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: transparent;\n}\n\n.fake--input[_ngcontent-%COMP%]   .input-bold[_ngcontent-%COMP%] {\n  font-weight: 400;\n}\n\n.fake--input[_ngcontent-%COMP%]   .enter-button[_ngcontent-%COMP%] {\n  display: none;\n  transition: background-color 0.15s ease 0s, color 0.15s ease 0s;\n  cursor: pointer;\n  animation: 0.15s ease 0s 1 normal none running fadein, 0.15s ease 0s 1 normal none running moveinleft;\n  box-sizing: border-box;\n  min-width: 22px;\n  height: 22.4px;\n  margin-top: -4px;\n  margin-bottom: -4px;\n  padding-right: 8px;\n  padding-left: 8px;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 24px;\n  text-align: center;\n  border-radius: 5px;\n  color: rgb(98, 119, 140);\n  background: linear-gradient(rgba(239, 245, 246, 0.64) 0%, rgb(238, 244, 246) 100%), rgb(255, 255, 255);\n  color: #fff;\n  background: var(--blue-20);\n}\n\n@keyframes fadein {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes moveinleft {\n  0% {\n    transform: translate(16px);\n  }\n  100% {\n    transform: translate(0px);\n  }\n}"]}),i})();function rt(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",19)(3,"polyline",20),n.qZA(),n.kcU(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&i&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"Integration.Verified")))}function st(i,r){1&i&&(n.TgZ(0,"div",17),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"circle",22)(3,"line",23)(4,"line",24),n.qZA(),n.kcU(),n.TgZ(5,"p",25),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&i&&(n.xp6(6),n.Oqu(n.lcZ(7,1,"Integration.Failed")))}function lt(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility_off"),n.qZA())}function pt(i,r){1&i&&(n.TgZ(0,"span",26),n._uU(1,"visibility"),n.qZA())}function gt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.deleteIntegration())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Delete")," "))}function ct(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.resetValues())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.Clear")," "))}let dt=(()=>{class i{constructor(t,e){this.integrationService=t,this.logger=e,this.onUpdateIntegration=new n.vpe,this.onDeleteIntegration=new n.vpe,this.keyVisibile=!1,this.isMasked=!0}ngOnInit(){this.logger.log("[INT-deepseek] integration ",this.integration),this.translateparams={intname:"Deepseek"},this.integration.value.apikey&&this.checkKey()}showHideKey(){document.getElementById("api-key-input").type=!1===this.keyVisibile?"text":"password",this.keyVisibile=!this.keyVisibile}saveIntegration(){this.checkKey().then(t=>{this.onUpdateIntegration.emit({integration:this.integration,isVerified:t})})}deleteIntegration(){this.isVerified=null,this.onDeleteIntegration.emit(this.integration)}checkKey(){return new Promise(t=>{this.integrationService.checkIntegrationKeyValidity("https://api.deepseek.com/models","Bearer "+this.integration.value.apikey).subscribe(a=>{this.logger.log("[INT-deepseek] Key verification resp: ",a),this.isVerified=!0,t(!0)},a=>{this.logger.error("[INT-deepseek] Key verification failed: ",a),this.isVerified=!1,t(!1)})})}resetValues(){this.integration.value={apikey:null,organization:null}}handleInput(t){const e=t.target,o=e.value;if(this.isMasked&&this.integration.value.apikey){const a=o.slice(this.integration.value.apikey.length);this.integration.value.apikey+=a}else this.integration.value.apikey=o;e.value=this.getDisplayValue()}handleBackspace(){this.integration.value.apikey=this.integration.value.apikey.slice(0,-1)}toggleMask(t){this.isMasked=!this.isMasked,t.value=this.getDisplayValue()}getDisplayValue(){return this.integration.value.apikey?this.isMasked?"\u25cf".repeat(this.integration.value.apikey.length):this.integration.value.apikey:""}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(f),n.Y36(h.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["deepseek-integration"]],inputs:{integration:"integration"},outputs:{onUpdateIntegration:"onUpdateIntegration",onDeleteIntegration:"onDeleteIntegration"},decls:27,vars:20,consts:[[1,"header"],[1,"signup"],["href","https://platform.deepseek.com/sign_in","target","_blank"],[3,"innerHTML"],["class","status",4,"ngIf"],[1,"content"],[1,"input-field"],[1,"password-input"],["id","api-key-input","type","text","name","api-key-input","id","maskedInput","autocomplete","off",3,"placeholder","value","input","keydown.backspace"],[1,"show-hide-button"],["type","button",1,"eye-btn",3,"click"],["maskedInput",""],["class","material-icons-outlined",4,"ngIf"],[1,"integration-footer"],[1,"btn","btn-tdblu-no-boxshadow",3,"click"],["class","btn btn-red",3,"click",4,"ngIf"],["class","btn btn-outlined",3,"click",4,"ngIf"],[1,"status"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 130.2 130.2"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#73AF55","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","points","100.2,40.2 51.5,88.8 29.8,67.5 ",1,"path","check"],[1,"success"],["fill","none","stroke","#D06079","stroke-width","6","stroke-miterlimit","10","cx","65.1","cy","65.1","r","62.1",1,"path","circle"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","34.4","y1","37.9","x2","95.8","y2","92.3",1,"path","line"],["fill","none","stroke","#D06079","stroke-width","6","stroke-linecap","round","stroke-miterlimit","10","x1","95.8","y1","38","x2","34.4","y2","92.2",1,"path","line"],[1,"error"],[1,"material-icons-outlined"],[1,"btn","btn-red",3,"click"],[1,"btn","btn-outlined",3,"click"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"a",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"p",3),n.ALo(6,"translate"),n.qZA(),n.YNc(7,rt,7,3,"div",4),n.YNc(8,st,8,3,"div",4),n.qZA(),n.TgZ(9,"div",5)(10,"div",6)(11,"label"),n._uU(12,"Api Key"),n.qZA(),n.TgZ(13,"div",7)(14,"input",8),n.NdJ("input",function(s){return e.handleInput(s)})("keydown.backspace",function(){return e.handleBackspace()}),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"div",9)(17,"button",10,11),n.NdJ("click",function(){n.CHM(o);const s=n.MAs(18);return n.KtG(e.toggleMask(s))}),n.YNc(19,lt,2,0,"span",12),n.YNc(20,pt,2,0,"span",12),n.qZA()()()(),n.TgZ(21,"div",13)(22,"button",14),n.NdJ("click",function(){return e.saveIntegration()}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.YNc(25,gt,3,3,"button",15),n.YNc(26,ct,3,3,"button",16),n.qZA()()}2&t&&(n.xp6(3),n.Oqu(n.lcZ(4,11,"Integration.Signup")),n.xp6(2),n.Q6J("innerHTML",n.xi3(6,13,"Integration.FreeAccount",e.translateparams),n.oJD),n.xp6(2),n.Q6J("ngIf",!0===e.isVerified),n.xp6(1),n.Q6J("ngIf",!1===e.isVerified),n.xp6(6),n.s9C("placeholder",n.lcZ(15,16,"Integration.YourApikey")),n.Q6J("value",e.getDisplayValue()),n.xp6(5),n.Q6J("ngIf",!0===e.isMasked),n.xp6(1),n.Q6J("ngIf",!1===e.isMasked),n.xp6(3),n.hij(" ",n.lcZ(24,18,"Integration.Save")," "),n.xp6(2),n.Q6J("ngIf",e.integration._id),n.xp6(1),n.Q6J("ngIf",!e.integration._id))},dependencies:[d.O5,_.X$],styles:["p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n\n.header[_ngcontent-%COMP%] {\n  border-bottom: solid 1px #e0e0e0;\n  padding: 12px 12px;\n  font-weight: 400;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.header[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0 0 0 5px;\n}\n\n.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.content[_ngcontent-%COMP%] {\n  padding: 20px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0px;\n}\n\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.custom-input[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  max-width: 500px;\n}\n\n.password-input[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 500px;\n  border-radius: 8px;\n  border: solid 1px #e0e0e0;\n  padding: 8px;\n  height: 38px;\n}\n\n.password-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100%;\n  border: none;\n  background: none;\n}\n\n.show-hide-button[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: flex;\n}\n\n.show-hide-button[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: grey;\n}\n\n.show-hide-button[_ngcontent-%COMP%]:hover   .material-icons-outlined[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: black;\n}\n\n.integration-footer[_ngcontent-%COMP%] {\n  border: none !important;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  max-width: 500px;\n}\n\n.integration-footer[_ngcontent-%COMP%]    > .btn-tdblu-no-boxshadow[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n\n.custom-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #3ea9f5;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.custom-danger-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: #ff6671;\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n\n.custom-danger-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n\n.status[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  width: 20px;\n}\n\n.path[_ngcontent-%COMP%] {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 0;\n}\n\n.path.circle[_ngcontent-%COMP%] {\n  animation: dash 0.9s ease-in-out;\n}\n\n.path.line[_ngcontent-%COMP%] {\n  stroke-dashoffset: 1000;\n  animation: dash 0.9s 0.35s ease-in-out forwards;\n}\n\n.path.check[_ngcontent-%COMP%] {\n  stroke-dashoffset: -100;\n  animation: dash-check 0.9s 0.35s ease-in-out forwards;\n}\n\np[_ngcontent-%COMP%] {\n  font-size: 14px;\n  margin: 1px 0px 0px 4px;\n}\n\np.success[_ngcontent-%COMP%] {\n  color: black;\n}\n\np.error[_ngcontent-%COMP%] {\n  color: black;\n}\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100;\n  }\n  100% {\n    stroke-dashoffset: 900;\n  }\n}"]}),i})();function ut(i,r){1&i&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&i&&(n.xp6(1),n.hij("",n.lcZ(2,1,"Settings")," "))}function _t(i,r){if(1&i&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&i){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.plan)}}const ht=function(i){return{"element-selected":i}};function ft(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",16),n.NdJ("click",function(){n.CHM(t);const o=n.oxw().$implicit,a=n.oxw(3);return n.KtG(a.onIntegrationSelect(o))}),n._UZ(1,"img",17),n.TgZ(2,"div",18)(3,"p"),n._uU(4),n.qZA(),n.YNc(5,_t,2,1,"div",19),n.qZA()()}if(2&i){const t=n.oxw().$implicit,e=n.oxw(3);n.Q6J("ngClass",n.VKq(5,ht,e.integrationSelectedName===t.key)),n.xp6(1),n.s9C("alt",t.name),n.Q6J("src",t.src_icon,n.LSH),n.xp6(3),n.Oqu(t.name),n.xp6(1),n.Q6J("ngIf",!0===t.displayBadge)}}function mt(i,r){if(1&i&&(n.TgZ(0,"div"),n.YNc(1,ft,6,7,"div",15),n.qZA()),2&i){const t=r.$implicit,e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",t.category===e.type)}}function It(i,r){if(1&i&&(n.TgZ(0,"mat-accordion")(1,"mat-expansion-panel",13)(2,"mat-expansion-panel-header",14)(3,"mat-panel-title"),n._uU(4),n.qZA()(),n.YNc(5,mt,2,1,"div",12),n.qZA()()),2&i){const t=r.$implicit,e=n.oxw(2);n.xp6(4),n.hij(" ",t.name," "),n.xp6(1),n.Q6J("ngForOf",e.INTEGRATIONS)}}function xt(i,r){if(1&i&&(n.TgZ(0,"div",11),n.YNc(1,It,6,2,"mat-accordion",12),n.qZA()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.CATEGORIES)}}function kt(i,r){1&i&&(n.TgZ(0,"div",21),n._UZ(1,"loading-spinner",22),n.qZA())}function Ct(i,r){if(1&i&&n._UZ(0,"integration-header",29),2&i){const t=n.oxw(3);n.Q6J("integrationModel",t.selectedIntegrationModel)}}function bt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"brevo-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Ot(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"customerio-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function yt(i,r){1&i&&n._UZ(0,"gsheets-integration")}function Tt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"hubspot-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Mt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"make-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function vt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"n8n-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function At(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"openai-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function wt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"google-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Nt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"anthropic-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Pt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"groq-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Et(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"cohere-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Zt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"ollama-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Ut(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"deepseek-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function St(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"qapla-integration",33),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)}}function Lt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"ext-integration",34),n.NdJ("onUpdateIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationUpdateEvent(o))})("onDeleteIntegration",function(o){n.CHM(t);const a=n.oxw(4);return n.KtG(a.integrationDeletedEvent(o))}),n.qZA()}if(2&i){const t=n.oxw(4);n.Q6J("integration",t.selectedIntegration)("renderUrl",t.renderUrl)("id_project",t.project._id)}}function Gt(i,r){if(1&i&&(n.TgZ(0,"div",30),n.YNc(1,bt,1,1,"brevo-integration",31),n.YNc(2,Ot,1,1,"customerio-integration",31),n.YNc(3,yt,1,0,"gsheets-integration",2),n.YNc(4,Tt,1,1,"hubspot-integration",31),n.YNc(5,Mt,1,1,"make-integration",31),n.YNc(6,vt,1,1,"n8n-integration",31),n.YNc(7,At,1,1,"openai-integration",31),n.YNc(8,wt,1,1,"google-integration",31),n.YNc(9,Nt,1,1,"anthropic-integration",31),n.YNc(10,Pt,1,1,"groq-integration",31),n.YNc(11,Et,1,1,"cohere-integration",31),n.YNc(12,Zt,1,1,"ollama-integration",31),n.YNc(13,Ut,1,1,"deepseek-integration",31),n.YNc(14,St,1,1,"qapla-integration",31),n.YNc(15,Lt,1,3,"ext-integration",32),n.qZA()),2&i){const t=n.oxw(3);n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.BREVO),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.CUSTOMERIO),n.xp6(1),n.Q6J("ngIf","gsheets"===t.integrationSelectedName),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.HUBSPOT),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.MAKE),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.N8N),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.OPENAI),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.GOOGLE),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.ANTHROPIC),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.GROQ),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.COHERE),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.OLLAMA),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.DEEPSEEK),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.QAPLA),n.xp6(1),n.Q6J("ngIf","external"===t.integrationSelectedType)}}function Vt(i,r){1&i&&(n.TgZ(0,"p",42),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.UpgradePlan"),""))}function Rt(i,r){if(1&i&&(n.TgZ(0,"p",43),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&i){const t=n.oxw(4);n.xp6(1),n.hij(" ",n.xi3(2,1,"Integration.OpenaiSubtitle1",t.translateparams),"")}}function qt(i,r){1&i&&(n.TgZ(0,"p",43),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.OpenaiSubtitle2"),""))}const E=function(i){return{plan_require:i}};function Jt(i,r){if(1&i&&(n._UZ(0,"p",44),n.ALo(1,"translate")),2&i){const t=n.oxw(4);n.Q6J("innerHTML",n.xi3(1,1,"Integration.AvailableFromPlanShort",n.VKq(4,E,t.plan_require)),n.oJD)}}function Dt(i,r){1&i&&(n.TgZ(0,"p",42),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&i&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Integration.UpgradePlan"),""))}function Yt(i,r){if(1&i&&(n._UZ(0,"p",44),n.ALo(1,"translate")),2&i){const t=n.oxw(4);n.Q6J("innerHTML",n.xi3(1,1,"Integration.AvailableFromPlan",n.VKq(4,E,t.plan_require)),n.oJD)}}function Kt(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",35)(1,"div",36),n._UZ(2,"img",37),n.YNc(3,Vt,3,3,"p",38),n.YNc(4,Rt,3,4,"p",39),n.YNc(5,qt,3,3,"p",39),n.YNc(6,Jt,2,6,"p",40),n.YNc(7,Dt,3,3,"p",38),n.YNc(8,Yt,2,6,"p",40),n.TgZ(9,"button",41),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(3);return n.KtG(o.goToPricing())}),n._uU(10),n.ALo(11,"translate"),n.qZA()()()}if(2&i){const t=n.oxw(3);n.xp6(3),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.OPENAI),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.OPENAI),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.OPENAI),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName===t.INT_KEYS.OPENAI),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName!==t.INT_KEYS.OPENAI),n.xp6(1),n.Q6J("ngIf",t.integrationSelectedName!==t.INT_KEYS.OPENAI),n.xp6(2),n.hij(" ",n.lcZ(11,7,"Integration.UpgradeNow"),"")}}function Qt(i,r){if(1&i&&(n.TgZ(0,"div",25),n.YNc(1,Ct,1,1,"integration-header",26),n.YNc(2,Gt,16,15,"div",27),n.YNc(3,Kt,12,9,"div",28),n.qZA()),2&i){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!t.showInIframe),n.xp6(1),n.Q6J("ngIf",!1===t.integrationLocked),n.xp6(1),n.Q6J("ngIf",!0===t.integrationLocked)}}function Bt(i,r){1&i&&(n.TgZ(0,"div",45),n._UZ(1,"img",46),n.TgZ(2,"p",47),n._uU(3),n.ALo(4,"translate"),n.qZA()()),2&i&&(n.xp6(3),n.Oqu(n.lcZ(4,1,"Integration.SelectToStart")))}function Ft(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Qt,4,3,"div",23),n.YNc(2,Bt,5,3,"div",24),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngIf","none"!==t.integrationSelectedName),n.xp6(1),n.Q6J("ngIf","none"===t.integrationSelectedName)}}const Ht=function(i){return{"margin-top":i}},jt=function(i,r){return{is_opened:i,is_closed:r}},zt=function(i,r){return{"page-title--sidebar-settings_opened":i,"page-title--sidebar-settings_closed":r}},Xt=g(11373),v=g(35226);let $t=(()=>{class i{constructor(t,e,o,a,s,x,k,C,I,c,ie,oe){this.auth=t,this.usersService=e,this.integrationService=o,this.notify=a,this.logger=s,this.router=x,this.route=k,this.translate=C,this.brand=I,this.prjctPlanService=c,this.projectPlanService=ie,this.appService=oe,this.panelOpenState=!0,this.integrationSelectedName="none",this.integrationSelectedType="none",this.integrations=[],this.integrationLocked=!1,this.integrationListReady=!1,this.INT_KEYS=p.RY,this.INTEGRATIONS=p.oA,this.CATEGORIES=p.OX,this.plan_expired=!1,this.plan_require="",this.unsubscribe$=new G.xQ,this.showSpinner=!0,this.showInIframe=!1,this.availableApps=[];const Z=this.brand.getBrand();this.logger.log("[INTEGRATION-COMP] brand: ",Z),this.translateparams=Z}ngOnInit(){this.getCurrentProject(),this.getLoggedUser(),this.getProjectPlan(),this.getBrowserVersion(),this.listenSidebarIsOpened(),this.translateModalOnlyOwnerCanManageProjectAccount(),this.getProjectUserRole()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}getLoggedUser(){this.auth.user_bs.pipe((0,y.R)(this.unsubscribe$)).subscribe(t=>{this.logger.log("[INTEGRATION-COMP] - USER GET IN HOME ",t),this.user=t})}listenSidebarIsOpened(){this.auth.settingSidebarIsOpned.subscribe(t=>{this.logger.log("[INTEGRATION-COMP] SETTINGS-SIDEBAR isopened (FROM SUBSCRIPTION) ",t),this.IS_OPEN_SETTINGS_SIDEBAR=t})}getCurrentProject(){this.auth.project_bs.pipe((0,y.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.project=t,this.projectID=t._id,this.logger.log("[INTEGRATION-COMP] Project: ",this.project))})}getProjectPlan(){var t=this;this.projectPlanService.projectPlan$.pipe((0,y.R)(this.unsubscribe$)).subscribe(function(){var e=(0,w.Z)(function*(o){o&&(t.logger.log("[INTEGRATION-COMP] projectProfileData ",o),t.logger.log("[INTEGRATION-COMP] INTEGRATIONS ",t.INTEGRATIONS),t.profile_name=o.profile_name,t.logger.log("[INTEGRATION-COMP] INTEGRATIONS profile_name ",t.profile_name),t.trialExpired=o.trial_expired,t.trialExpired=o.trial_expired,t.profileType=o.profile_type,t.subscriptionIsActive=o.subscription_is_active,t.customization=o.customization,t.INTEGRATIONS.forEach(a=>{t.manageProBadgeVisibility(a,o)}),yield t.getApps(),t.logger.log("[INTEGRATION-COMP] app retrieved"),t.manageAppVisibility(o),t.getIntegrations())});return function(o){return e.apply(this,arguments)}}(),e=>{this.logger.error("[INTEGRATION-COMP] err: ",e)})}getBrowserVersion(){this.auth.isChromeVerGreaterThan100.subscribe(t=>{this.logger.debug("[INTEGRATION-COMP] isChromeVerGreaterThan100: ",t),this.isChromeVerGreaterThan100=t})}getProjectUserRole(){this.usersService.project_user_role_bs.pipe((0,y.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.USER_ROLE=t,this.ROLE_IS_AGENT="agent"===t)})}getIntegrations(){this.getAllIntegrations().then(()=>{this.intName=this.route.snapshot.queryParamMap.get("name"),this.logger.log("[INTEGRATION-COMP] getIntegrations intName: ",this.intName),this.logger.log("[INTEGRATION-COMP] getIntegrations this.INTEGRATIONS: ",this.INTEGRATIONS),this.intName&&(this.onIntegrationSelect(this.INTEGRATIONS.find(t=>t.key===this.intName)),this.logger.log("[INTEGRATION-COMP] getIntegrations this.INTEGRATIONS find: ",this.INTEGRATIONS.find(t=>t.key===this.intName)))})}getAllIntegrations(){return new Promise((t,e)=>{this.integrationService.getAllIntegrations().subscribe(o=>{this.logger.log("[INTEGRATION-COMP] Integrations for this project ",o),this.integrations=o,this.showSpinner=!1,t(!0)},o=>{this.showSpinner=!1,this.logger.error("[INTEGRATION-COMP] Get all integrations error: ",o),e()})})}getApps(){var t=this;return(0,w.Z)(function*(){return new Promise(e=>{t.appService.getApps().subscribe(o=>{let a=o.apps.find(c=>c.title===p.kT.WHATSAPP&&"v2"===c.version);u.N.whatsappConfigUrl?a?(a.runURL=u.N.whatsappConfigUrl,a.channel="whatsapp"):a={runURL:u.N.whatsappConfigUrl,channel:"whatsapp"}:a&&(a.channel="whatsapp"),t.availableApps.push(a);let s=o.apps.find(c=>c.title===p.kT.MESSENGER&&"v2"===c.version);u.N.messengerConfigUrl?s?(s.runURL=u.N.messengerConfigUrl,s.channel="messenger"):s={runURL:u.N.messengerConfigUrl,channel:"messenger"}:s&&(s.channel="messenger"),t.availableApps.push(s);let x=o.apps.find(c=>c.title===p.kT.TELEGRAM&&"v2"===c.version);u.N.telegramConfigUrl?x?(x.runURL=u.N.telegramConfigUrl,x.channel="telegram"):x={runURL:u.N.telegramConfigUrl,channel:"telegram"}:x&&(x.channel="telegram"),t.availableApps.push(x);let k=o.apps.find(c=>c.title===p.kT.TWILIO_SMS&&"v2"===c.version);u.N.smsConfigUrl?k?(k.runURL=u.N.smsConfigUrl,k.channel="sms"):k={runURL:u.N.smsConfigUrl,channel:"sms"}:k&&(k.channel="sms"),t.availableApps.push(k);let C=o.apps.find(c=>c.title===p.kT.VXML_VOICE&&"v2"===c.version);u.N.voiceConfigUrl?C?(C.runURL=u.N.voiceConfigUrl,C.channel="voice"):C={voiceApp:u.N.voiceConfigUrl,channel:"voice"}:C&&(C.channel="voice"),t.availableApps.push(C);let I=o.apps.find(c=>c.title===p.kT.TWILIO_VOICE&&"v2"===c.version);u.N.voiceTwilioConfigUrl?I?(I.runURL=u.N.voiceTwilioConfigUrl,I.channel="voice_twilio"):I={voiceTwiloApp:u.N.voiceTwilioConfigUrl,channel:"voice_twilio"}:(t.logger.log("heree voiceTwiloApp ",I),I&&(I.channel="voice_twilio")),t.availableApps.push(I),t.availableApps=t.availableApps.filter(c=>void 0!==c),e(!0)},o=>{t.logger.error("--\x3e error getting apps: ",o)})})})()}onIntegrationSelect(t){this.logger.log("[INTEGRATIONS]- onIntegrationSelect integration",t),this.integrationSelectedType="none",this.integrationLocked=!1,this.checkPlan(t.plan).then(()=>{if(this.integrationSelectedName=t.key,this.logger.log("[INTEGRATIONS]- onIntegrationSelect integrationSelectedName",t.key),this.logger.log("[INTEGRATIONS]- onIntegrationSelect this.integrations",this.integrations),this.selectedIntegration=this.integrations.find(e=>e.name===t.key),this.logger.log("[INTEGRATIONS]- onIntegrationSelect selectedIntegration",this.selectedIntegration),this.selectedIntegration||(this.selectedIntegration=this.initializeIntegration(t.key)),this.logger.log("[INTEGRATIONS]- onIntegrationSelect integration.category",t.category," INTEGRATIONS_CATEGORIES.CHANNEL ",p.gK.CHANNEL),t&&t.category===p.gK.CHANNEL){this.logger.log("[INTEGRATIONS]- OLLa "),this.integrationSelectedType="external",this.showInIframe=!0,this.logger.log("[INTEGRATIONS]- onIntegrationSelect integrationSelectedType",this.integrationSelectedType," showInIframe ",this.showInIframe),this.logger.log("[INTEGRATIONS]- availableApps ",this.availableApps);let e=this.availableApps.find(o=>o.channel===t.key);this.logger.log("[INTEGRATIONS]- app ",e),this.renderUrl=e.runURL}else this.showInIframe=!1;this.selectedIntegrationModel=t,this.changeRoute(t.key)}).catch(e=>{!1!==e&&this.logger.error("[INTEGRATIONS] err ",e),this.showInIframe=!1,this.integrationLocked=!0,this.plan_require=t.plan,this.integrationSelectedName=t.key,this.selectedIntegration=this.integrations.find(o=>o.name===t.key),this.selectedIntegration||(this.selectedIntegration=this.initializeIntegration(t.key)),this.selectedIntegrationModel=t,this.changeRoute(t.key),this.logger.log("available for plan ",t.plan),this.logger.log("available for plan ",t.plan)})}integrationUpdateEvent(t){this.logger.log("[INTEGRATION-COMP] data",t),this.integrationService.saveIntegration(t.integration).subscribe(e=>{this.logger.log("[INTEGRATION-COMP] Save integration result: ",e),this.reloadSelectedIntegration(t.integration),this.logger.log("Integration ",t.integration.name,"saved "," key verified ",t.isVerified),this.trackSavedIntegration(t.integration.name,t.isVerified),this.notify.showWidgetStyleUpdateNotification("Saved successfully",2,"done")},e=>{this.logger.error("[INTEGRATION-COMP] Save integration error: ",e)})}integrationDeletedEvent(t){this.presentDeleteConfirmModal(t)}reloadSelectedIntegration(t){this.getAllIntegrations().then(()=>{this.onIntegrationSelect(this.INTEGRATIONS.find(e=>e.key===t.name))})}presentDeleteConfirmModal(t){v.fire({title:this.translate.instant("AreYouSure"),text:this.translate.instant("TheIntegratonWillBeDeleted"),icon:"warning",showCloseButton:!1,showCancelButton:!0,showConfirmButton:!1,showDenyButton:!0,denyButtonText:this.translate.instant("Delete"),cancelButtonText:this.translate.instant("Cancel"),focusConfirm:!1,reverseButtons:!0}).then(e=>{e.isDenied?this.integrationService.deleteIntegration(t._id).subscribe(o=>{this.logger.debug("[INTEGRATION-COMP] Delete integration result: ",o),this.logger.log("Integration ",t.name,"deleted "),this.trackDeletedIntegration(t.name),v.fire({title:this.translate.instant("Done")+"!",text:this.translate.instant("TheIntegrationHasBeenDeleted"),icon:"success",showCloseButton:!1,showCancelButton:!1,confirmButtonText:this.translate.instant("Ok")}).then(a=>{this.logger.log("[INTEGRATION-COMP]  ok pressed")}),this.reloadSelectedIntegration(t)},o=>{this.logger.error("[INTEGRATION-COMP] Delete integration error: ",o),v.fire({title:this.translate.instant("Oops")+"!",text:this.translate.instant("AnErrorOccurreWhileDeletingTheIntegration"),icon:"error",showCloseButton:!1,showCancelButton:!1,confirmButtonText:this.translate.instant("Ok")})}):this.logger.log("[INTEGRATION-COMP] operation aborted")})}presentUpgradePlanModal(){this.logger.log("[INTEGRATION-COMP] apro la modale"),Xt({title:"Upgrade plan",text:"Upgrade your plan to get this feature",icon:"warning",buttons:["Cancel","Upgrade!"],dangerMode:!0}).then(t=>{t?(this.logger.log("[INTEGRATION-COMP] route vs plan management"),this.goToPricing()):this.logger.log("[INTEGRATION-COMP]  operation aborted")})}changeRoute(t){this.logger.log("[INTEGRATION-COMP] change route in ",t),this.router.navigate(["project/"+this.projectID+"/integrations/"],{queryParams:{name:t}})}goToPricing(){"owner"===this.USER_ROLE?this.router.navigate(["project/"+this.projectID+"/pricing"]):this.presentModalOnlyOwnerCanManageTheAccountPlan()}presentModalOnlyOwnerCanManageTheAccountPlan(){this.notify.presentModalOnlyOwnerCanManageTheAccountPlan(this.onlyOwnerCanManageTheAccountPlanMsg,this.learnMoreAboutDefaultRoles)}translateModalOnlyOwnerCanManageProjectAccount(){this.translate.get("OnlyUsersWithTheOwnerRoleCanManageTheAccountPlan").subscribe(t=>{this.onlyOwnerCanManageTheAccountPlanMsg=t}),this.translate.get("LearnMoreAboutDefaultRoles").subscribe(t=>{this.learnMoreAboutDefaultRoles=t})}initializeIntegration(t){return this.logger.log("[INTEGRATION-COMP] initializeIntegration key ",t,"INTEGRATIONS_KEYS ",p.RY),t===p.RY.OPENAI?new p.tr:t===p.RY.GOOGLE?new p.Tp:t===p.RY.ANTHROPIC?new p.fR:t===p.RY.GROQ?new p.W0:t===p.RY.COHERE?new p.Zn:t===p.RY.OLLAMA?new p.kA:t===p.RY.DEEPSEEK?new p.EG:t===p.RY.MAKE?new p.jn:t===p.RY.QAPLA?new p.ff:t===p.RY.HUBSPOT?new p.Xu:t===p.RY.CUSTOMERIO?new p.$j:t===p.RY.BREVO?new p.nM:t===p.RY.N8N?new p.pQ:void 0}manageProBadgeVisibility(t,e){"free"===this.profileType?(this.logger.log("[INTEGRATION-COMP] >>> CURRENT PLAN ",e.profile_name),!0===e.trial_expired?(this.logger.log("[INTEGRATION-COMP] USECASE PLAN ,",this.profile_name,"TRIAL EXPIRED ",e.trial_expired),"Sandbox"===t.plan&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.D&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.E&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.EE&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.F&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0)):!1===e.trial_expired&&(this.logger.log("[INTEGRATION-COMP] USECASE PLAN ,",this.profile_name,"TRIAL EXPIRED ",e.trial_expired),"Sandbox"===t.plan&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.D&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.E&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.EE&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.F&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0))):"payment"===this.profileType&&(!0===this.subscriptionIsActive?(this.logger.log("[INTEGRATION-COMP] USE CASE PROFILE TYPE ",this.profileType," SUB ACTIVE ",this.subscriptionIsActive),e.profile_name===l.II.A||e.profile_name===l.II.D?(this.logger.log("[INTEGRATION-COMP] >>> CURRENT PLAN ",e.profile_name),t.plan===l.II.D&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.E&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.EE&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.F&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0)):e.profile_name===l.II.B||e.profile_name===l.II.E||e.profile_name===l.II.EE?(this.logger.log("[INTEGRATION-COMP] >>> CURRENT PLAN ",e.profile_name),t.plan===l.II.D&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.E&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.EE&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.F&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0)):(e.profile_name===l.II.C||e.profile_name===l.II.F)&&(this.logger.log("[INTEGRATION-COMP] >>> CURRENT PLAN ",e.profile_name),t.plan===l.II.D&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.E&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.EE&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1),t.plan===l.II.F&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!1))):!1===this.subscriptionIsActive&&(t.plan===l.II.D&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.E&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0),t.plan===l.II.F&&(this.logger.log("[INTEGRATION-COMP] INTEGRATION NAME ",t.name,"  AVAILABLE FOM ",t.plan," PLAN "),t.displayBadge=!0))),this.logger.log("[INTEGRATION-COMP] INTEGRATIONS ",this.INTEGRATIONS)}checkPlan(t){return this.logger.log("INTEGRATIONS_KEYS checkPlan profile_name: "+this.profile_name+" integration_plan: "+t),new Promise((e,o)=>{("free"===this.profile_name&&this.trialExpired||"Sandbox"===this.profile_name&&this.trialExpired)&&("Sandbox"!==t&&o(!1),e(!0)),"free"===this.profile_name&&!this.trialExpired||"Sandbox"===this.profile_name&&!this.trialExpired?(t===l.II.F&&o(!1),e(!0)):this.profile_name===l.II.A&&this.subscriptionIsActive||this.profile_name===l.II.D&&this.subscriptionIsActive?((t===l.II.E||t===l.II.EE||t===l.II.F)&&o(!1),e(!0)):this.profile_name===l.II.A&&!this.subscriptionIsActive||this.profile_name===l.II.D&&!this.subscriptionIsActive?("Sandbox"!==t&&o(!1),e(!0)):this.profile_name===l.II.B&&this.subscriptionIsActive||this.profile_name===l.II.E&&this.subscriptionIsActive||this.profile_name===l.II.EE&&this.subscriptionIsActive?(t===l.II.F&&o(!1),e(!0)):this.profile_name===l.II.B&&!this.subscriptionIsActive||this.profile_name===l.II.E&&!this.subscriptionIsActive||this.profile_name===l.II.EE&&!this.subscriptionIsActive||this.profile_name===l.II.C&&!this.subscriptionIsActive||this.profile_name===l.II.F&&!this.subscriptionIsActive?("Sandbox"!==t&&o(!1),e(!0)):(this.logger.log("Custom plan?"),e(!0))})}manageAppVisibility(t){if(t&&t.customization){if(!1===t.customization[this.INT_KEYS.WHATSAPP]){let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.WHATSAPP);-1!=o&&this.INTEGRATIONS.splice(o,1)}if(!1===t.customization[this.INT_KEYS.TELEGRAM]){let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.TELEGRAM);-1!=o&&this.INTEGRATIONS.splice(o,1)}if(!1===t.customization[this.INT_KEYS.MESSENGER]){let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.MESSENGER);-1!=o&&this.INTEGRATIONS.splice(o,1)}if(!1===t.customization[this.INT_KEYS.TWILIO_SMS]){let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.TWILIO_SMS);-1!=o&&this.INTEGRATIONS.splice(o,1)}if(!t.customization[this.INT_KEYS.VXML_VOICE]||!1===t.customization[this.INT_KEYS.VXML_VOICE]){let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.VXML_VOICE);-1!=o&&this.INTEGRATIONS.splice(o,1)}if(t.customization[this.INT_KEYS.VXML_VOICE]&&!0===t.customization[this.INT_KEYS.VXML_VOICE]){this.logger.log("[INTEGRATIONS] manageAppVisibility VXML_VOICE ");let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.VXML_VOICE);if(-1!=o)this.logger.log("VXML_VOICE index A",o);else if(-1==o){this.logger.log("VXML_VOICE index B",o);const a=p.hd.find(s=>s.key===this.INT_KEYS.VXML_VOICE);this.logger.log("VXMLVoiceObjct",a),this.INTEGRATIONS.push(a)}}if(!t.customization[this.INT_KEYS.TWILIO_VOICE]||!1===t.customization[this.INT_KEYS.TWILIO_VOICE]){let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.TWILIO_VOICE);-1!=o&&this.INTEGRATIONS.splice(o,1)}if(t.customization[this.INT_KEYS.TWILIO_VOICE]&&!0===t.customization[this.INT_KEYS.TWILIO_VOICE]){this.logger.log("[INTEGRATIONS] manageAppVisibility TWILIO_VOICE ");let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.TWILIO_VOICE);if(-1!=o)this.logger.log("TWILIO_VOICE index A",o);else if(-1==o){this.logger.log("TWILIO_VOICE index B",o);const a=p.hd.find(s=>s.key===this.INT_KEYS.TWILIO_VOICE);this.logger.log("twilioVoiceObjct",a),this.INTEGRATIONS.push(a)}}if(-1===this.INTEGRATIONS.findIndex(o=>o.category===p.gK.CHANNEL)){let o=this.CATEGORIES.findIndex(a=>a.type===p.gK.CHANNEL);-1!=o&&this.CATEGORIES.splice(o,1)}}else{let e=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.VXML_VOICE);-1!=e&&this.INTEGRATIONS.splice(e,1);let o=this.INTEGRATIONS.findIndex(a=>a.key===this.INT_KEYS.TWILIO_VOICE);-1!=o&&this.INTEGRATIONS.splice(o,1)}this.integrationListReady=!0}trackSavedIntegration(t,e){this.logger.log("[INTEGRATIONS] trackSavedIntegration integrationName ",t),this.logger.log("[INTEGRATIONS] trackSavedIntegration integrationisVerified ",e);let o="";if(this.user.firstname&&this.user.lastname?o=this.user.firstname+" "+this.user.lastname:this.user.firstname&&!this.user.lastname&&(o=this.user.firstname),!(0,n.X6Q)()){try{window.analytics.track("Integration saved",{type:"organic",username:o,email:this.user.email,userId:this.user._id,integration:t,apiKeyVerified:e,action:"save"})}catch(a){}try{window.analytics.identify(this.user._id,{username:o,email:this.user.email,logins:5})}catch(a){}try{window.analytics.group(this.project._id,{name:this.project.name,plan:this.profile_name})}catch(a){}}}trackDeletedIntegration(t){this.logger.log("[INTEGRATIONS] trackDeletedIntegrations integrationName ",t);let e="";if(this.user.firstname&&this.user.lastname?e=this.user.firstname+" "+this.user.lastname:this.user.firstname&&!this.user.lastname&&(e=this.user.firstname),!(0,n.X6Q)()){try{window.analytics.track("Integration deleted",{type:"organic",username:e,email:this.user.email,userId:this.user._id,integration:t,action:"delete"})}catch(o){}try{window.analytics.identify(this.user._id,{username:e,email:this.user.email,logins:5})}catch(o){}try{window.analytics.group(this.project._id,{name:this.project.name,plan:this.profile_name})}catch(o){}}}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(T.e),n.Y36(L.f),n.Y36(f),n.Y36(S.c),n.Y36(h.m),n.Y36(M.F0),n.Y36(M.gz),n.Y36(_.sK),n.Y36(V.c),n.Y36(N.E),n.Y36(N.E),n.Y36(R.I))},i.\u0275cmp=n.Xpm({type:i,selectors:[["appdashboard-integrations"]],decls:16,vars:18,consts:[[1,"navbar-brand","navbar-brand-sidebar-settings",3,"ngStyle","ngClass"],[1,"material-icons"],[4,"ngIf"],[1,"main-content",2,"padding-top","0px","padding-left","0px","padding-right","5px"],[1,"page-title--sidebar-settings",3,"ngClass"],[1,"container-fluid",2,"padding-right","5px","padding-left","10px"],[1,"content-wpr",2,"display","flex"],[1,"teplate-content",2,"flex","1 1 auto","margin","0 20px"],[1,"integrations-content"],["class","list",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"list"],[4,"ngFor","ngForOf"],["expanded","true","hideToggle","",1,"custom-expansion-panel"],[1,"disable_ripple"],["class","element",3,"ngClass","click",4,"ngIf"],[1,"element",3,"ngClass","click"],[3,"src","alt"],[1,"integration-name-and-badge"],["class","pro-badge",4,"ngIf"],[1,"pro-badge"],[1,"spinner-container"],[2,"width","100% !important","display","flex","align-items","center"],["class","menu-container",4,"ngIf"],["class","empty-menu-container",4,"ngIf"],[1,"menu-container"],[3,"integrationModel",4,"ngIf"],["class","integration-outer-container",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[3,"integrationModel"],[1,"integration-outer-container"],[3,"integration","onUpdateIntegration","onDeleteIntegration",4,"ngIf"],[3,"integration","renderUrl","id_project","onUpdateIntegration","onDeleteIntegration",4,"ngIf"],[3,"integration","onUpdateIntegration","onDeleteIntegration"],[3,"integration","renderUrl","id_project","onUpdateIntegration","onDeleteIntegration"],[2,"width","100%"],[1,"int-lock-container"],["src","assets/img/int/upgrade-icon.svg","alt","Upgrade Plan"],["class","upgrade-title",4,"ngIf"],["class","upgrade-subtitle",4,"ngIf"],["class","upgrade-subtitle",3,"innerHTML",4,"ngIf"],[1,"custom-upgrade-primary-button",3,"click"],[1,"upgrade-title"],[1,"upgrade-subtitle"],[1,"upgrade-subtitle",3,"innerHTML"],[1,"empty-menu-container"],["src","assets/img/int/getstarted.svg","alt","Get started",1,"getstarted-icon"],[1,"no-integration-selected"]],template:function(t,e){1&t&&(n.TgZ(0,"span",0)(1,"i",1),n._uU(2,"settings"),n.qZA(),n.YNc(3,ut,3,3,"span",2),n.qZA(),n.TgZ(4,"div",3)(5,"div",4),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"div",5)(9,"div",6),n._UZ(10,"appdashboard-settings-sidebar"),n.TgZ(11,"div",7)(12,"div",8),n.YNc(13,xt,2,1,"div",9),n.YNc(14,kt,2,0,"div",10),n.YNc(15,Ft,3,2,"ng-container",2),n.qZA()()()()()),2&t&&(n.Q6J("ngStyle",n.VKq(10,Ht,!0===e.isChromeVerGreaterThan100?"-64px":"6px"))("ngClass",n.WLB(12,jt,e.IS_OPEN_SETTINGS_SIDEBAR,!e.IS_OPEN_SETTINGS_SIDEBAR)),n.xp6(3),n.Q6J("ngIf",e.IS_OPEN_SETTINGS_SIDEBAR),n.xp6(2),n.Q6J("ngClass",n.WLB(15,zt,e.IS_OPEN_SETTINGS_SIDEBAR,!e.IS_OPEN_SETTINGS_SIDEBAR)),n.xp6(1),n.hij(" ",n.lcZ(7,8,"Integrations")," "),n.xp6(7),n.Q6J("ngIf",e.integrationListReady),n.xp6(1),n.Q6J("ngIf",e.showSpinner),n.xp6(1),n.Q6J("ngIf",!e.showSpinner))},dependencies:[d.mk,d.sg,d.O5,d.PC,O.pp,O.ib,O.yz,O.yK,q.S,P.g,J,H,tn,en,ln,pn,fn,On,Mn,vn,Un,Jn,Hn,tt,at,dt,_.X$],styles:['.integrations-content[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif !important;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n}\n.spinner-container[_ngcontent-%COMP%] {\n  width: 100%;\n  height: calc(100vh - 160px);\n  display: flex;\n}\n[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 0px;\n}\n.getstarted-icon[_ngcontent-%COMP%] {\n  width: 500px;\n  height: auto;\n}\n.list[_ngcontent-%COMP%] {\n  width: 220px;\n  min-width: 220px;\n  height: calc(100vh - 155px);\n  padding: 0px 10px;\n  background-color: white;\n  border-radius: 8px;\n  border: solid 1px #e9e9e9;\n  margin-right: 16px;\n  overflow: hidden;\n  overflow-y: scroll;\n}\n.list[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 3px;\n}\n.list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px;\n  margin: 4px;\n  border-radius: 8px;\n}\n.list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n.list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  margin-right: 8px;\n  border-radius: 4px;\n  width: 20px;\n  height: 20px;\n}\n.list[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n  box-shadow: 0 0 5px rgba(128, 128, 128, 0.368627451);\n}\n.list[_ngcontent-%COMP%]   .element-selected[_ngcontent-%COMP%] {\n  background-color: aliceblue;\n  border: solid 1px #4e96d4;\n}\n.custom-expansion-panel[_ngcontent-%COMP%] {\n  background-color: transparent;\n  box-shadow: none;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     {\n  background-color: transparent;\n  box-shadow: none;\n  font-family: "Poppins" !important;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header {\n  padding: 0;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header:hover {\n  background-color: transparent;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header-title {\n  font-weight: 500;\n  font-size: 14px;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header-description, mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-indicator:after {\n  margin: 5px;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header.mat-expanded {\n  height: 48px;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .disable_ripple:hover {\n  background: transparent !important;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body {\n  padding: 0 !important;\n}\nmat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body {\n  padding: 0 !important;\n}\n.menu-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.empty-menu-container[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 500px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 60px;\n}\n.empty-menu-container[_ngcontent-%COMP%]   p.no-integration-selected[_ngcontent-%COMP%] {\n  font-size: 16px;\n  margin-bottom: 30px;\n  max-width: 800px;\n  text-align: center;\n}\n.integration-outer-container[_ngcontent-%COMP%] {\n  background-color: white;\n  border-radius: 8px;\n  border: solid 1px #e9e9e9;\n  width: 100%;\n  min-height: 150px;\n}\n.pro-badge[_ngcontent-%COMP%] {\n  font-weight: 400;\n  background: linear-gradient(45deg, #3167e2, #a736ff);\n  margin-left: 10px;\n  height: 16px;\n  color: white;\n  padding: 0px 6px;\n  border-radius: 5px;\n  font-weight: 400;\n  font-size: 9px;\n  letter-spacing: 1px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.int-lock-container[_ngcontent-%COMP%] {\n  width: 100%;\n  background-color: transparent;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 225px);\n}\n.int-lock-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 300px;\n  height: auto;\n  margin: 50px 0px;\n}\n.int-lock-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n.int-lock-container[_ngcontent-%COMP%]   p.upgrade-title[_ngcontent-%COMP%] {\n  font-size: 28px;\n  font-weight: 500;\n  margin-bottom: 20px;\n}\n.int-lock-container[_ngcontent-%COMP%]   p.upgrade-subtitle[_ngcontent-%COMP%] {\n  font-size: 16px;\n  margin-bottom: 30px;\n  max-width: 800px;\n  text-align: center;\n}\n.custom-upgrade-primary-button[_ngcontent-%COMP%] {\n  color: white;\n  min-width: 80px;\n  background: linear-gradient(45deg, #3167e2, #3167e2, #a736ff);\n  border: none;\n  border-radius: 6px;\n  height: 30px;\n  font-weight: 500;\n  padding: 0px 8px;\n  opacity: 0.8;\n}\n.custom-upgrade-primary-button[_ngcontent-%COMP%]:hover {\n  opacity: 1;\n}\n.integration-name-and-badge[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}']}),i})();var Wt=g(69284),ne=g(31449);const te=[{path:"",component:$t}];let ee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[M.Bz.forChild(te),d.ez,O.To,_.aw,Wt.i,ne.m,m.u5]}),i})()}}]);