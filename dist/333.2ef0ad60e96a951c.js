(self.webpackChunkchat21=self.webpackChunkchat21||[]).push([[333],{10333:(b,S,c)=>{"use strict";c.r(S),c.d(S,{WsRequestsListModule:()=>vl});var r=c(69808),e=c(5e3),p=c(62801),u=c(78446),P=c(99874),N=c(87341),_=c(7623),h=c(44034),x=c(59060),v=c(94961),I=c(65834),w=c(69089),Y=c(26930),$=c(41746),H=c(45148),D=c(8929),C=c(7625),z=c(43489),re=c(20353);const K={leading:!0,trailing:!1};class B{constructor(o,t,i,s){this.duration=o,this.scheduler=t,this.leading=i,this.trailing=s}call(o,t){return t.subscribe(new X(o,this.duration,this.scheduler,this.leading,this.trailing))}}class X extends z.L{constructor(o,t,i,s,l){super(o),this.duration=t,this.scheduler=i,this.leading=s,this.trailing=l,this._hasTrailingValue=!1,this._trailingValue=null}_next(o){this.throttled?this.trailing&&(this._trailingValue=o,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Q,this.duration,{subscriber:this})),this.leading?this.destination.next(o):this.trailing&&(this._trailingValue=o,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const o=this.throttled;o&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),o.unsubscribe(),this.remove(o),this.throttled=null)}}function Q(n){const{subscriber:o}=n;o.clearThrottle()}var A=c(84250),J=c(19444),ee=c(30407),te=c(354),ne=c(27544),y=c(48616),se=c(21805),q=c(54132),U=c(51062),j=c(87238),W=c(93075),Z=c(24376),de=c(7069),Oe=c(17744),he=c(92181),me=c(93732),ce=c(90158),fe=c(30091),Se=c(78558),pe=c(28348);function Le(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function Ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToServedNTR())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MoreInQueque")," "))}function Me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",19,20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.archiveSelected())}),e.ALo(2,"translate"),e.TgZ(3,"span",21),e._uU(4," archive "),e.qZA()()}2&n&&e.s9C("matTooltip",e.lcZ(2,1,"VisitorsPage.Resolve"))}function Pe(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",22)(2,"p",23),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"NoRequests")," "))}function Ne(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",65,20),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"RequestMsgsPage.ConversationAssignedToYou")))}function ye(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",66,20),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"RequestMsgsPage.TicketAssignedToYou")))}function We(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.goToRequestMsgs(null==s?null:s.request_id))}),e.YNc(2,Ne,4,3,"span",5),e.YNc(3,ye,4,3,"span",5),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.subject)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.subject)}}function Qe(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",67,20),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"RequestMsgsPage.RequestServedBy")))}function ke(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",68,20),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"RequestMsgsPage.InternalRequestServedBy")))}function De(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.goToRequestMsgs(null==s?null:s.request_id))}),e.YNc(2,Qe,4,3,"span",5),e.YNc(3,ke,4,3,"span",5),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.subject)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.subject)}}function Je(n,o){if(1&n&&(e.TgZ(0,"span",69,20),e.ALo(2,"translate"),e._uU(3),e.qZA()),2&n){const t=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(2,2,"TicketId")),e.xp6(3),e.hij(" #",null==t?null:t.ticket_id," ")}}function je(n,o){1&n&&(e.TgZ(0,"span",83),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"RequestMsgsPage.ConversationAssignedToYou")," "))}function Ye(n,o){1&n&&(e.TgZ(0,"span",83),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"RequestMsgsPage.TicketAssignedToYou")," "))}function He(n,o){1&n&&(e.TgZ(0,"span",84),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"RequestMsgsPage.RequestServedBy")," "))}function Be(n,o){1&n&&(e.TgZ(0,"span",84),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"RequestMsgsPage.InternalRequestServedBy")," "))}function Ve(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Chat "),e.qZA())}function Fe(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Email "),e.qZA())}function Ge(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Form "),e.qZA())}function $e(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Telegram "),e.qZA())}function ze(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Facebook Messenger "),e.qZA())}function Ke(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," WhatsApp "),e.qZA())}function Xe(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Voice "),e.qZA())}function et(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Voice "),e.qZA())}function tt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," SMS "),e.qZA())}function nt(n,o){if(1&n&&(e.TgZ(0,"p",85)(1,"span",75),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"Subject"),":"),e.xp6(2),e.hij(" ",null==t?null:t.subject," ")}}function st(n,o){if(1&n&&(e.TgZ(0,"div",86)(1,"p",87),e._uU(2),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"p",88),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",(null==t||null==t.msgsArray[0]||null==t.msgsArray[0].senderFullname?null:t.msgsArray[0].senderFullname.length)>40?e.Dn7(3,2,null==t||null==t.msgsArray[0]?null:t.msgsArray[0].senderFullname,0,37)+"...":null==t||null==t.msgsArray[0]?null:t.msgsArray[0].senderFullname," "),e.xp6(3),e.hij(" ",e.xi3(6,6,null==t||null==t.msgsArray[0]?null:t.msgsArray[0].createdAt,"dd/MM/yyyy")," ")}}function it(n,o){if(1&n&&(e._UZ(0,"p",89),e.ALo(1,"marked"),e.ALo(2,"htmlEntitiesEncode")),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",e.lcZ(1,1,e.lcZ(2,3,null==t||null==t.msgsArray[0]?null:t.msgsArray[0].text)),e.oJD)}}function ot(n,o){1&n&&(e.TgZ(0,"div")(1,"span",90),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"ProcessingNoDot")," "))}function lt(n,o){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,je,3,3,"span",71),e.YNc(2,Ye,3,3,"span",71),e.YNc(3,He,3,3,"span",72),e.YNc(4,Be,3,3,"span",72),e.TgZ(5,"span",73),e._uU(6),e.qZA(),e.TgZ(7,"span",74)(8,"span",75),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"span",76)(14,"span",75),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Ve,2,0,"span",5),e.YNc(18,Fe,2,0,"span",5),e.YNc(19,Ge,2,0,"span",5),e.YNc(20,$e,2,0,"span",5),e.YNc(21,ze,2,0,"span",5),e.YNc(22,Ke,2,0,"span",5),e.YNc(23,Xe,2,0,"span",5),e.YNc(24,et,2,0,"span",5),e.YNc(25,tt,2,0,"span",5),e.qZA()(),e.YNc(26,nt,5,4,"p",77),e._UZ(27,"div",78),e.ALo(28,"marked"),e.ALo(29,"htmlEntitiesEncode"),e.TgZ(30,"span")(31,"p",79),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"hr",80),e.YNc(35,st,7,9,"div",81),e.YNc(36,it,3,5,"p",82),e.YNc(37,ot,4,3,"div",5),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",200==(null==t?null:t.status)&&!0===(null==t?null:t.currentUserIsJoined)&&!(null!=t&&t.subject)),e.xp6(1),e.Q6J("ngIf",200==(null==t?null:t.status)&&!0===(null==t?null:t.currentUserIsJoined)&&(null==t?null:t.subject)),e.xp6(1),e.Q6J("ngIf",!(200!=(null==t?null:t.status)||null!=t&&t.currentUserIsJoined||null!=t&&t.subject)),e.xp6(1),e.Q6J("ngIf",200==(null==t?null:t.status)&&!(null!=t&&t.currentUserIsJoined)&&(null==t?null:t.subject)),e.xp6(2),e.hij("#",null==t?null:t.ticket_id,""),e.xp6(3),e.hij(" ",e.lcZ(10,23,"Priority"),":"),e.xp6(2),e.hij(" ",e.lcZ(12,25,null==t?null:t.priority)," "),e.xp6(4),e.hij(" ",e.lcZ(16,27,"MessageChannel"),":"),e.xp6(2),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.CHAT21),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.EMAIL),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.FORM),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.TELEGRAM),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.MESSANGER),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.WHATSAPP),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_VXML),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.SMS_TWILIO),e.xp6(1),e.Q6J("ngIf",null==t?null:t.subject),e.xp6(1),e.Q6J("innerHTML",e.lcZ(28,29,e.lcZ(29,31,null==t?null:t.first_text)),e.oJD),e.xp6(5),e.Oqu(e.lcZ(33,33,"MostRecentComment")),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.msgsArray?null:t.msgsArray.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.msgsArray?null:t.msgsArray.length)>0),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.msgsArray&&t.msgsArray.length))}}const Te=function(n){return{fill:n}};function rt(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",96),e.O4$(),e.TgZ(2,"svg",97),e._UZ(3,"path",98),e.qZA(),e.kcU(),e.TgZ(4,"span",99),e._uU(5),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngStyle",e.VKq(2,Te,t.color)),e.xp6(2),e.hij(" ",t.tag," ")}}function at(n,o){if(1&n&&(e.TgZ(0,"div",95),e.YNc(1,rt,6,4,"div",5),e.qZA()),2&n){const t=o.index;e.xp6(1),e.Q6J("ngIf",t<2)}}function ct(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",100)(1,"a",101),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(2).$implicit,a=e.oxw();return s.stopPropagation(),e.KtG(a.displayMoreTags(null==l?null:l.request_id))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("id","more_tags_btn_for_request_"+(null==t?null:t.request_id)),e.xp6(2),e.AsE("... ",(null==t||null==t.tags?null:t.tags.length)-2," ",e.lcZ(3,3,"more")," ")}}function pt(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",96),e.O4$(),e.TgZ(2,"svg",97),e._UZ(3,"path",98),e.qZA(),e.kcU(),e.TgZ(4,"span",99),e._uU(5),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngStyle",e.VKq(2,Te,t.color)),e.xp6(2),e.hij(" ",t.tag," ")}}function ut(n,o){if(1&n&&(e.TgZ(0,"div",95),e.YNc(1,pt,6,4,"div",5),e.qZA()),2&n){const t=o.index;e.xp6(1),e.Q6J("ngIf",t>=2)}}function _t(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",102),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(2).$implicit,a=e.oxw();return s.stopPropagation(),e.KtG(a.displayLessTag(null==l?null:l.request_id))}),e.YNc(1,ut,2,1,"div",92),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("id","more_tags_for_request_"+(null==t?null:t.request_id)),e.xp6(1),e.Q6J("ngForOf",null==t?null:t.tags)}}function gt(n,o){if(1&n&&(e.TgZ(0,"section",91),e.YNc(1,at,2,1,"div",92),e.YNc(2,ct,4,5,"div",93),e.YNc(3,_t,2,2,"div",94),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.tags),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.tags?null:t.tags.length)>2),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.tags?null:t.tags.length)>2)}}function dt(n,o){1&n&&(e.TgZ(0,"span",105,20),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"img",106),e.qZA()),2&n&&e.hYB("matTooltip","",e.lcZ(2,2,"Priority"),": ",e.lcZ(3,4,"high"),"")}function ht(n,o){1&n&&(e.TgZ(0,"span",105,20),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"img",107),e.qZA()),2&n&&e.hYB("matTooltip","",e.lcZ(2,2,"Priority"),": ",e.lcZ(3,4,"urgent"),"")}function mt(n,o){1&n&&(e.TgZ(0,"span",105,20),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"img",108),e.qZA()),2&n&&e.hYB("matTooltip","",e.lcZ(2,2,"Priority"),": ",e.lcZ(3,4,"low"),"")}function ft(n,o){if(1&n&&(e.TgZ(0,"div",103),e.YNc(1,dt,5,6,"span",104),e.YNc(2,ht,5,6,"span",104),e.YNc(3,mt,5,6,"span",104),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","high"===(null==t?null:t.priority)),e.xp6(1),e.Q6J("ngIf","urgent"===(null==t?null:t.priority)),e.xp6(1),e.Q6J("ngIf","low"===(null==t?null:t.priority))}}function St(n,o){1&n&&(e.TgZ(0,"span",113),e._UZ(1,"img",114),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"Telegram "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function Tt(n,o){1&n&&(e.TgZ(0,"span",113),e._UZ(1,"img",117),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"Voice "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function xt(n,o){1&n&&(e.TgZ(0,"span",113),e._UZ(1,"img",118),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"SMS "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function Et(n,o){1&n&&(e.TgZ(0,"span",113),e._UZ(1,"img",119),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"WhatsApp "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function vt(n,o){1&n&&(e.TgZ(0,"span",113),e._UZ(1,"img",120),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"Facebook Messenger "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function Rt(n,o){1&n&&(e.TgZ(0,"span",121),e._UZ(1,"img",122),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"Email "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function bt(n,o){1&n&&(e.TgZ(0,"span",123),e._UZ(1,"img",124),e.TgZ(2,"span",115)(3,"span",116),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",116),e._uU(7,"Form "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}const Ct=function(n){return{"channel-wpr-padding-left":n}};function At(n,o){if(1&n&&(e.TgZ(0,"div",109),e.YNc(1,St,9,3,"span",110),e.YNc(2,Tt,9,3,"span",110),e.YNc(3,xt,9,3,"span",110),e.YNc(4,Et,9,3,"span",110),e.YNc(5,vt,9,3,"span",110),e.YNc(6,Rt,9,3,"span",111),e.YNc(7,bt,9,3,"span",112),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(8,Ct,"medium"!==(null==t?null:t.priority))),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.TELEGRAM),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.SMS_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.WHATSAPP),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.MESSANGER),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.EMAIL),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.FORM)}}function qt(n,o){if(1&n&&(e.TgZ(0,"span",125),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.requester_fullname_initial," ")}}function It(n,o){1&n&&(e.TgZ(0,"span",126),e._uU(1," call "),e.qZA())}function Ut(n,o){1&n&&(e.TgZ(0,"span",126),e._uU(1," call "),e.qZA())}function wt(n,o){if(1&n&&(e.TgZ(0,"span",125),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.requester_fullname_initial," ")}}function Ot(n,o){1&n&&(e.TgZ(0,"div",127),e.O4$(),e.TgZ(1,"svg",128)(2,"style",129),e._uU(3," .st0_UserVerified { fill: none; } .st1_UserVerified { fill: #FFFFFF; } .st2_UserVerified { fill: #18BDF7; } "),e.qZA(),e._UZ(4,"path",130)(5,"path",131)(6,"path",132),e.qZA()())}const Lt=function(n){return{"requester_fullname_initial-undefined":n}};function Zt(n,o){if(1&n&&(e.TgZ(0,"span",24),e._uU(1," N/A "),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Lt,!(null!=t&&null!=t.lead&&t.lead.fullname)))}}function Mt(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t||null==t.lead?null:t.lead.email," ")}}function Pt(n,o){if(1&n&&(e.TgZ(0,"span",133),e.YNc(1,Mt,2,1,"span",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.lead?null:t.lead.email)}}function Nt(n,o){if(1&n&&(e.TgZ(0,"span",135,20),e.ALo(2,"translate"),e._uU(3),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.s9C("matTooltip",e.lcZ(2,2,"RequesterPhoneNumber")),e.xp6(3),e.hij(" ",null==t||null==t.lead?null:t.lead.phone," ")}}function yt(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,Nt,4,4,"span",134),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.lead?null:t.lead.phone)!==(null==t||null==t.lead?null:t.lead.fullname))}}function Wt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",138),e.qZA())}function Qt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",139),e.qZA())}function kt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",140),e.qZA())}function Dt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",141),e.qZA())}function Jt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",142),e.qZA())}function jt(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.ua_os," ")}}function Yt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," n/a "),e.qZA())}function Ht(n,o){if(1&n&&(e.TgZ(0,"span",136),e.YNc(1,Wt,2,0,"span",5),e.YNc(2,Qt,2,0,"span",5),e.YNc(3,kt,2,0,"span",5),e.YNc(4,Dt,2,0,"span",5),e.YNc(5,Jt,2,0,"span",5),e.TgZ(6,"span",137),e.YNc(7,jt,2,1,"span",5),e.YNc(8,Yt,2,0,"span",5),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Android"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Mac OS"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("iOS"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Windows"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Ubuntu"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Android"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Mac OS"))||-1!==(null==t?null:t.ua_os.indexOf("iOS"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Windows"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Ubuntu"))),e.xp6(2),e.Q6J("ngIf","undefined undefined"!==(null==t?null:t.ua_os)),e.xp6(1),e.Q6J("ngIf","undefined undefined"===(null==t?null:t.ua_os))}}function Bt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",143),e.qZA())}function Vt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",144),e.qZA())}function Ft(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",145),e.qZA())}function Gt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",146),e.qZA())}function $t(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",147),e.qZA())}function zt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",148),e.qZA())}function Kt(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",149),e.qZA())}function Xt(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.ua_browser," ")}}function en(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Unavailable")," "))}function tn(n,o){if(1&n&&(e.TgZ(0,"span",136),e.YNc(1,Bt,2,0,"span",5),e.YNc(2,Vt,2,0,"span",5),e.YNc(3,Ft,2,0,"span",5),e.YNc(4,Gt,2,0,"span",5),e.YNc(5,$t,2,0,"span",5),e.YNc(6,zt,2,0,"span",5),e.YNc(7,Kt,2,0,"span",5),e.TgZ(8,"span",137),e.YNc(9,Xt,2,1,"span",5),e.YNc(10,en,3,3,"span",5),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",-1===(null==t?null:t.ua_browser.indexOf("Chrome"))&&-1===(null==t?null:t.ua_browser.indexOf("Chromium"))&&-1===(null==t?null:t.ua_browser.indexOf("Firefox"))&&-1===(null==t?null:t.ua_browser.indexOf("Edge"))&&-1===(null==t?null:t.ua_browser.indexOf("Opera"))&&-1===(null==t?null:t.ua_browser.indexOf("Safari"))&&-1===(null==t?null:t.ua_browser.indexOf("IE"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Chrome"))||-1!==(null==t?null:t.ua_browser.indexOf("Chromium"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Firefox"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Edge"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Opera"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Safari"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("IE"))),e.xp6(2),e.Q6J("ngIf","undefined undefined"!==(null==t?null:t.ua_browser)),e.xp6(1),e.Q6J("ngIf","undefined undefined"===(null==t?null:t.ua_browser))}}function nn(n,o){if(1&n&&(e.TgZ(0,"p",56),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.dept?null:t.dept.name," ")}}function sn(n,o){1&n&&(e.TgZ(0,"p",56),e._uU(1," N/A "),e.qZA())}function on(n,o){if(1&n&&e._UZ(0,"img",155),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==t?null:t._id,"%2Fthumb_photo.jpg?alt=media",e.LSH)}}function ln(n,o){if(1&n&&e._UZ(0,"img",155),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==t?null:t._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH)}}function rn(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",158),e.qZA()())}function an(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",159),e.qZA()())}function cn(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",160),e.qZA()())}function pn(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",161),e.qZA()())}function un(n,o){if(1&n&&e._UZ(0,"img",166),2&n){const t=e.oxw(6);e.Q6J("src",t.botLogo,e.LSH)}}function _n(n,o){if(1&n&&e._UZ(0,"img",166),2&n){const t=e.oxw(6);e.Q6J("src",t.botLogo,e.LSH)}}function gn(n,o){1&n&&e._UZ(0,"img",167)}function dn(n,o){1&n&&e._UZ(0,"img",168)}function hn(n,o){1&n&&e._UZ(0,"img",169)}function mn(n,o){if(1&n&&(e.TgZ(0,"div",156)(1,"div",157),e.YNc(2,un,1,1,"img",162),e.YNc(3,_n,1,1,"img",162),e.YNc(4,gn,1,0,"img",163),e.YNc(5,dn,1,0,"img",164),e.YNc(6,hn,1,0,"img",165),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&"chatbot"===(null==t?null:t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&"copilot"===(null==t?null:t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&"webhook"===(null==t?null:t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&("voice"===(null==t?null:t.subtype)||"voice_twilio"===(null==t?null:t.subtype)))}}function fn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.goToBotProfile(s,null==s?null:s._id,null==s?null:s.type))}),e.YNc(2,on,1,2,"img",152),e.YNc(3,ln,1,2,"img",152),e.TgZ(4,"span",153),e._uU(5),e.qZA(),e.YNc(6,rn,3,0,"div",154),e.YNc(7,an,3,0,"div",154),e.YNc(8,cn,3,0,"div",154),e.YNc(9,pn,3,0,"div",154),e.YNc(10,mn,7,5,"div",154),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf","internal"===t.type),e.xp6(1),e.Q6J("ngIf","external"===t.type),e.xp6(1),e.Q6J("ngIf","dialogflow"===t.type),e.xp6(1),e.Q6J("ngIf","rasa"===t.type),e.xp6(1),e.Q6J("ngIf","tilebot"===t.type)}}function Sn(n,o){if(1&n&&e._UZ(0,"img",172),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==t?null:t._id,"%2Fthumb_photo.jpg?alt=media",e.LSH)}}function Tn(n,o){if(1&n&&e._UZ(0,"img",172),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==t?null:t._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH)}}function xn(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,null==t?null:t.lastname,0,1),". ")}}const En=function(n){return{"current-user-member":n}};function vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.goToAgentProfile(null==s?null:s._id))}),e.YNc(2,Sn,1,2,"img",170),e.YNc(3,Tn,1,2,"img",170),e.TgZ(4,"span",171),e._uU(5),e.YNc(6,xn,3,5,"span",5),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngClass",e.VKq(5,En,t._id===i.currentUserID)),e.xp6(1),e.hij(" ",null==t?null:t.firstname," "),e.xp6(1),e.Q6J("ngIf",null==t?null:t.lastname)}}function Rn(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,fn,11,8,"span",5),e.YNc(2,vn,7,7,"span",5),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!0===t.is_bot),e.xp6(1),e.Q6J("ngIf",!1===t.is_bot)}}function bn(n,o){if(1&n&&(e.TgZ(0,"td")(1,"div",150),e.YNc(2,Rn,3,2,"div",151),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.participanting_Agents)}}const ue=function(n){return{"current-user-member-border":n}};function Cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",182),e.NdJ("error",function(s){e.CHM(t);const l=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.updateUrl(s,l))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==t?null:t._id,"%2Fthumb_photo.jpg?alt=media",e.LSH),e.Q6J("ngClass",e.VKq(3,ue,t._id===i.currentUserID))}}function An(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",182),e.NdJ("error",function(s){e.CHM(t);const l=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.updateUrl(s,l))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==t?null:t._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH),e.Q6J("ngClass",e.VKq(3,ue,t._id===i.currentUserID))}}const xe=function(n){return{background:n}};function qn(n,o){if(1&n&&(e.TgZ(0,"div",183)(1,"span",184),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(3,ue,t._id===i.currentUserID))("ngStyle",e.VKq(5,xe,"linear-gradient(rgb(255,255,255) -125%,"+(null==t?null:t.fillColour)+")")),e.xp6(2),e.hij(" ",null==t?null:t.fullname_initial," ")}}const In=function(n){return{"first-served-by":n}};function Un(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"div",177,20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.goToAgentProfile(null==s?null:s._id))}),e.TgZ(3,"div",178)(4,"div",179),e.YNc(5,Cn,1,5,"img",180),e.YNc(6,An,1,5,"img",180),e.YNc(7,qn,3,7,"div",181),e.qZA()()()()}if(2&n){const t=e.oxw(),i=t.$implicit,s=t.first,l=e.oxw(3);e.xp6(1),e.hYB("matTooltip","",null==i?null:i.firstname," ",null==i?null:i.lastname,""),e.Q6J("ngClass",e.VKq(6,In,s)),e.xp6(4),e.Q6J("ngIf",(null==i?null:i.hasImage)&&l.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf",(null==i?null:i.hasImage)&&!l.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf",!(null!=i&&i.hasImage))}}function wn(n,o){if(1&n&&e._UZ(0,"img",155),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==t?null:t._id,"%2Fthumb_photo.jpg?alt=media",e.LSH)}}function On(n,o){if(1&n&&e._UZ(0,"img",155),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==t?null:t._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH)}}function Ln(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",158),e.qZA()())}function Zn(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",159),e.qZA()())}function Mn(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",160),e.qZA()())}function Pn(n,o){1&n&&(e.TgZ(0,"div",156)(1,"div",157),e._UZ(2,"img",161),e.qZA()())}function Nn(n,o){if(1&n&&e._UZ(0,"img",166),2&n){const t=e.oxw(6);e.Q6J("src",t.botLogo,e.LSH)}}function yn(n,o){if(1&n&&e._UZ(0,"img",166),2&n){const t=e.oxw(6);e.Q6J("src",t.botLogo,e.LSH)}}function Wn(n,o){1&n&&e._UZ(0,"img",167)}function Qn(n,o){1&n&&e._UZ(0,"img",168)}function kn(n,o){1&n&&e._UZ(0,"img",169)}function Dn(n,o){if(1&n&&(e.TgZ(0,"div",156)(1,"div",157),e.YNc(2,Nn,1,1,"img",162),e.YNc(3,yn,1,1,"img",162),e.YNc(4,Wn,1,0,"img",163),e.YNc(5,Qn,1,0,"img",164),e.YNc(6,kn,1,0,"img",165),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&"chatbot"===(null==t?null:t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&"copilot"===(null==t?null:t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&"webhook"===(null==t?null:t.subtype)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.subtype)&&("voice"===(null==t?null:t.subtype)||"voice_twilio"===(null==t?null:t.subtype)))}}const Jn=function(n){return{"disable-link-if-is-agent":n}};function jn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",185)(1,"div",186,20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.goToBotProfile(s,null==s?null:s._id,null==s?null:s.type))}),e.YNc(3,wn,1,2,"img",152),e.YNc(4,On,1,2,"img",152),e.YNc(5,Ln,3,0,"div",154),e.YNc(6,Zn,3,0,"div",154),e.YNc(7,Mn,3,0,"div",154),e.YNc(8,Pn,3,0,"div",154),e.YNc(9,Dn,7,5,"div",154),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.MGl("matTooltip","",t.name," (bot)"),e.Q6J("ngClass",e.VKq(9,Jn,i.ROLE_IS_AGENT)),e.xp6(2),e.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf","internal"===t.type),e.xp6(1),e.Q6J("ngIf","external"===t.type),e.xp6(1),e.Q6J("ngIf","dialogflow"===t.type),e.xp6(1),e.Q6J("ngIf","rasa"===t.type),e.xp6(1),e.Q6J("ngIf","tilebot"===t.type)}}function Yn(n,o){if(1&n&&(e.TgZ(0,"div",175),e.YNc(1,Un,8,8,"span",5),e.YNc(2,jn,10,11,"div",176),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!1===t.is_bot),e.xp6(1),e.Q6J("ngIf",!0===t.is_bot)}}function Hn(n,o){if(1&n&&(e.TgZ(0,"td")(1,"div",173),e.YNc(2,Yn,3,2,"div",174),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.participanting_Agents)}}function Bn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",60,20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.joinRequest(null==s?null:s.currentUserIsJoined,null==s?null:s.participanting_Agents,null==s?null:s.request_id,null==s?null:s.channel))}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.O4$(),e.TgZ(4,"svg",187),e._UZ(5,"path",188),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.s9C("title",e.lcZ(2,3,"RequestMsgsPage.Enter")),e.s9C("matTooltip",e.lcZ(3,5,"RequestMsgsPage.Enter")),e.Q6J("disabled",!0===(null==t?null:t.currentUserIsJoined))}}function Vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",189,20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.openChatAtSelectedConversation(null==s?null:s.request_id,null==s||null==s.lead?null:s.lead.fullname))}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.O4$(),e.TgZ(4,"svg",190),e._UZ(5,"path",191),e.qZA()()}2&n&&(e.s9C("title",e.lcZ(2,2,"RequestMsgsPage.Enter")),e.s9C("matTooltip",e.lcZ(3,4,"RequestMsgsPage.OpenTheChat")))}const Fn=function(n){return{"active-row":n}},Gn=function(n){return{padding_5:n}},$n=function(n,o,t){return{"requester-not-has-email":n,"requester-not-has-phone":o,"requester-fullname-is-phone":t}};function zn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24)(1,"td",25)(2,"div",26)(3,"label")(4,"input",27),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.change(l))}),e.qZA()()()(),e.TgZ(5,"td",25),e.YNc(6,We,4,2,"span",5),e.YNc(7,De,4,2,"span",5),e.qZA(),e.TgZ(8,"td",28),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))})("contextmenu",function(s){const a=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onContextMenu(s,a))}),e.YNc(9,Je,4,4,"span",29),e.TgZ(10,"p",30),e.NdJ("mouseover",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.overfirstTextGetRequestMsg(l))}),e._uU(11),e.qZA(),e.YNc(12,lt,38,35,"ng-template",null,31,e.W1O),e.YNc(14,gt,4,3,"section",32),e.qZA(),e.TgZ(15,"td",33)(16,"div",34),e.YNc(17,ft,4,3,"div",35),e.YNc(18,At,8,10,"div",36),e.qZA()(),e.TgZ(19,"td",37),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.TgZ(20,"div",38)(21,"div",39)(22,"div",40),e.YNc(23,qt,2,1,"span",41),e.YNc(24,It,2,0,"span",42),e.YNc(25,Ut,2,0,"span",42),e.YNc(26,wt,2,1,"span",43),e.YNc(27,Ot,7,0,"div",44),e.qZA()(),e.TgZ(28,"div",45)(29,"div",46)(30,"span",47),e._uU(31),e.ALo(32,"slice"),e.qZA(),e.YNc(33,Zt,2,3,"span",48),e.qZA(),e.TgZ(34,"div",49)(35,"span",50),e.YNc(36,Pt,2,1,"span",51),e.YNc(37,yt,2,1,"span",5),e.qZA()()()()(),e.TgZ(38,"td"),e.YNc(39,Ht,9,7,"span",52),e.YNc(40,tn,11,9,"span",52),e.qZA(),e.TgZ(41,"td",53),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.YNc(42,nn,2,1,"p",54),e.YNc(43,sn,2,0,"p",54),e.qZA(),e.YNc(44,bn,3,1,"td",5),e.YNc(45,Hn,3,1,"td",5),e.TgZ(46,"td",55),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.TgZ(47,"p",56),e._uU(48),e.ALo(49,"amTimeAgo"),e.qZA()(),e.TgZ(50,"td",57),e.YNc(51,Bn,6,7,"button",58),e.YNc(52,Vn,6,6,"button",59),e.TgZ(53,"button",60,20),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.archiveRequest(null==l?null:l.request_id))}),e.ALo(55,"translate"),e.ALo(56,"translate"),e.TgZ(57,"i",61),e._uU(58,"archive"),e.qZA()(),e.TgZ(59,"button",62,20),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onLogClick(l))}),e.O4$(),e.TgZ(61,"svg",63),e._UZ(62,"path",64),e.qZA()()()()}if(2&n){const t=o.$implicit,i=e.MAs(13),s=e.oxw();e.Q6J("ngClass",e.VKq(46,Fn,(null==t?null:t.request_id)===s.storedRequestId)),e.xp6(4),e.s9C("value",t.request_id),e.Q6J("checked",null==t?null:t.isSelected)("disabled",!1===(null==t?null:t.currentUserIsJoined)&&!0===s.ROLE_IS_AGENT),e.xp6(2),e.Q6J("ngIf",200==(null==t?null:t.status)&&!0===(null==t?null:t.currentUserIsJoined)),e.xp6(1),e.Q6J("ngIf",200==(null==t?null:t.status)&&!(null!=t&&t.currentUserIsJoined)),e.xp6(1),e.Q6J("ngClass",e.VKq(48,Gn,(null==t||null==t.tags?null:t.tags.length)>0)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.ticket_id),e.xp6(1),e.Q6J("tooltip",i),e.xp6(1),e.hij(" ",null==t?null:t.first_text," "),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.tags?null:t.tags.length)>0),e.xp6(3),e.Q6J("ngIf","medium"!==(null==t?null:t.priority)),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.CHAT21),e.xp6(4),e.Q6J("ngStyle",e.VKq(50,xe,"linear-gradient(rgb(255,255,255) -125%,"+(null==t?null:t.requester_fullname_fillColour)+")")),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO&&(null==t||null==t.lead?null:t.lead.fullname)!==(null==t||null==t.lead?null:t.lead.phone)),e.xp6(1),e.Q6J("ngIf",((null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO)&&(null==t||null==t.lead?null:t.lead.fullname)===(null==t||null==t.lead?null:t.lead.phone)),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO||null!=t&&null!=t.lead&&t.lead.phone)),e.xp6(1),e.Q6J("ngIf",((null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO)&&(null==t||null==t.lead?null:t.lead.phone)&&(null==t||null==t.lead?null:t.lead.fullname)!==(null==t||null==t.lead?null:t.lead.phone)),e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.requester_is_verified)),e.xp6(3),e.Q6J("ngClass",e.kEZ(52,$n,(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO&&!(null!=t&&null!=t.lead&&t.lead.email),!((null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO||null!=t&&null!=t.lead&&t.lead.phone),((null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO)&&(null==t||null==t.lead?null:t.lead.phone)===(null==t||null==t.lead?null:t.lead.fullname))),e.xp6(1),e.hij(" ",(null==t||null==t.lead||null==t.lead.fullname?null:t.lead.fullname.length)>40?e.Dn7(32,36,null==t||null==t.lead?null:t.lead.fullname,0,37)+"...":null==t||null==t.lead?null:t.lead.fullname," "),e.xp6(2),e.Q6J("ngIf",!(null!=t&&null!=t.lead&&t.lead.fullname)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)==s.CHANNELS_NAME.VOICE_TWILIO),e.xp6(2),e.Q6J("ngIf",null==t?null:t.userAgent),e.xp6(1),e.Q6J("ngIf",null==t?null:t.userAgent),e.xp6(2),e.Q6J("ngIf",null==t||null==t.dept?null:t.dept.name),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.dept&&t.dept.name)),e.xp6(1),e.Q6J("ngIf",s.isMobile),e.xp6(1),e.Q6J("ngIf",!s.isMobile),e.xp6(3),e.hij(" ",e.lcZ(49,40,null==t?null:t.createdAt)," "),e.xp6(3),e.Q6J("ngIf",!1===(null==t?null:t.currentUserIsJoined)),e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.currentUserIsJoined)),e.xp6(1),e.s9C("title",e.lcZ(55,42,"VisitorsPage.tootipArchiveRequest")),e.s9C("matTooltip",e.lcZ(56,44,"VisitorsPage.Resolve")),e.Q6J("disabled",!1===(null==t?null:t.currentUserIsJoined)&&!0===s.ROLE_IS_AGENT)}}function Kn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"appdashboard-close-request-modal",192),e.NdJ("closeModal",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onCloseArchiveRequestModal())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("id_request_to_archive",t.id_request_to_archive)("displayArchiveRequestModal",t.displayArchiveRequestModal)}}c(11373);const Ee=c(35226);let Xn=(()=>{class n extends x.L{constructor(t,i,s,l,a,g,d,T,m,f,E,M,V,F,G,ge){super(t,s,l,g,T,d,f,M,E),this.botLocalDbService=t,this.auth=i,this.usersLocalDbService=s,this.router=l,this.appConfigService=a,this.wsRequestsService=g,this.usersService=d,this.faqKbService=T,this.departmentService=m,this.notify=f,this.translate=E,this.logger=M,this.projectService=V,this.wsMsgsService=F,this.brandService=G,this.route=ge,this.contextMenuPosition={x:"0px",y:"0px"},this.showSpinner=!0,this.unsubscribe$=new D.xQ,this.displayNoRequestString=!1,this.requests_selected=[],this.allChecked=!1,this.CHANNELS_NAME=_.cJ;const Rl=G.getBrand();this.botLogo=Rl.BASE_LOGO_NO_TEXT,this.getRouteParams()}getRouteParams(){this.scrollEl=document.querySelector(".main-panel"),this.logger.log("[WS-REQUESTS-LIST][SERVED] oninit scrollEl",this.scrollEl),this.route.params.subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] - GET ROUTE PARAMS ",t),t.scrollposition&&(this.scrollYposition=t.scrollposition,this.logger.log("[WS-REQUESTS-LIST][SERVED] - scrollYposition",+this.scrollYposition),this.scrollEl?this.logger.log("[WS-REQUESTS-LIST][SERVED] scrollEl scrollTop",this.scrollEl.scrollTop):this.logger.error("[WS-REQUESTS-LIST][SERVED] scrollEl",this.scrollEl))})}ngOnInit(){this.getProfileImageStorageAndChatBaseUrl(),this.getCurrentProject(),this.getLoggedUser(),this.detectBrowserRefresh(),this.getTranslations(),this.getProjectUserRole(),this.detectMobile(),this.getFirebaseAuth()}ngAfterViewInit(){setTimeout(()=>{(0,me.ZP)(this.scrollEl,"scrollTop",+this.scrollYposition,500,"easeInOutCirc",()=>{this.logger.log("done!"),this.storedRequestId=this.usersLocalDbService.getFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][SERVED] storedRequestId",this.storedRequestId)})},100)}ngOnChanges(t){this.logger.log("[WS-REQUESTS-LIST][SERVED] ngOnChanges changes",t),this.logger.log("[WS-REQUESTS-LIST][SERVED] ngOnChanges wsRequestsServed length",this.wsRequestsServed.length),this.requestCountResp&&(this.countRequestsServedByHumanRr=this.requestCountResp.assigned,this.countRequestsServedByBotRr=this.requestCountResp.bot_assigned,this.countRequestsUnservedRr=this.requestCountResp.unassigned)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onContextMenu(t,i){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",this.contextMenu.menuData={item:i},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu()}onContextMenuAction1(t){alert(`Click on Action 1 for ${t.name}`)}onContextMenuAction2(t){alert(`Click on Action 2 for ${t.name}`)}overfirstTextGetRequestMsg(t){this.logger.log("[WS-REQUESTS-LIST][SERVED] overfirstText request_id",t),this.getRequestMsg(t)}getRequestMsg(t){this.wsMsgsService.geRequestMsgs(t.request_id).subscribe(i=>{if(this.logger.log("[WS-REQUESTS-SERVED] -  GET REQUESTS MSGS - RES: ",i),i){const s=[];i.forEach((l,a)=>{l&&(l.attributes&&l.attributes.subtype&&"info"===l.attributes.subtype||l.attributes&&l.attributes.subtype&&"info/support"===l.attributes.subtype||s.push(l)),t.msgsArray=s.sort(function(d,T){return d.createdAt>T.createdAt?-1:d.createdAt<T.createdAt?1:0})})}},i=>{this.logger.error("[WS-REQUESTS-LIST][SERVED] - GET REQUESTS MSGS - ERROR: ",i)},()=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] * COMPLETE *")})}getFirebaseAuth(){!0===this.appConfigService.getConfig().firebaseAuth?(this.FIREBASE_AUTH=!0,this.logger.log("[WS-REQUESTS-LIST][SERVED] - FIREBASE_AUTH IS ",this.FIREBASE_AUTH)):!1===this.appConfigService.getConfig().firebaseAuth&&(this.FIREBASE_AUTH=!1,this.logger.log("[WS-REQUESTS-LIST][SERVED] - FIREBASE_AUTH IS ",this.FIREBASE_AUTH))}getProfileImageStorageAndChatBaseUrl(){if("firebase"===this.appConfigService.getConfig().uploadEngine){this.UPLOAD_ENGINE_IS_FIREBASE=!0;const t=this.appConfigService.getConfig().firebase;this.storageBucket=t.storageBucket,this.logger.log("[WS-REQUESTS-LIST][SERVED] - IMAGE STORAGE ",this.storageBucket,"usecase firebase")}else this.UPLOAD_ENGINE_IS_FIREBASE=!1,this.baseUrl=this.appConfigService.getConfig().SERVER_BASE_URL,this.logger.log("[WS-REQUESTS-LIST][SERVED] - IMAGE STORAGE ",this.baseUrl,"usecase native");this.CHAT_BASE_URL=this.appConfigService.getConfig().CHAT_BASE_URL}getProjectUserRole(){this.usersService.project_user_role_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET PROJECT-USER ROLE ",t),t&&(this.USER_ROLE=t,this.ROLE_IS_AGENT="agent"===t)})}getDepartments(){this.departmentService.getDeptsByProjectId().subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET DEPTS - RES",t),this.depts=t},t=>{this.logger.error("[WS-REQUESTS-LIST][SERVED] GET DEPTS - RES - ERROR: ",t)},()=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET DEPTS - RES * COMPLETE *")})}displayMoreTags(t){const i=document.querySelector(`#more_tags_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][SERVED] - displayMoreTags - hiddenTagsElem ",i),i.style.display="inline-block";const s=document.querySelector(`#more_tags_btn_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][SERVED] - displayMoreTags - moreTagsBtn ",s),s.style.display="none"}displayLessTag(t){const i=document.querySelector(`#more_tags_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][SERVED] - displayLessTag - hiddenTagsElem ",i),i.style.display="none";const s=document.querySelector(`#more_tags_btn_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][SERVED] - displayLessTag - moreTagsBtn ",s),s.style.display="inline-block"}detectBrowserRefresh(){this.browserRefresh=A.JD,this.logger.log("[WS-REQUESTS-LIST][SERVED] - ngOnInit DETECT browserRefresh ",this.browserRefresh),this.logger.log("[WS-REQUESTS-LIST][SERVED] - ngOnInit DETECT browserRefresh wsRequestsList$.value.length ",this.wsRequestsService.wsRequestsList$.value.length),0===this.wsRequestsServed.length&&!1===A.JD&&(this.displayNoRequestString=!0)}getLoggedUser(){this.auth.user_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.currentUserID=t._id,this.logger.log("[WS-REQUESTS-LIST][SERVED] GET CURRENT USER - currentUser ID",this.currentUserID))})}getWsRequestsServedLength(){this.ws_requests_length>0&&(this.showSpinner=!1),this.logger.log("[WS-REQUESTS-LIST][SERVED] - GET WS REQUESTS SERVED LENGTH ",this.ws_requests_length)}getCurrentProject(){this.auth.project_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.projectId=t._id,this.logger.log("[WS-REQUESTS-LIST][SERVED] - GET CURRENT PROJECT - PROJECT ID ",this.projectId),this.logger.log("[WS-REQUESTS-LIST][SERVED] -  current_selected_prjct ",this.current_selected_prjct))})}goToServedNTR(){this.router.navigate(["project/"+this.projectId+"/all-conversations"],{queryParams:{leftfilter:200}})}goToBotProfile(t,i,s){if(this.logger.log("[WS-REQUESTS-LIST][SERVED] goToBotProfile bot",t),this.logger.log("[WS-REQUESTS-LIST][SERVED] goToBotProfile bot_id",i),!1===this.ROLE_IS_AGENT){let l="";"internal"===t.type?(l="native",this.router.navigate(["project/"+this.projectId+"/bots/intents/",t._id,l])):"tilebot"===t.type?(l="tilebot",(0,_.ZM)(this.router,t,this.projectId,this.appConfigService.getConfig().cdsBaseUrl)):"tiledesk-ai"===t.type?(l="tiledesk-ai",(0,_.ZM)(this.router,t,this.projectId,this.appConfigService.getConfig().cdsBaseUrl)):(l=t.type,this.router.navigate(["project/"+this.projectId+"/bots",t._id,l]))}else this.presentModalAgentCannotManageChatbot()}presentModalAgentCannotManageChatbot(){this.notify.presentModalAgentCannotManageChatbot(this.agentsCannotManageChatbots,this.learnMoreAboutDefaultRoles)}goToAgentProfile(t){this.logger.log("[WS-REQUESTS-LIST][SERVED]  goToAgentProfile ",t),this.getProjectuserbyUseridAndGoToEditProjectuser(t)}getProjectuserbyUseridAndGoToEditProjectuser(t){this.usersService.getProjectUserByUserId(t).subscribe(i=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET PROJECT-USER-BY-USER-ID & GO TO EDIT PROJECT-USER - projectUser ",i),i&&(this.logger.log("[WS-REQUESTS-LIST][SERVED] GET PROJECT-USER-BY-USER-ID & GO TO EDIT PROJECT-USER - projectUser id",i[0]._id),this.router.navigate(["project/"+this.projectId+"/user/edit/"+i[0]._id]))},i=>{this.logger.error("[WS-REQUESTS-LIST][SERVED] GET PROJECT-USER-BY-USER-ID & GO TO EDIT PROJECT-USER - ERROR ",i)},()=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET PROJECT-USER-BY-USER-ID & GO TO EDIT PROJECT-USER * COMPLETE *")})}goToRequestMsgs(t){this.logger.log("[WS-REQUESTS-LIST][SERVED] GO TO REQUEST MSGS scrollEl scrollTop",this.scrollEl.scrollTop),this.logger.log("[WS-REQUESTS-LIST][SERVED] GO TO REQUEST MSGS "),this.router.navigate(["project/"+this.projectId+"/wsrequest/"+t+"/1/messages/"+this.scrollEl.scrollTop]),this.usersLocalDbService.setInStorage("last-selection-id",t)}archiveRequest(t){this.notify.showArchivingRequestNotification(this.archivingRequestNoticationMsg),this.logger.log("[WS-REQUESTS-LIST][SERVED] - HAS CLICKED ARCHIVE REQUEST (CLOSE SUPPORT GROUP)"),this.wsRequestsService.closeSupportGroup(t).subscribe(i=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP - DATA ",i),this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP (archiveRequest) - request_id ",t),this.storedRequestId=this.usersLocalDbService.getFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP (archiveRequest) - storedRequestId ",this.storedRequestId),t===this.storedRequestId&&(this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP (archiveRequest) - REMOVE FROM STOREGAE storedRequestId ",this.storedRequestId),this.usersLocalDbService.removeFromStorage("last-selection-id"))},i=>{this.logger.error("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP - ERROR ",i),this.notify.showWidgetStyleUpdateNotification(this.archivingRequestErrorNoticationMsg,4,"report_problem")},()=>{this.usersLocalDbService.removeFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP - COMPLETE"),this.notify.showRequestIsArchivedNotification(this.requestHasBeenArchivedNoticationMsg_part1)})}joinRequest(t,i,s,l){const a=i.length;this.logger.log("[WS-REQUESTS-LIST][SERVED] - joinRequest participanting agents length",a);let g="";i.forEach((d,T)=>{let m=" ";m=a-1===T?".":", ",d.firstname&&d.lastname&&(g+=d.firstname+" "+d.lastname+m),d.name&&(g+=d.name+m)}),this.logger.log("[WS-REQUESTS-LIST][SERVED] - joinRequest chatAgent",g),!1===t&&("email"===l.name||"form"===l.name?1===i.length?this.presentModalYouCannotJoinChat():0===i.length&&this.displayModalAreYouSureToJoinThisChatAlreadyAssigned(g,s):("email"!==l.name||"form"!==l.name||"telegram"===l.name||"whatsapp"===l.name||"messenger"===l.name||"chat21"===l.name)&&this.displayModalAreYouSureToJoinThisChatAlreadyAssigned(g,s))}presentModalYouCannotJoinChat(){Ee.fire({title:this.joinChatTitle,text:this.youCannotJoinChat,icon:"info",showCloseButton:!1,showCancelButton:!1,confirmButtonText:this.translate.instant("Ok")})}displayModalAreYouSureToJoinThisChatAlreadyAssigned(t,i){Ee.fire({title:this.areYouSureMsg,text:this.youAreAboutToJoinMsg+": "+t,showCloseButton:!1,showCancelButton:!0,confirmButtonText:this.joinToChatMsg,cancelButtonText:this.cancelMsg,focusConfirm:!1,reverseButtons:!0,icon:"info"}).then(s=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] ARE YOU SURE TO JOIN THIS CHAT ... result",s),s.isConfirmed&&this.onJoinHandled(i,this.currentUserID)})}openChatAtSelectedConversation(t,i){localStorage.setItem("last_project",JSON.stringify(this.current_selected_prjct)),this.openChatToTheSelectedConversation(this.CHAT_BASE_URL,t,i)}trackByFn(t,i){return i?t:null}detectMobile(){this.isMobile=/Android|iPhone/i.test(window.navigator.userAgent),this.logger.log("[WS-REQUESTS-LIST][SERVED] - IS MOBILE ",this.isMobile)}updateUrl(t,i){this.logger.log("[WS-REQUESTS-LIST][SERVED] - UPDATE-URL IMAGE ERROR  event ",t),this.logger.log("[WS-REQUESTS-LIST][SERVED] - UPDATE-URL IMAGE ERROR  agent ",i),i.has__image=!1}_getProjectUserByUserId(t){this.usersService.getProjectUserByUserId(t).subscribe(i=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET projectUser by USER-ID ",i),i&&this.logger.log("WS-REQUESTS-LIST][SERVED] GET projectUser by USER-ID projectUser id",i)},i=>{this.logger.error("[WS-REQUESTS-LIST][SERVED] GET projectUser by USER-ID - ERROR ",i)},()=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] GET projectUser by USER-ID * COMPLETE *")})}selectAll(t){this.logger.log("[WS-REQUESTS-LIST][SERVED] > Is checked: ",t.target.checked);var i=document.getElementById("allServedCheckbox");if(i&&this.logger.log("[WS-REQUESTS-LIST][SERVED] **++ checkbox Indeterminate: ",i.indeterminate),1==t.target.checked){this.logger.log("SELECT ALL e.target.checked ",t.target.checked),this.allChecked=!0;for(let s of this.wsRequestsServed)this.requests_selected.indexOf(s.request_id)>-1?this.logger.log("[WS-REQUESTS-LIST][SERVED] **++ Already present in requests_selected"):(this.logger.log("[WS-REQUESTS-LIST][SERVED] *+*+ Request Selected: ",s.request_id),this.requests_selected.push(s.request_id)),!0===s.isSelected?this.logger.log("[WS-REQUESTS-LIST][SERVED] **++ Already selected"):s.isSelected=!0;this.logger.log("[WS-REQUESTS-LIST][SERVED] - ARRAY OF SELECTED REQUEST ",this.requests_selected),this.logger.log("[WS-REQUESTS-LIST][SERVED] - ARRAY OF SELECTED REQUEST lenght ",this.requests_selected.length)}else if(0==t.target.checked){for(let s of this.wsRequestsServed)s.hasOwnProperty("isSelected")&&(s.isSelected=!1);this.allChecked=!1,this.requests_selected=[],this.logger.log("[WS-REQUESTS-LIST][SERVED] - ARRAY OF SELECTED REQUEST ",this.requests_selected),this.logger.log("[WS-REQUESTS-LIST][SERVED] - ARRAY OF SELECTED REQUEST lenght ",this.requests_selected.length)}}change(t){var i=document.getElementById("allServedCheckbox");i&&this.logger.log("[WS-REQUESTS-LIST][SERVED] -  change - checkbox Indeterminate: ",i.indeterminate),this.logger.log("[WS-REQUESTS-LIST][SERVED] -  change - checkbox request: ",t),t.hasOwnProperty("isSelected")?!0===t.isSelected?t.isSelected=!1:!1===t.isSelected&&(t.isSelected=!0):t.isSelected=!0,this.logger.log("[WS-REQUESTS-LIST][SERVED] - change - SELECTED REQUEST ID: ",t.request_id);const s=this.requests_selected.indexOf(t.request_id);this.logger.log("[WS-REQUESTS-LIST][SERVED] - change - request selected INDEX: ",s),s>-1?(this.requests_selected.splice(s,1),i&&(i.indeterminate=!0,this.logger.log("[WS-REQUESTS-LIST][SERVED] - change - checkbox Indeterminate: ",i.indeterminate)),0==this.requests_selected.length&&(i&&(i.indeterminate=!1,this.logger.log("[WS-REQUESTS-LIST][SERVED] - change - checkbox Indeterminate: ",i.indeterminate)),this.allChecked=!1)):(this.requests_selected.push(t.request_id),i&&(i.indeterminate=!0,this.logger.log("[WS-REQUESTS-LIST][SERVED] - change - checkbox Indeterminate: ",i.indeterminate)),this.requests_selected.length==this.wsRequestsServed.length&&(i&&(i.indeterminate=!1,this.logger.log("[WS-REQUESTS-LIST][SERVED] - change - checkbox Indeterminate: ",i.indeterminate)),this.allChecked=!0)),this.logger.log("[WS-REQUESTS-LIST][SERVED] - ARRAY OF SELECTED REQUEST ",this.requests_selected),this.logger.log("[WS-REQUESTS-LIST][SERVED] - ARRAY OF SELECTED REQUEST lenght ",this.requests_selected.length)}archiveSelected(){let t=0;this.requests_selected.forEach((i,s)=>{this.wsRequestsService.closeSupportGroup(i).subscribe(l=>{this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP (archiveSelected) - requestid ",i),this.storedRequestId=this.usersLocalDbService.getFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP (archiveSelected) - storedRequestId ",this.storedRequestId),i===this.storedRequestId&&(this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP (archiveSelected) - REMOVE FROM STORAGE storedRequestId ",this.storedRequestId),this.usersLocalDbService.removeFromStorage("last-selection-id")),this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP - requests_selected ",this.requests_selected)},l=>{this.logger.error("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP - ERROR ",l)},()=>{this.usersLocalDbService.removeFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][SERVED] - CLOSE SUPPORT GROUP - COMPLETE"),t+=1;const l=this.requests_selected.indexOf(i);if(l>-1&&this.requests_selected.splice(l,1),this.notify.showArchivingRequestNotification(this.archivingRequestNoticationMsg+t+"/"+this.requests_selected.length),this.logger.log("[WS-REQUESTS-LIST][SERVED] - this.requests_selected.length ",this.requests_selected.length),this.logger.log("[WS-REQUESTS-LIST][SERVED] - requests_selected array ",this.requests_selected),0===this.requests_selected.length){this.allChecked=!1;var a=document.getElementById("allServedCheckbox");this.notify.showAllRequestHaveBeenArchivedNotification(this.allConversationsaveBeenArchivedMsg),this.logger.log("[WS-REQUESTS-LIST][SERVED] -  change - checkbox Indeterminate: ",a.indeterminate),a&&(a.indeterminate=!1)}})})}getTranslations(){this.translateArchivingRequestErrorMsg(),this.translateArchivingRequestMsg(),this.translateRequestHasBeenArchivedNoticationMsg_part1(),this.translateRequestHasBeenArchivedNoticationMsg_part2(),this.translateYouAreAboutToJoin(),this.translateWarning(),this.translateCancel(),this.translateJoinToChat(),this.translateAreYouSure(),this.translateAllConversationsHaveBeenArchived(),this.translateModalYouCannotJoinChat(),this.translate.get("LearnMoreAboutDefaultRoles").subscribe(t=>{this.learnMoreAboutDefaultRoles=t}),this.translate.get("AgentsCannotManageChatbots").subscribe(t=>{this.agentsCannotManageChatbots=t})}translateAreYouSure(){this.translate.get("AreYouSure").subscribe(t=>{this.areYouSureMsg=t})}translateJoinToChat(){this.translate.get("RequestMsgsPage.Enter").subscribe(t=>{this.joinToChatMsg=t})}translateCancel(){this.translate.get("Cancel").subscribe(t=>{this.cancelMsg=t})}translateWarning(){this.translate.get("Warning").subscribe(t=>{this.warningMsg=t})}translateYouAreAboutToJoin(){this.translate.get("YouAreAboutToJoinThisChatAlreadyAssignedTo").subscribe(t=>{this.youAreAboutToJoinMsg=t})}translateArchivingRequestMsg(){this.translate.get("ArchivingRequestNoticationMsg").subscribe(t=>{this.archivingRequestNoticationMsg=t})}translateArchivingRequestErrorMsg(){this.translate.get("ArchivingRequestErrorNoticationMsg").subscribe(t=>{this.archivingRequestErrorNoticationMsg=t})}translateRequestHasBeenArchivedNoticationMsg_part1(){this.translate.get("RequestSuccessfullyClosed").subscribe(t=>{this.requestHasBeenArchivedNoticationMsg_part1=t})}translateRequestHasBeenArchivedNoticationMsg_part2(){this.translate.get("RequestHasBeenArchivedNoticationMsg_part2").subscribe(t=>{this.requestHasBeenArchivedNoticationMsg_part2=t})}translateAllConversationsHaveBeenArchived(){this.translate.get("AllConversationsaveBeenArchived").subscribe(t=>{this.allConversationsaveBeenArchivedMsg=t})}translateModalYouCannotJoinChat(){this.translate.get("YouCannotJoinChat").subscribe(t=>{this.youCannotJoinChat=t}),this.translate.get("RequestMsgsPage.Enter").subscribe(t=>{this.joinChatTitle=t})}onLogClick(t){this.projectId&&t.request_id?this.router.navigate([`project/${this.projectId}/wsrequests/logs/request/${t.request_id}`]):this.logger.error("Project ID o webhook_id non disponibili per la navigazione ai log.")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.S),e.Y36(N.e),e.Y36(u.P),e.Y36(q.F0),e.Y36(Y._),e.Y36(p.z),e.Y36(v.f),e.Y36(w.M),e.Y36(H.n),e.Y36(h.c),e.Y36(U.sK),e.Y36(y.m),e.Y36(te.Y),e.Y36(de.N),e.Y36(Oe.c),e.Y36(q.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["appdashboard-ws-requests-served"]],viewQuery:function(t,i){if(1&t&&e.Gf(he.p6,5),2&t){let s;e.iGM(s=e.CRH())&&(i.contextMenu=s.first)}},inputs:{wsRequestsServed:"wsRequestsServed",ws_requests_length:"ws_requests_length",current_selected_prjct:"current_selected_prjct",requestCountResp:"requestCountResp"},features:[e.qOj,e.TTD],decls:48,vars:30,consts:[[1,"card","card--no-border",2,"margin","5px 0"],[1,"card-header","card-header-custom"],[1,"row"],[1,"col-xs-12"],[1,"title","customh4",2,"margin-bottom","2px"],[4,"ngIf"],["class","span-link-style",3,"click",4,"ngIf"],[1,"card-content","table-responsive",2,"padding-top","0px","padding-top","0px","padding-bottom","20px"],[1,"table","table-hover","served_requests_table"],[1,"text"],[2,"width","46px","text-align","right","padding-right","3px","padding-bottom","4px !important"],["for","allServedCheckbox"],["id","allServedCheckbox","type","checkbox",1,"form-check-input",2,"cursor","pointer","width","20px","height","20px",3,"disabled","checked","click"],[2,"padding-top","6px","padding-bottom","6px !important"],["class","custom-input-group---btn tool_tip","type","button","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip","click",4,"ngIf"],[1,"column-th-span"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id_request_to_archive","displayArchiveRequestModal","closeModal",4,"ngIf"],[1,"span-link-style",3,"click"],["type","button","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"custom-input-group---btn","tool_tip",3,"matTooltip","click"],["tooltip","matTooltip"],[1,"material-icons","archive-icon",2,"vertical-align","middle","cursor","pointer","color","grey"],["colspan","10",2,"text-align","center","padding-top","16px"],[2,"font-size","1em","color","#737376","font-weight","100"],[3,"ngClass"],[2,"text-align","center","white-space","nowrap","width","1%"],[1,"checkbox"],["type","checkbox",1,"form-check-input",2,"width","16px","height","16px",3,"checked","value","disabled","click"],[1,"td-first-text",2,"cursor","pointer",3,"ngClass","click","contextmenu"],["class","ticket-id-badge","style","float: left;","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["contentType","template",1,"column-td","request-first-text",2,"max-width","215px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"tooltip","mouseover"],["HtmlContent",""],["style","max-width: 210px;",4,"ngIf"],[1,"",2,"width","1%","padding-left","4px!important"],[1,"priority_and_channel_wpr",2,"display","flex"],["class","priority_wpr","style","flex: 1;; text-align: right;",4,"ngIf"],["class","channel_wpr","style","flex: 1; text-align: right;",3,"ngClass",4,"ngIf"],[2,"cursor","pointer","white-space","nowrap","width","1%",3,"click"],[1,"requester-avatar-and-lead-data-wpr"],[1,"requester-avatar-wrapper"],[1,"requester---avatar",3,"ngStyle"],["style","color: #ffffff",4,"ngIf"],["class","material-icons-outlined","style","color: #ffffff; font-size:18px; position: relative; top: 1px;",4,"ngIf"],["style","color: #ffffff;",4,"ngIf"],["class","verified-user-icon-wpr",4,"ngIf"],[1,"column-td","lead-data-wpr",2,"white-space","nowrap"],[1,"requester---fullname-wpr"],[1,"requester---fullname",3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"requester---email-wpr"],[1,"requester---email"],["class","requester-has-email",4,"ngIf"],["class","tooltipx",4,"ngIf"],[2,"cursor","pointer","font-size","12px","font-weight","400",3,"click"],["class","column-td",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"column-td"],[1,"td-actions","text-right",2,"padding-top","9px !important"],["type","button","rel","tooltip","class","btn btn-tdblu btn-simple btn-xs","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"title","disabled","matTooltip","click",4,"ngIf"],["type","button","rel","tooltip","class","btn btn-tdblu btn-simple btn-xs","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"title","matTooltip","click",4,"ngIf"],["type","button","rel","tooltip","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"btn","btn-tdblu","btn-simple","btn-xs",3,"title","disabled","matTooltip","click"],[1,"material-icons"],["type","button","rel","tooltip","title","Log","matTooltipClass","mat-white-tooltip","matTooltip","Log","matTooltipPosition","above","matTooltipHideDelay","100",1,"btn","btn-tdblu","btn-simple","btn-xs",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor",2,"height","15px","width","15px"],["fill","currentColor","d","M180-215.39V-280h360v60l-360 4.61Zm0-155.76v-60h600v60H180Zm0-157.7v-60h600v60H180ZM180-680v-64.61h600V-680H180Z"],["src","assets/img/request_icons/status200_joined.svg","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"img-fluid",2,"width","30px",3,"matTooltip"],["src","assets/img/request_icons/status200_joined_internal.svg","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"img-fluid",2,"width","30px",3,"matTooltip"],["src","assets/img/request_icons/status200_no_joined.svg","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"img-fluid",2,"width","30px",3,"matTooltip"],["src","assets/img/request_icons/status200_no_joined_internal.svg","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"img-fluid",2,"width","30px",3,"matTooltip"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"ticket-id-badge",2,"float","left",3,"matTooltip"],[1,"ng2-tooltip-header"],["class","ng2-tooltip-badge--assigned-to-cu",4,"ngIf"],["class","ng2-tooltip-badge--assigned",4,"ngIf"],[1,"ng2-tooltip-ticket-id"],[1,"ng2-tooltip-priority"],[2,"color","#68737d","font-weight","300"],[1,"ng2-tooltip-channel"],["class","ng2-tooltip-subject",4,"ngIf"],[1,"ng2-tooltip-firt-text",3,"innerHTML"],[1,"ng2-most-recent-comment-section-title"],[1,"ng2-tooltip-divider-line"],["class","ng2-latest-comment-sender-and-date-wpr",4,"ngIf"],["class","ng2-latest-comment",3,"innerHTML",4,"ngIf"],[1,"ng2-tooltip-badge--assigned-to-cu"],[1,"ng2-tooltip-badge--assigned"],[1,"ng2-tooltip-subject"],[1,"ng2-latest-comment-sender-and-date-wpr"],[1,"ng2-comment-sender"],[1,"ng2-comment-date"],[1,"ng2-latest-comment",3,"innerHTML"],[1,"ng2-latest-comment-loading"],[2,"max-width","210px"],["style","display: inline-block;",4,"ngFor","ngForOf"],["style","display: inline-block;",3,"id",4,"ngIf"],["style","display: none",3,"id","click",4,"ngIf"],[2,"display","inline-block"],[1,"icon-container",2,"display","inline-block"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","tag","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa-tag-icon","fa-tag","fa-w-16",2,"width","10px","height","auto"],["d","M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z",1,"tag_icon_in_ws_msgs",3,"ngStyle"],[2,"font-size","11px","color","#7695a5","position","relative","top","-2px","left","-2px"],[2,"display","inline-block",3,"id"],[2,"font-size","11px","color","rgba(0, 0, 0, 0.54) !important","position","relative","top","-2px",3,"click"],[2,"display","none",3,"id","click"],[1,"priority_wpr",2,"flex","1","; text-align","right"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip"],["src","assets/img/priority_icons/high_v2.svg",1,"img-fluid",2,"width","15px","height","15px"],["src","assets/img/priority_icons/urgent_v2.svg",1,"img-fluid",2,"width","15px","height","15px"],["src","assets/img/priority_icons/low_v2.svg",1,"img-fluid",2,"width","15px","height","15px"],[1,"channel_wpr",2,"flex","1","text-align","right",3,"ngClass"],["class","tool_tip",4,"ngIf"],["class","tool_tip email-wpr",4,"ngIf"],["class","tool_tip form-wpr",4,"ngIf"],[1,"tool_tip"],["src","assets/img/channel_icons/Telegram-01.svg",1,"img-fluid",2,"width","24px","height","24px"],[1,"bottom","tool-tip-bottom--custom"],[2,"font-weight","400"],["src","assets/img/channel_icons/voice.svg",1,"img-fluid",2,"width","24px","height","24px"],["src","assets/img/channel_icons/sms.svg",1,"img-fluid",2,"width","24px","height","24px"],["src","assets/img/channel_icons/whatsapp-logo_green.svg",1,"img-fluid",2,"width","24px","height","24px"],["src","assets/img/channel_icons/Facebook_Messenger_logo_2020.svg",1,"img-fluid",2,"width","24px","height","24px"],[1,"tool_tip","email-wpr"],["src","assets/img/channel_icons/email-logo_white.svg",1,"img-fluid","channel-img-in-conversations",2,"padding","5px !important"],[1,"tool_tip","form-wpr"],["src","assets/img/channel_icons/form-logo_v2_white.svg",1,"img-fluid","channel-img-in-conversations",2,"padding","4px !important"],[2,"color","#ffffff"],[1,"material-icons-outlined",2,"color","#ffffff","font-size","18px","position","relative","top","1px"],[1,"verified-user-icon-wpr"],["version","1.1","id","Livello_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 26.6 26.6","width","17","height","17",0,"xml","space","preserve",1,"requester-verified--icon"],["type","text/css"],["d","M1.3,1.3h24v24h-24V1.3z",1,"st0_UserVerified"],["d","M13.3,0L2.4,4.9v7.3c0,6.7,4.6,13,10.9,14.5c6.2-1.5,10.9-7.8,10.9-14.5V4.9L13.3,0z",1,"st1_UserVerified"],["d","M13.3,2.3l-9,4v6c0,5.5,3.8,10.7,9,12c5.2-1.3,9-6.5,9-12v-6L13.3,2.3z M11.3,18.3l-4-4l1.4-1.4l2.6,2.6\n                        l6.6-6.6l1.4,1.4L11.3,18.3z",1,"st2_UserVerified"],[1,"requester-has-email"],["matTooltipClass","convs-custom-mat-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["matTooltipClass","convs-custom-mat-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip"],[1,"tooltipx"],[1,"tooltiptext",2,"font-size","10px !important","padding","3px"],["src","assets/img/user_agent/laptop.svg",1,"",2,"width","13px","margin-top","2px","margin-right","6px"],["src","assets/img/user_agent/android.svg",1,"",2,"width","13px","margin-right","6px"],["src","assets/img/user_agent/apple.svg",1,"",2,"width","13px","margin-bottom","2px","margin-right","6px"],["src","assets/img/user_agent/windows.svg",1,"",2,"width","12px","margin-top","2px","margin-right","6px"],["src","assets/img/user_agent/ubuntu.svg",1,"",2,"width","13px","margin-right","6px"],["src","assets/img/user_agent/globe.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/chrome.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/firefox.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/edge.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/opera.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/safari.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/explorer.svg",1,"ua_browser_icon"],[2,"min-width","105px","position","relative"],[4,"ngFor","ngForOf"],["class","user-img ws-requests-list-servedby-avatar","onerror","this.src='assets/img/avatar_bot_tiledesk.svg'",3,"src",4,"ngIf"],[1,"served-by-agent"],["class","bot-type-logo-wpr",4,"ngIf"],["onerror","this.src='assets/img/avatar_bot_tiledesk.svg'",1,"user-img","ws-requests-list-servedby-avatar",3,"src"],[1,"bot-type-logo-wpr"],[1,"bot-type-logo-img-wpr"],["src","assets/img/tiledesk_logo_no_text.png",1,"served-by-bot--type-logo"],["src","assets/img/external_bot_logo.png",1,"served-by-bot--type-logo"],["src","assets/img/Dialogflow_logo_no_text.png",1,"served-by-bot--type-logo"],["src","assets/img/rasa_bot_logo.png",1,"served-by-bot--type-logo"],["class","served-by-bot--type-logo",3,"src",4,"ngIf"],["class","served-by-bot--type-logo","src","assets/img/logos/copilot-logo.svg",4,"ngIf"],["class","served-by-bot--type-logo","src","assets/img/logos/webhook-logo.svg",4,"ngIf"],["class","served-by-bot--type-logo","src","assets/img/logos/voice-logo.svg",4,"ngIf"],[1,"served-by-bot--type-logo",3,"src"],["src","assets/img/logos/copilot-logo.svg",1,"served-by-bot--type-logo"],["src","assets/img/logos/webhook-logo.svg",1,"served-by-bot--type-logo"],["src","assets/img/logos/voice-logo.svg",1,"served-by-bot--type-logo"],["class","user-img ws-requests-list-servedby-avatar","onerror","this.src='assets/img/no_image_user.png'",3,"src",4,"ngIf"],[1,"served-by-agent",3,"ngClass"],["onerror","this.src='assets/img/no_image_user.png'",1,"user-img","ws-requests-list-servedby-avatar",3,"src"],[1,"served-by-desktop-a"],["class","served-by-desktop-b",4,"ngFor","ngForOf"],[1,"served-by-desktop-b"],["class","bot---avatar-wpr",4,"ngIf"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"served-by-desktop-c",3,"ngClass","matTooltip","click"],[1,"served-by-desktop-d"],["size","32",1,"served-by-desktop-e"],["alt","","onerror","this.src='assets/img/no_image_user.png'",3,"ngClass","src","error",4,"ngIf"],["class","altenative-avatar-wrap",3,"ngClass","ngStyle",4,"ngIf"],["alt","","onerror","this.src='assets/img/no_image_user.png'",3,"ngClass","src","error"],[1,"altenative-avatar-wrap",3,"ngClass","ngStyle"],[1,"altenative-avatar"],[1,"bot---avatar-wpr"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"bot---avatar",3,"ngClass","matTooltip","click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","link","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-link","fa-w-16",2,"height","15px","width","auto"],["fill","currentColor","d","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"],["type","button","rel","tooltip","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"btn","btn-tdblu","btn-simple","btn-xs",3,"title","matTooltip","click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","comments","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"svg-inline--fa","fa-comments","fa-w-18",2,"height","15px","width","auto"],["fill","currentColor","d","M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"],[3,"id_request_to_archive","displayArchiveRequestModal","closeModal"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5),e.ALo(6,"translate"),e.YNc(7,Le,2,0,"span",5),e.YNc(8,Ze,3,3,"span",6),e.qZA()()()(),e.TgZ(9,"div",7)(10,"table",8)(11,"thead",9)(12,"tr")(13,"th",10)(14,"label",11)(15,"input",12),e.NdJ("click",function(l){return i.selectAll(l)}),e.qZA()()(),e.TgZ(16,"th",13),e.YNc(17,Me,5,3,"button",14),e.qZA(),e.TgZ(18,"th")(19,"span",15),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e._UZ(22,"th"),e.TgZ(23,"th")(24,"span",15),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"th"),e.TgZ(28,"th")(29,"span",15),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"th")(33,"span",15),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"th")(37,"span",15),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"th")(41,"span",15),e._uU(42),e.ALo(43,"translate"),e.qZA()()()(),e.TgZ(44,"tbody"),e.YNc(45,Pe,5,3,"tr",5),e.YNc(46,zn,63,56,"tr",16),e.qZA()()()(),e.YNc(47,Kn,1,2,"appdashboard-close-request-modal",17)),2&t&&(e.xp6(5),e.hij(" ",e.lcZ(6,16,"VisitorsPage.ServedRequests")," "),e.xp6(2),e.Q6J("ngIf",i.countRequestsServedByHumanRr+i.countRequestsUnservedRr>=100),e.xp6(1),e.Q6J("ngIf",i.countRequestsServedByHumanRr+i.countRequestsUnservedRr>=100),e.xp6(7),e.Q6J("disabled",!0===i.ROLE_IS_AGENT)("checked",!0===i.allChecked),e.xp6(2),e.Q6J("ngIf",i.requests_selected.length>0),e.xp6(3),e.hij(" ",e.lcZ(21,18,"VisitorsPage.Message")," "),e.xp6(5),e.hij(" ",e.lcZ(26,20,"VisitorsPage.Requester")," "),e.xp6(5),e.hij(" ",e.lcZ(31,22,"Department")," "),e.xp6(4),e.hij(" ",e.lcZ(35,24,"ServedBy")," "),e.xp6(4),e.hij(" ",e.lcZ(39,26,"Created")," "),e.xp6(4),e.hij(" ",e.lcZ(43,28,"Actions")," "),e.xp6(3),e.Q6J("ngIf",0===(null==i.wsRequestsServed?null:i.wsRequestsServed.length)),e.xp6(1),e.Q6J("ngForOf",i.wsRequestsServed)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf","block"===i.displayArchiveRequestModal))},dependencies:[ce.i9,r.mk,r.sg,r.O5,r.PC,j.gM,r.OU,r.uU,U.X$,fe.r,Se.N,pe.eG],styles:['.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\nbutton[_ngcontent-%COMP%] {\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-right: 3px;\n  padding-left: 3px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n\n.modal[_ngcontent-%COMP%] {\n  top: 0;\n}\n.modal-content[_ngcontent-%COMP%] {\n  position: relative;\n  background-color: #fff;\n  -webkit-background-clip: padding-box;\n  background-clip: padding-box;\n  border: 1px solid #999;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n  outline: 0;\n  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n}\n.modal-header[_ngcontent-%COMP%] {\n  padding: 15px;\n  border-bottom: 1px solid #e5e5e5;\n}\n.modal-title[_ngcontent-%COMP%] {\n  margin: 0;\n  line-height: 1.42857143;\n}\nbutton.close[_ngcontent-%COMP%] {\n  -webkit-appearance: none;\n  appearance: none;\n  padding: 0;\n  cursor: pointer;\n  background: 0 0;\n  border: 0;\n}\n.close[_ngcontent-%COMP%] {\n  float: right;\n  font-size: 21px;\n  font-weight: 700;\n  line-height: 1;\n  color: #000;\n  text-shadow: 0 1px 0 #fff;\n  filter: alpha(opacity=20);\n  opacity: 0.2;\n}\n.modal-body[_ngcontent-%COMP%] {\n  position: relative;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  padding-right: 0px;\n  padding-left: 15px;\n}\n.modal-footer[_ngcontent-%COMP%] {\n  text-align: right;\n  border-top: 1px solid #e5e5e5;\n  background-color: #eeeeee;\n  padding-top: 10px !important;\n}\n\n.msgcontainer[_ngcontent-%COMP%] {\n  border: 2px solid #dedede;\n  background-color: #f1f1f1;\n  border-radius: 5px;\n  padding: 5px;\n  margin: 5px 0;\n  display: inline-block;\n  min-width: 150px;\n  max-width: 350px;\n}\n.msgcontainer[_ngcontent-%COMP%]::after {\n  content: "";\n  clear: both;\n  display: table;\n}\n\n.time-right[_ngcontent-%COMP%] {\n  float: right;\n  color: #aaa;\n}\n.msg_sender[_ngcontent-%COMP%] {\n  position: relative;\n  display: block;\n  z-index: 2;\n  float: left;\n  padding-top: 10px;\n  padding-right: 10px;\n}\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n\n*[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n#fixed-button[_ngcontent-%COMP%] {\n  bottom: 10px;\n  right: 20px;\n  position: absolute;\n}\n.member[_ngcontent-%COMP%] {\n  font-weight: 400;\n}\n.current-user-member[_ngcontent-%COMP%] {\n  font-weight: 400;\n  color: #4caf50;\n}\np.member[_ngcontent-%COMP%]:hover {\n  background-color: #58c1d6;\n  color: #fff;\n  border-radius: 4px;\n}\n.customh4[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54) !important;\n}\n.customh5[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n  color: #505458;\n  font-size: 14px;\n  font-weight: 600;\n  display: inline-block;\n  margin-right: 10px;\n  line-height: 1.4;\n}\n.card-header[_ngcontent-%COMP%] {\n  background-color: #fff !important;\n  padding-top: 12px !important;\n  padding-bottom: 10px !important;\n  box-shadow: 0 10px 0px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 5px 10px -5px rgba(0, 0, 0, 0.2) !important;\n}\n.dept-request-count[_ngcontent-%COMP%] {\n  border: 2px solid #fff;\n  width: 52px;\n  height: 52px;\n  line-height: 52px;\n  font-size: 26px;\n  margin: 0 auto;\n  border-radius: 5px;\n  display: inline-block;\n  vertical-align: middle;\n  text-transform: uppercase;\n  background-color: #999;\n  color: #fff;\n  text-align: center;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n}\nspan[_ngcontent-%COMP%]   .switch-agent-admin-requests-btn[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-right: 15px;\n  margin-right: 15px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border-radius: 15px;\n}\n.table-head-span[_ngcontent-%COMP%] {\n  color: #566787;\n  font-weight: 700;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 13px;\n}\n.table-body-span[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  color: rgb(118, 149, 165);\n}\n.all-agents-requests-btn[_ngcontent-%COMP%] {\n  background-color: #00bcd4;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.all-agents-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #00bcd4;\n}\n.your-requests-btn[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.your-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #4caf50;\n}\n.lead_data[_ngcontent-%COMP%] {\n  position: relative;\n  top: -2px;\n}\n.requester-avatar[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  line-height: 21px;\n  position: relative;\n  top: 4px;\n  margin-right: 4px;\n}\n.requester-avatar-and-lead-data-wpr[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.requester-avatar-wrapper[_ngcontent-%COMP%] {\n  position: relative;\n}\n.verified-user-icon-wpr[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -2px;\n  left: -6px;\n}\n.verified-user-icon-wpr[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\n  font-size: 16px;\n  color: #18BDF7;\n}\n.requester---avatar[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  line-height: 21px;\n  position: relative;\n  margin-right: 4px;\n}\n.lead-data-wpr[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 5px;\n}\n.requester---fullname[_ngcontent-%COMP%] {\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.requester---email[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 11px;\n  display: block;\n  margin-top: -8px;\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-transform: lowercase;\n}\n.requester_avatar_not_has_email[_ngcontent-%COMP%] {\n  top: 5px;\n}\n.requester-fullname-is-phone[_ngcontent-%COMP%] {\n  top: 3px;\n  position: relative;\n}\n.requester-not-has-email[_ngcontent-%COMP%] {\n  top: 3px;\n  position: relative;\n}\n.requester-not-has-phone[_ngcontent-%COMP%] {\n  top: 3px;\n  position: relative;\n}\n.requester-avatar-has-phone-as-email[_ngcontent-%COMP%] {\n  top: 3px !important;\n}\n.requester-name-is-a-phone-num[_ngcontent-%COMP%] {\n  position: relative;\n  top: -5px !important;\n}\n.requester-email[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 11px;\n  display: block;\n  margin-left: 34px;\n  margin-top: -10px;\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-transform: lowercase;\n}\n.requester-verified-email[_ngcontent-%COMP%] {\n  position: relative;\n  left: 20px;\n}\n.user-agent-icon[_ngcontent-%COMP%] {\n  color: #7695a5 !important;\n  cursor: pointer !important;\n  font-size: 16px !important;\n  vertical-align: middle !important;\n  margin-right: 5px;\n}\n.requester_fullname-undefined[_ngcontent-%COMP%] {\n  padding: 5px 4px;\n  top: -4px;\n  font-size: 11px;\n}\n.requester_fullname_initial-undefined[_ngcontent-%COMP%] {\n  position: relative;\n  top: 1px;\n}\n.requester-verified[_ngcontent-%COMP%] {\n  position: relative;\n  left: -20px;\n}\n.verified-icon-requester-undefined[_ngcontent-%COMP%] {\n  top: -8px !important;\n}\n.verified-icon-requester-internal-ticket[_ngcontent-%COMP%] {\n  top: 1px !important;\n}\n\n.tooltipx[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltipx[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  color: #fff;\n  text-align: center;\n  padding: 5px 5px;\n  border-radius: 5px;\n  font-size: 12px !important;\n  \n  position: absolute;\n  z-index: 1;\n  \n  bottom: 100%;\n  left: 50%;\n  margin-left: -60px;\n  \n  box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35);\n  background-color: #394f5a;\n}\n\n.tooltipx[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n.nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%], .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:focus, .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover {\n  background-color: #039be5 !important;\n  box-shadow: 0 12px 20px -10px rgba(3, 115, 229, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(3, 115, 229, 0.2) !important;\n}\n.pulse[_ngcontent-%COMP%] {\n  display: block;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 0 rgba(204, 169, 44, 0.4);\n  animation: pulse 2s infinite;\n}\n.pulse[_ngcontent-%COMP%]:hover {\n  animation: none;\n}\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(204, 169, 44, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0);\n  }\n}\n.huge[_ngcontent-%COMP%] {\n  font-family: Lato, Roboto, Helvetica, Arial, sans-serif;\n  font-weight: 400;\n}\n.column-th-span[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 500;\n  color: #353f45;\n}\n.card-header-custom[_ngcontent-%COMP%] {\n  box-shadow: none !important;\n  margin-left: 0px;\n  margin-right: 0px;\n  border-bottom: 1px solid #eff3f5;\n}\n.column-td[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n}\n.request-first-text[_ngcontent-%COMP%]:hover {\n  color: rgb(20, 74, 117);\n}\n@media (max-width: 991px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    top: -2px !important;\n  }\n}\n@media (max-width: 370px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    height: 37px !important;\n  }\n  .bottom-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    padding: 6px !important;\n    height: 39px;\n  }\n}\n.tab-active[_ngcontent-%COMP%] {\n  color: #3ea9f5;\n  border-bottom: 3px solid #3ea9f5;\n}\n.ws-requests-list-servedby-avatar[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-top: 1px;\n  margin-bottom: 1px;\n  object-fit: cover;\n}\n.team-container[_ngcontent-%COMP%] {\n  display: flex;\n}\n.team-agent[_ngcontent-%COMP%] {\n  display: inline-block;\n  position: relative;\n  align-items: center;\n  -webkit-box-pack: center;\n  padding: 8px 16px;\n  cursor: pointer;\n}\n.middle[_ngcontent-%COMP%] {\n  float: left;\n  width: 100%;\n  overflow: auto;\n  \n  white-space: nowrap;\n}\n.side[_ngcontent-%COMP%] {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.right-li[_ngcontent-%COMP%] {\n  float: right !important;\n  padding-top: 10px !important;\n}\n.no_visitor__placeeholder[_ngcontent-%COMP%] {\n  font-size: 1em;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  margin: auto;\n  flex-direction: column;\n  width: 100%;\n  padding: 63px;\n  text-align: center;\n}\n.served-by-agent[_ngcontent-%COMP%] {\n  font-size: 11px;\n  font-weight: 400;\n}\n.bot-type-logo-wpr[_ngcontent-%COMP%] {\n  position: relative;\n}\n.bot-type-logo-img-wpr[_ngcontent-%COMP%] {\n  border: 1px solid #eee;\n  height: 15px;\n  width: 15px;\n  position: absolute;\n  top: -34px;\n  left: -3px;\n  border-radius: 999px;\n  background: #fff;\n}\n.served-by-bot--type-logo[_ngcontent-%COMP%] {\n  position: relative;\n  top: -5px;\n  padding: 2px;\n}\n.ua_browser_icon[_ngcontent-%COMP%] {\n  width: 13px;\n}\n.padding_5[_ngcontent-%COMP%] {\n  padding-top: 8px !important;\n  padding-bottom: 8px !important;\n}\n.contact-fullname[_ngcontent-%COMP%] {\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: inline-block;\n  line-height: 13px;\n}\n.tool-tip-bottom--custom[_ngcontent-%COMP%] {\n  white-space: nowrap !important;\n  min-width: -moz-fit-content !important;\n  min-width: fit-content !important;\n  text-align: center !important;\n  padding: 5px 10px !important;\n  top: 29px !important;\n  font-size: 10px !important;\n}\n.email-wpr[_ngcontent-%COMP%] {\n  background: #bb001b;\n  border-radius: 50%;\n}\n.form-wpr[_ngcontent-%COMP%] {\n  background: #39988d;\n  border-radius: 50%;\n}\n.channel-img-in-conversations[_ngcontent-%COMP%] {\n  width: 24px;\n  height: 24px;\n  min-width: 24px;\n}\n.channel-wpr-padding-left[_ngcontent-%COMP%] {\n  padding-left: 3px;\n}\n.requester-presence[_ngcontent-%COMP%] {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  border: 1px solid #ffffff;\n  position: absolute;\n  top: 19px;\n  left: 22px;\n}\n.ticket-id-badge[_ngcontent-%COMP%] {\n  float: left;\n  background-color: #e8e8e8;\n  color: #737376;\n  font-size: 11px;\n  font-weight: 500;\n  min-width: 20px;\n  text-align: center;\n  position: relative;\n  top: 1px;\n  border-radius: 4px;\n  margin-right: 3px;\n  padding: 0px 2px;\n}\n  .convs-custom-mat-tooltip {\n  background-color: #2d323e !important;\n  font-size: 11px !important;\n  border-radius: 2px !important;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif !important;\n  padding-top: 6px !important;\n  padding-bottom: 6px !important;\n}\n.custom-input-group---btn[_ngcontent-%COMP%] {\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n}\n.custom-input-group---btn[_ngcontent-%COMP%]:active {\n  background-color: rgba(60, 64, 67, 0.12);\n  outline: none;\n}\n  .mat-white-tooltip {\n  background-color: #fff !important;\n  font-size: 11px !important;\n  border-radius: 2px !important;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  padding-top: 5px !important;\n  padding-bottom: 5px !important;\n  border: 1px solid #ccc;\n  color: #000 !important;\n  font-weight: 400 !important;\n}\n.requester-verified-icon[_ngcontent-%COMP%] {\n  position: absolute;\n  left: -40px;\n  top: -18px;\n}\n.requester-verified-icon-voice-channel[_ngcontent-%COMP%] {\n  top: -26px;\n}\n.requester-has-phone-as-fullname[_ngcontent-%COMP%] {\n  top: -23px !important;\n}\n.requester-fullname-is-not-phone[_ngcontent-%COMP%] {\n  top: -18px !important;\n}\n.active-row[_ngcontent-%COMP%] {\n  animation-name: ripple_effect;\n  animation-duration: 3s;\n  animation-iteration-count: 1s;\n}\n@keyframes ripple_effect {\n  0% {\n    background-color: rgb(210, 210, 210);\n  }\n  100% {\n    background-color: rgba(210, 210, 210, 0);\n  }\n}\n.span-link-style[_ngcontent-%COMP%] {\n  cursor: pointer;\n  color: var(--blue-20);\n}\n.span-link-style[_ngcontent-%COMP%]:hover {\n  text-decoration: underline;\n}']}),n})();function es(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function ts(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToUnservedNTR())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MoreInQueque")," "))}function ns(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",19,20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.archiveSelected())}),e.ALo(2,"translate"),e.TgZ(3,"span",21),e._uU(4," archive "),e.qZA()()}2&n&&e.s9C("matTooltip",e.lcZ(2,1,"VisitorsPage.Resolve"))}function ss(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",22)(2,"p",23),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"NoRequests")," "))}function is(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",72),e._UZ(2,"img",73),e.TgZ(3,"div",74)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"slice"),e.TgZ(9,"span",75),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.s9C("src",t.attributes.last_abandoned_by_project_user_array[0].img_url,e.LSH),e.xp6(3),e.hij("",t.attributes.last_abandoned_by_project_user_array[0].firstname," "),e.xp6(2),e.hij("",e.Dn7(8,4,t.attributes.last_abandoned_by_project_user_array[0].lastname,0,1),". "),e.xp6(3),e.hij(" (",e.lcZ(11,8,"theLastOneWhoLeft"),") ")}}const ie=function(n){return{"background-color":n}};function os(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",72)(2,"div",76),e._uU(3),e.qZA(),e.TgZ(4,"div",74)(5,"span"),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"slice"),e.TgZ(10,"span",75),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngStyle",e.VKq(11,ie,t.attributes.last_abandoned_by_project_user_array[0].fillColour)),e.xp6(1),e.hij(" ",t.attributes.last_abandoned_by_project_user_array[0].fullname_initial," "),e.xp6(3),e.hij("",t.attributes.last_abandoned_by_project_user_array[0].firstname," "),e.xp6(2),e.hij("",e.Dn7(9,5,t.attributes.last_abandoned_by_project_user_array[0].lastname,0,1),". "),e.xp6(3),e.hij(" (",e.lcZ(12,9,"theLastOneWhoLeft"),") ")}}function ls(n,o){if(1&n&&e._UZ(0,"img",88),2&n){const t=e.oxw().$implicit;e.s9C("src",t.img_url,e.LSH)}}function rs(n,o){if(1&n&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,ie,null==t?null:t.fillColour)),e.xp6(1),e.hij(" ",null==t?null:t.fullname_initial," ")}}function as(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,null==t?null:t.lastname,0,1),". ")}}const ve=function(n){return{"first-served-by":n}};function cs(n,o){if(1&n&&(e.TgZ(0,"div",80)(1,"div",81)(2,"div",82)(3,"div",83),e.YNc(4,ls,1,1,"img",84),e.YNc(5,rs,2,4,"div",85),e.qZA()(),e.TgZ(6,"span",86)(7,"span",87),e._uU(8),e.YNc(9,as,3,5,"span",5),e.qZA()()()()),2&n){const t=o.$implicit,i=o.first;e.xp6(1),e.Q6J("ngClass",e.VKq(5,ve,i)),e.xp6(3),e.Q6J("ngIf",t.has_image),e.xp6(1),e.Q6J("ngIf",!t.has_image),e.xp6(3),e.hij(" ",null==t?null:t.firstname," "),e.xp6(1),e.Q6J("ngIf",null==t?null:t.lastname)}}function ps(n,o){if(1&n&&(e.TgZ(0,"div",77)(1,"div",78),e.YNc(2,cs,10,7,"div",79),e.qZA()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t||null==t.attributes?null:t.attributes.other_project_users_that_has_abandoned_array)}}const Re=function(n){return{height:n}};function us(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(2).index,a=e.oxw();return s.stopPropagation(),e.KtG(a.toggleTooltip(l))}),e.TgZ(1,"span",68)(2,"span",63),e._uU(3," shuffle_on "),e.qZA(),e.TgZ(4,"span",69)(5,"h4",70),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,is,12,10,"div",5),e.YNc(9,os,13,13,"div",5),e.YNc(10,ps,3,1,"div",71),e._UZ(11,"i"),e.qZA()()()}if(2&n){const t=e.oxw(2),i=t.index,s=t.$implicit;e.xp6(4),e.s9C("id","tooltip_"+i),e.Q6J("ngStyle",e.VKq(8,Re,(null==s||null==s.attributes||null==s.attributes.other_project_users_that_has_abandoned_array?null:s.attributes.other_project_users_that_has_abandoned_array.length)>0?"100px":"76px")),e.xp6(2),e.hij(" ",e.lcZ(7,6,"ThisChatHasBeenAbandonedBy")," "),e.xp6(2),e.Q6J("ngIf",!0===s.attributes.last_abandoned_by_project_user_array[0].has_image),e.xp6(1),e.Q6J("ngIf",!1===s.attributes.last_abandoned_by_project_user_array[0].has_image),e.xp6(1),e.Q6J("ngIf",(null==s||null==s.attributes||null==s.attributes.other_project_users_that_has_abandoned_array?null:s.attributes.other_project_users_that_has_abandoned_array.length)>0)}}function _s(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"span",56),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.goToRequestMsgs(null==s?null:s.request_id))}),e._UZ(2,"img",65,20),e.ALo(4,"translate"),e.YNc(5,us,12,10,"div",66),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.s9C("matTooltip",e.lcZ(4,2,"RequestMsgsPage.RequestUnserved")),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.attributes||null==t.attributes.last_abandoned_by_project_user_array?null:t.attributes.last_abandoned_by_project_user_array.length)>0)}}function gs(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",72),e._UZ(2,"img",90),e.TgZ(3,"div",74)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"slice"),e.TgZ(9,"span",75),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.s9C("src",t.attributes.last_abandoned_by_project_user_array[0].img_url,e.LSH),e.xp6(3),e.hij("",t.attributes.last_abandoned_by_project_user_array[0].firstname," "),e.xp6(2),e.hij("",e.Dn7(8,4,t.attributes.last_abandoned_by_project_user_array[0].lastname,0,1),". "),e.xp6(3),e.hij(" (",e.lcZ(11,8,"theLastOneWhoLeft"),") ")}}function ds(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",72)(2,"div",76),e._uU(3),e.qZA(),e.TgZ(4,"div",74)(5,"span"),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"slice"),e.TgZ(10,"span",75),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngStyle",e.VKq(11,ie,t.attributes.last_abandoned_by_project_user_array[0].fillColour)),e.xp6(1),e.hij(" ",t.attributes.last_abandoned_by_project_user_array[0].fullname_initial," "),e.xp6(3),e.hij("",t.attributes.last_abandoned_by_project_user_array[0].firstname," "),e.xp6(2),e.hij("",e.Dn7(9,5,t.attributes.last_abandoned_by_project_user_array[0].lastname,0,1),". "),e.xp6(3),e.hij(" (",e.lcZ(12,9,"theLastOneWhoLeft"),") ")}}function hs(n,o){if(1&n&&e._UZ(0,"img",88),2&n){const t=e.oxw().$implicit;e.s9C("src",t.img_url,e.LSH)}}function ms(n,o){if(1&n&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,ie,null==t?null:t.fillColour)),e.xp6(1),e.hij(" ",null==t?null:t.fullname_initial," ")}}function fs(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,null==t?null:t.lastname,0,1),". ")}}function Ss(n,o){if(1&n&&(e.TgZ(0,"div",80)(1,"div",81)(2,"div",82)(3,"div",83),e.YNc(4,hs,1,1,"img",84),e.YNc(5,ms,2,4,"div",85),e.qZA()(),e.TgZ(6,"span",86)(7,"span",87),e._uU(8),e.YNc(9,fs,3,5,"span",5),e.qZA()()()()),2&n){const t=o.$implicit,i=o.first;e.xp6(1),e.Q6J("ngClass",e.VKq(5,ve,i)),e.xp6(3),e.Q6J("ngIf",t.has_image),e.xp6(1),e.Q6J("ngIf",!t.has_image),e.xp6(3),e.hij(" ",null==t?null:t.firstname," "),e.xp6(1),e.Q6J("ngIf",null==t?null:t.lastname)}}function Ts(n,o){if(1&n&&(e.TgZ(0,"div",77)(1,"div",78),e.YNc(2,Ss,10,7,"div",79),e.qZA()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t||null==t.attributes?null:t.attributes.other_project_users_that_has_abandoned_array)}}function xs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(2).index,a=e.oxw();return s.stopPropagation(),e.KtG(a.toggleTooltip(l))}),e.TgZ(1,"span",68)(2,"span",63),e._uU(3," shuffle_on "),e.qZA(),e.TgZ(4,"span",69)(5,"h4",70),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,gs,12,10,"div",5),e.YNc(9,ds,13,13,"div",5),e.YNc(10,Ts,3,1,"div",71),e._UZ(11,"i"),e.qZA()()()}if(2&n){const t=e.oxw(2),i=t.index,s=t.$implicit;e.xp6(4),e.s9C("id","tooltip_"+i),e.Q6J("ngStyle",e.VKq(8,Re,(null==s||null==s.attributes||null==s.attributes.other_project_users_that_has_abandoned_array?null:s.attributes.other_project_users_that_has_abandoned_array.length)>0?"100px":"76px")),e.xp6(2),e.hij(" ",e.lcZ(7,6,"ThisChatHasBeenAbandonedBy")," "),e.xp6(2),e.Q6J("ngIf",!0===s.attributes.last_abandoned_by_project_user_array[0].has_image),e.xp6(1),e.Q6J("ngIf",!1===s.attributes.last_abandoned_by_project_user_array[0].has_image),e.xp6(1),e.Q6J("ngIf",(null==s||null==s.attributes||null==s.attributes.other_project_users_that_has_abandoned_array?null:s.attributes.other_project_users_that_has_abandoned_array.length)>0)}}function Es(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"span",56),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.goToRequestMsgs(null==s?null:s.request_id))}),e._UZ(2,"img",89,20),e.ALo(4,"translate"),e.YNc(5,xs,12,10,"div",66),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.s9C("matTooltip",e.lcZ(4,2,"RequestMsgsPage.InternalRequestUnserved")),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.attributes||null==t.attributes.last_abandoned_by_project_user_array?null:t.attributes.last_abandoned_by_project_user_array.length)>0)}}function vs(n,o){if(1&n&&(e.TgZ(0,"span",91,20),e.ALo(2,"translate"),e._uU(3),e.qZA()),2&n){const t=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(2,2,"TicketId")),e.xp6(3),e.hij(" #",null==t?null:t.ticket_id," ")}}function Rs(n,o){1&n&&(e.TgZ(0,"span",104),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"RequestMsgsPage.RequestUnserved")," "))}function bs(n,o){1&n&&(e.TgZ(0,"span",104),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"RequestMsgsPage.InternalRequestUnserved")," "))}function Cs(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Chat "),e.qZA())}function As(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Email "),e.qZA())}function qs(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Form "),e.qZA())}function Is(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Telegram "),e.qZA())}function Us(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Facebook Messenger "),e.qZA())}function ws(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," WhatsApp "),e.qZA())}function Os(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Voice "),e.qZA())}function Ls(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," Voice "),e.qZA())}function Zs(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," SMS "),e.qZA())}function Ms(n,o){if(1&n&&(e.TgZ(0,"p",105)(1,"span",96),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"Subject"),":"),e.xp6(2),e.hij(" ",null==t?null:t.subject," ")}}function Ps(n,o){if(1&n&&(e.TgZ(0,"div",106)(1,"p",107),e._uU(2),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"p",108),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",(null==t||null==t.msgsArray[0]||null==t.msgsArray[0].senderFullname?null:t.msgsArray[0].senderFullname.length)>40?e.Dn7(3,2,null==t||null==t.msgsArray[0]?null:t.msgsArray[0].senderFullname,0,37)+"...":null==t||null==t.msgsArray[0]?null:t.msgsArray[0].senderFullname," "),e.xp6(3),e.hij(" ",e.xi3(6,6,null==t||null==t.msgsArray[0]?null:t.msgsArray[0].createdAt,"dd/MM/yyyy")," ")}}function Ns(n,o){if(1&n&&(e._UZ(0,"p",109),e.ALo(1,"marked"),e.ALo(2,"htmlEntitiesEncode")),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",e.lcZ(1,1,e.lcZ(2,3,null==t||null==t.msgsArray[0]?null:t.msgsArray[0].text)),e.oJD)}}function ys(n,o){1&n&&(e.TgZ(0,"div")(1,"span",110),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"ProcessingNoDot")," "))}function Ws(n,o){if(1&n&&(e.TgZ(0,"div",92),e.YNc(1,Rs,3,3,"span",93),e.YNc(2,bs,3,3,"span",93),e.TgZ(3,"span",94),e._uU(4),e.qZA(),e.TgZ(5,"span",95)(6,"span",96),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",97)(12,"span",96),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,Cs,2,0,"span",5),e.YNc(16,As,2,0,"span",5),e.YNc(17,qs,2,0,"span",5),e.YNc(18,Is,2,0,"span",5),e.YNc(19,Us,2,0,"span",5),e.YNc(20,ws,2,0,"span",5),e.YNc(21,Os,2,0,"span",5),e.YNc(22,Ls,2,0,"span",5),e.YNc(23,Zs,2,0,"span",5),e.qZA()(),e.YNc(24,Ms,5,4,"p",98),e._UZ(25,"div",99),e.ALo(26,"marked"),e.ALo(27,"htmlEntitiesEncode"),e.TgZ(28,"span")(29,"p",100),e._uU(30),e.ALo(31,"translate"),e.qZA(),e._UZ(32,"hr",101),e.YNc(33,Ps,7,9,"div",102),e.YNc(34,Ns,3,5,"p",103),e.YNc(35,ys,4,3,"div",5),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",100===(null==t?null:t.status)&&!(null!=t&&t.subject)),e.xp6(1),e.Q6J("ngIf",100===(null==t?null:t.status)&&(null==t?null:t.subject)),e.xp6(2),e.hij("#",null==t?null:t.ticket_id,""),e.xp6(3),e.hij(" ",e.lcZ(8,21,"Priority"),":"),e.xp6(2),e.hij(" ",e.lcZ(10,23,null==t?null:t.priority)," "),e.xp6(4),e.hij(" ",e.lcZ(14,25,"MessageChannel"),":"),e.xp6(2),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.CHAT21),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.EMAIL),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.FORM),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.TELEGRAM),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.MESSANGER),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.WHATSAPP),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_VXML),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.SMS_TWILIO),e.xp6(1),e.Q6J("ngIf",null==t?null:t.subject),e.xp6(1),e.Q6J("innerHTML",e.lcZ(26,27,e.lcZ(27,29,null==t?null:t.first_text)),e.oJD),e.xp6(5),e.Oqu(e.lcZ(31,31,"MostRecentComment")),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.msgsArray?null:t.msgsArray.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.msgsArray?null:t.msgsArray.length)>0),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.msgsArray&&t.msgsArray.length))}}const be=function(n){return{fill:n}};function Qs(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",116),e.O4$(),e.TgZ(2,"svg",117),e._UZ(3,"path",118),e.qZA(),e.kcU(),e.TgZ(4,"span",119),e._uU(5),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngStyle",e.VKq(2,be,t.color)),e.xp6(2),e.hij(" ",t.tag," ")}}function ks(n,o){if(1&n&&(e.TgZ(0,"div",115),e.YNc(1,Qs,6,4,"div",5),e.qZA()),2&n){const t=o.index;e.xp6(1),e.Q6J("ngIf",t<2)}}function Ds(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",120)(1,"a",121),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(2).$implicit,a=e.oxw();return s.stopPropagation(),e.KtG(a.displayMoreTags(null==l?null:l.request_id))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("id","more_tags_btn_for_request_"+(null==t?null:t.request_id)),e.xp6(2),e.AsE("... ",(null==t||null==t.tags?null:t.tags.length)-2," ",e.lcZ(3,3,"more")," ")}}function Js(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",116),e.O4$(),e.TgZ(2,"svg",117),e._UZ(3,"path",118),e.qZA(),e.kcU(),e.TgZ(4,"span",119),e._uU(5),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngStyle",e.VKq(2,be,t.color)),e.xp6(2),e.hij(" ",t.tag," ")}}function js(n,o){if(1&n&&(e.TgZ(0,"div",115),e.YNc(1,Js,6,4,"div",5),e.qZA()),2&n){const t=o.index;e.xp6(1),e.Q6J("ngIf",t>=2)}}function Ys(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",122),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(2).$implicit,a=e.oxw();return s.stopPropagation(),e.KtG(a.displayLessTag(null==l?null:l.request_id))}),e.YNc(1,js,2,1,"div",112),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("id","more_tags_for_request_"+(null==t?null:t.request_id)),e.xp6(1),e.Q6J("ngForOf",null==t?null:t.tags)}}function Hs(n,o){if(1&n&&(e.TgZ(0,"section",111),e.YNc(1,ks,2,1,"div",112),e.YNc(2,Ds,4,5,"div",113),e.YNc(3,Ys,2,2,"div",114),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.tags),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.tags?null:t.tags.length)>2),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.tags?null:t.tags.length)>2)}}function Bs(n,o){1&n&&(e.TgZ(0,"span",126,20),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"img",127),e.qZA()),2&n&&e.hYB("matTooltip","",e.lcZ(2,2,"Priority"),": ",e.lcZ(3,4,"high"),"")}function Vs(n,o){1&n&&(e.TgZ(0,"span",128,20),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"img",129),e.qZA()),2&n&&e.hYB("matTooltip","",e.lcZ(2,2,"Priority"),": ",e.lcZ(3,4,"urgent"),"")}function Fs(n,o){1&n&&(e.TgZ(0,"span",128,20),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"img",130),e.qZA()),2&n&&e.hYB("matTooltip","",e.lcZ(2,2,"Priority"),": ",e.lcZ(3,4,"low"),"")}function Gs(n,o){if(1&n&&(e.TgZ(0,"div",123),e.YNc(1,Bs,5,6,"span",124),e.YNc(2,Vs,5,6,"span",125),e.YNc(3,Fs,5,6,"span",125),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","high"===(null==t?null:t.priority)),e.xp6(1),e.Q6J("ngIf","urgent"===(null==t?null:t.priority)),e.xp6(1),e.Q6J("ngIf","low"===(null==t?null:t.priority))}}function $s(n,o){1&n&&(e.TgZ(0,"span",68),e._UZ(1,"img",135),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"Telegram "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function zs(n,o){1&n&&(e.TgZ(0,"span",68),e._UZ(1,"img",138),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"Voice "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function Ks(n,o){1&n&&(e.TgZ(0,"span",68),e._UZ(1,"img",139),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"SMS "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function Xs(n,o){1&n&&(e.TgZ(0,"span",68),e._UZ(1,"img",140),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"WhatsApp "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function ei(n,o){1&n&&(e.TgZ(0,"span",68),e._UZ(1,"img",141),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"Facebook Messenger "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function ti(n,o){1&n&&(e.TgZ(0,"span",142),e._UZ(1,"img",143),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"Email "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}function ni(n,o){1&n&&(e.TgZ(0,"span",144),e._UZ(1,"img",145),e.TgZ(2,"span",136)(3,"span",137),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",137),e._uU(7,"Form "),e.qZA(),e._UZ(8,"i"),e.qZA()()),2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"MessageChannel"),": "))}const si=function(n){return{"channel-wpr-padding-left":n}};function ii(n,o){if(1&n&&(e.TgZ(0,"div",131),e.YNc(1,$s,9,3,"span",132),e.YNc(2,zs,9,3,"span",132),e.YNc(3,Ks,9,3,"span",132),e.YNc(4,Xs,9,3,"span",132),e.YNc(5,ei,9,3,"span",132),e.YNc(6,ti,9,3,"span",133),e.YNc(7,ni,9,3,"span",134),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(8,si,"medium"!==(null==t?null:t.priority))),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.TELEGRAM),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.VOICE_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.SMS_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.WHATSAPP),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.MESSANGER),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.EMAIL),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===i.CHANNELS_NAME.FORM)}}function oi(n,o){if(1&n&&(e.TgZ(0,"span",146),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.requester_fullname_initial," ")}}function li(n,o){1&n&&(e.TgZ(0,"span",147),e._uU(1," call "),e.qZA())}function ri(n,o){1&n&&(e.TgZ(0,"span",147),e._uU(1," call "),e.qZA())}function ai(n,o){if(1&n&&(e.TgZ(0,"span",146),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.requester_fullname_initial," ")}}function ci(n,o){1&n&&(e.TgZ(0,"div",148),e.O4$(),e.TgZ(1,"svg",149)(2,"style",150),e._uU(3," .st0_UserVerified { fill: none; } .st1_UserVerified { fill: #FFFFFF; } .st2_UserVerified { fill: #18BDF7; } "),e.qZA(),e._UZ(4,"path",151)(5,"path",152)(6,"path",153),e.qZA()())}const pi=function(n){return{"requester_fullname_initial-undefined":n}};function ui(n,o){if(1&n&&(e.TgZ(0,"span",24),e._uU(1," N/A "),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,pi,!(null!=t&&null!=t.lead&&t.lead.fullname)))}}function _i(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t||null==t.lead?null:t.lead.email," ")}}function gi(n,o){if(1&n&&(e.TgZ(0,"span",154),e.YNc(1,_i,2,1,"span",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.lead?null:t.lead.email)}}function di(n,o){if(1&n&&(e.TgZ(0,"span",156,20),e.ALo(2,"translate"),e._uU(3),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.s9C("matTooltip",e.lcZ(2,2,"RequesterPhoneNumber")),e.xp6(3),e.hij(" ",null==t||null==t.lead?null:t.lead.phone," ")}}function hi(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,di,4,4,"span",155),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.lead?null:t.lead.phone)!==(null==t||null==t.lead?null:t.lead.fullname))}}function mi(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",159),e.qZA())}function fi(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",160),e.qZA())}function Si(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",161),e.qZA())}function Ti(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",162),e.qZA())}function xi(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",163),e.qZA())}function Ei(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.ua_os," ")}}function vi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Unavailable")," "))}function Ri(n,o){if(1&n&&(e.TgZ(0,"span",157),e.YNc(1,mi,2,0,"span",5),e.YNc(2,fi,2,0,"span",5),e.YNc(3,Si,2,0,"span",5),e.YNc(4,Ti,2,0,"span",5),e.YNc(5,xi,2,0,"span",5),e.TgZ(6,"span",158),e.YNc(7,Ei,2,1,"span",5),e.YNc(8,vi,3,3,"span",5),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Android"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Mac OS"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("iOS"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Windows"))&&-1===(null==t||null==t.ua_os?null:t.ua_os.indexOf("Ubuntu"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Android"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Mac OS"))||-1!==(null==t?null:t.ua_os.indexOf("iOS"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Windows"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_os.indexOf("Ubuntu"))),e.xp6(2),e.Q6J("ngIf","undefined undefined"!==(null==t?null:t.ua_os)),e.xp6(1),e.Q6J("ngIf","undefined undefined"===(null==t?null:t.ua_os))}}function bi(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",164),e.qZA())}function Ci(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",165),e.qZA())}function Ai(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",166),e.qZA())}function qi(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",167),e.qZA())}function Ii(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",168),e.qZA())}function Ui(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",169),e.qZA())}function wi(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",170),e.qZA())}function Oi(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.ua_browser," ")}}function Li(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Unavailable")," "))}function Zi(n,o){if(1&n&&(e.TgZ(0,"span",157),e.YNc(1,bi,2,0,"span",5),e.YNc(2,Ci,2,0,"span",5),e.YNc(3,Ai,2,0,"span",5),e.YNc(4,qi,2,0,"span",5),e.YNc(5,Ii,2,0,"span",5),e.YNc(6,Ui,2,0,"span",5),e.YNc(7,wi,2,0,"span",5),e.TgZ(8,"span",158),e.YNc(9,Oi,2,1,"span",5),e.YNc(10,Li,3,3,"span",5),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",-1===(null==t?null:t.ua_browser.indexOf("Chrome"))&&-1===(null==t?null:t.ua_browser.indexOf("Chromium"))&&-1===(null==t?null:t.ua_browser.indexOf("Firefox"))&&-1===(null==t?null:t.ua_browser.indexOf("Edge"))&&-1===(null==t?null:t.ua_browser.indexOf("Opera"))&&-1===(null==t?null:t.ua_browser.indexOf("Safari"))&&-1===(null==t?null:t.ua_browser.indexOf("IE"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Chrome"))||-1!==(null==t?null:t.ua_browser.indexOf("Chromium"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Firefox"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Edge"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Opera"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("Safari"))),e.xp6(1),e.Q6J("ngIf",-1!==(null==t?null:t.ua_browser.indexOf("IE"))),e.xp6(2),e.Q6J("ngIf","undefined undefined"!==(null==t?null:t.ua_browser)),e.xp6(1),e.Q6J("ngIf","undefined undefined"===(null==t?null:t.ua_browser))}}function Mi(n,o){if(1&n&&(e.TgZ(0,"p",57),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.dept?null:t.dept.name," ")}}function Pi(n,o){1&n&&(e.TgZ(0,"p",57),e._uU(1," N/A "),e.qZA())}const Ni=function(n){return{"active-row":n}},yi=function(n){return{padding_5:n}},Wi=function(n){return{background:n}},Qi=function(n,o,t){return{"requester-not-has-email":n,"requester-not-has-phone":o,"requester-fullname-is-phone":t}};function ki(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24)(1,"td",25)(2,"div",26)(3,"label")(4,"input",27),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.change(l))}),e.qZA()()()(),e.TgZ(5,"td",25),e.YNc(6,_s,6,4,"div",28),e.YNc(7,Es,6,4,"div",28),e.qZA(),e.TgZ(8,"td",29),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.YNc(9,vs,4,4,"span",30),e.TgZ(10,"p",31),e.NdJ("mouseover",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.overfirstTextGetRequestMsg(l))}),e._uU(11),e.qZA(),e.YNc(12,Ws,36,33,"ng-template",null,32,e.W1O),e.YNc(14,Hs,4,3,"section",33),e.qZA(),e.TgZ(15,"td",34)(16,"div",35),e.YNc(17,Gs,4,3,"div",36),e.YNc(18,ii,8,10,"div",37),e.qZA()(),e.TgZ(19,"td",38),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.TgZ(20,"div",39)(21,"div",40)(22,"div",41),e.YNc(23,oi,2,1,"span",42),e.YNc(24,li,2,0,"span",43),e.YNc(25,ri,2,0,"span",43),e.YNc(26,ai,2,1,"span",44),e.YNc(27,ci,7,0,"div",45),e.qZA()(),e.TgZ(28,"div",46)(29,"div",47)(30,"span",48),e._uU(31),e.ALo(32,"slice"),e.qZA(),e.YNc(33,ui,2,3,"span",49),e.qZA(),e.TgZ(34,"div",50)(35,"span",51),e.YNc(36,gi,2,1,"span",52),e.YNc(37,hi,2,1,"span",5),e.qZA()()()()(),e.TgZ(38,"td"),e.YNc(39,Ri,9,7,"span",53),e.YNc(40,Zi,11,9,"span",53),e.qZA(),e.TgZ(41,"td",54),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.YNc(42,Mi,2,1,"p",55),e.YNc(43,Pi,2,0,"p",55),e.qZA(),e.TgZ(44,"td",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToRequestMsgs(null==l?null:l.request_id))}),e.TgZ(45,"p",57),e._uU(46),e.ALo(47,"amTimeAgo"),e.qZA()(),e.TgZ(48,"td",58)(49,"button",59,20),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.joinRequest(null==l?null:l.request_id))}),e.ALo(51,"translate"),e.ALo(52,"translate"),e.O4$(),e.TgZ(53,"svg",60),e._UZ(54,"path",61),e.qZA()(),e.kcU(),e.TgZ(55,"button",62,20),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.archiveRequest(null==l?null:l.request_id,l))}),e.ALo(57,"translate"),e.ALo(58,"translate"),e.TgZ(59,"i",63),e._uU(60,"archive"),e.qZA()()()()}if(2&n){const t=o.$implicit,i=e.MAs(13),s=e.oxw();e.Q6J("ngClass",e.VKq(49,Ni,(null==t?null:t.request_id)===s.storedRequestId)),e.xp6(4),e.s9C("value",t.request_id),e.Q6J("checked",null==t?null:t.isSelected)("disabled",!0===s.ROLE_IS_AGENT),e.xp6(2),e.Q6J("ngIf",100===(null==t?null:t.status)&&!(null!=t&&t.subject)),e.xp6(1),e.Q6J("ngIf",100===(null==t?null:t.status)&&(null==t?null:t.subject)),e.xp6(1),e.Q6J("ngClass",e.VKq(51,yi,(null==t||null==t.tags?null:t.tags.length)>0)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.ticket_id),e.xp6(1),e.s9C("title",null==t?null:t._id),e.Q6J("tooltip",i),e.xp6(1),e.hij(" ",null==t?null:t.first_text," "),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.tags?null:t.tags.length)>0),e.xp6(3),e.Q6J("ngIf","medium"!==(null==t?null:t.priority)),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.CHAT21),e.xp6(4),e.Q6J("ngStyle",e.VKq(53,Wi,"linear-gradient(rgb(255,255,255) -125%,"+(null==t?null:t.requester_fullname_fillColour)+")")),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO&&(null==t||null==t.lead?null:t.lead.fullname)!==(null==t||null==t.lead?null:t.lead.phone)),e.xp6(1),e.Q6J("ngIf",((null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO)&&(null==t||null==t.lead?null:t.lead.fullname)===(null==t||null==t.lead?null:t.lead.phone)),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO||null!=t&&null!=t.lead&&t.lead.phone)),e.xp6(1),e.Q6J("ngIf",((null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO)&&(null==t||null==t.lead?null:t.lead.phone)&&(null==t||null==t.lead?null:t.lead.fullname)!==(null==t||null==t.lead?null:t.lead.phone)),e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.requester_is_verified)),e.xp6(3),e.Q6J("ngClass",e.kEZ(55,Qi,(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO&&!(null!=t&&null!=t.lead&&t.lead.email),!((null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO||null!=t&&null!=t.lead&&t.lead.phone),((null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO)&&(null==t||null==t.lead?null:t.lead.phone)===(null==t||null==t.lead?null:t.lead.fullname))),e.xp6(1),e.hij(" ",(null==t||null==t.lead||null==t.lead.fullname?null:t.lead.fullname.length)>40?e.Dn7(32,35,null==t||null==t.lead?null:t.lead.fullname,0,37)+"...":null==t||null==t.lead?null:t.lead.fullname," "),e.xp6(2),e.Q6J("ngIf",!(null!=t&&null!=t.lead&&t.lead.fullname)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_VXML&&(null==t||null==t.channel?null:t.channel.name)!==s.CHANNELS_NAME.VOICE_TWILIO),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_VXML||(null==t||null==t.channel?null:t.channel.name)===s.CHANNELS_NAME.VOICE_TWILIO),e.xp6(2),e.Q6J("ngIf",null==t?null:t.userAgent),e.xp6(1),e.Q6J("ngIf",null==t?null:t.userAgent),e.xp6(2),e.Q6J("ngIf",null==t||null==t.dept?null:t.dept.name),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.dept&&t.dept.name)),e.xp6(3),e.hij(" ",e.lcZ(47,39,null==t?null:t.createdAt)," "),e.xp6(3),e.s9C("title",e.lcZ(51,41,"RequestMsgsPage.Enter")),e.s9C("matTooltip",e.lcZ(52,43,"RequestMsgsPage.Enter")),e.xp6(6),e.s9C("title",e.lcZ(57,45,"VisitorsPage.tootipArchiveRequest")),e.s9C("matTooltip",e.lcZ(58,47,"VisitorsPage.Resolve")),e.Q6J("disabled","agent"===s.USER_ROLE)}}function Di(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"appdashboard-close-request-modal",171),e.NdJ("closeModal",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onCloseArchiveRequestModal())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("id_request_to_archive",t.id_request_to_archive)("displayArchiveRequestModal",t.displayArchiveRequestModal)}}c(11373);const Ji=c(35226);let ji=(()=>{class n extends x.L{constructor(t,i,s,l,a,g,d,T,m,f,E,M,V,F){super(t,s,l,g,T,d,f,M,E),this.botLocalDbService=t,this.auth=i,this.usersLocalDbService=s,this.router=l,this.appConfigService=a,this.wsRequestsService=g,this.usersService=d,this.faqKbService=T,this.departmentService=m,this.notify=f,this.translate=E,this.logger=M,this.wsMsgsService=V,this.route=F,this.showSpinner=!0,this.unsubscribe$=new D.xQ,this.displayNoRequestString=!1,this.requests_selected=[],this.allChecked=!1,this.CHANNELS_NAME=_.cJ,this.getRouteParams()}getRouteParams(){this.scrollEl=document.querySelector(".main-panel"),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] oninit scrollEl",this.scrollEl),this.route.params.subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - GET ROUTE PARAMS ",t),t.scrollposition&&(this.scrollYposition=t.scrollposition,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - scrollYposition",+this.scrollYposition))})}ngOnInit(){this.getCurrentProject(),this.detectBrowserRefresh(),this.getTranslations(),this.getLoggedUser(),this.getProjectUserRole()}ngAfterViewInit(){setTimeout(()=>{(0,me.ZP)(this.scrollEl,"scrollTop",+this.scrollYposition,500,"easeInOutCirc",()=>{this.logger.log("done!"),this.storedRequestId=this.usersLocalDbService.getFromStorage("last-selection-id")})},100)}ngOnChanges(t){var i,s;this.logger.log("[WS-REQUEST-UNSERVED] from @Input \xbb\xbb\xbb WebSocketJs WF - wsRequestsUnserved",this.wsRequestsUnserved),this.logger.log("[WS-REQUEST-UNSERVED] from @Input \xbb\xbb\xbb WebSocketJs WF - wsRequestsUnserved length",this.wsRequestsUnserved.length),this.logger.log("[WS-REQUEST-UNSERVED] ngOnChanges changes",t),this.requestCountResp&&(this.countRequestsServedByHumanRr=this.requestCountResp.assigned,this.countRequestsServedByBotRr=this.requestCountResp.bot_assigned,this.countRequestsUnservedRr=this.requestCountResp.unassigned),((null==t?void 0:t.current_selected_prjct)||(null==t?void 0:t.ws_requests_length)&&0===(null===(i=null==t?void 0:t.ws_requests_length)||void 0===i?void 0:i.previousValue)||void 0===(null===(s=null==t?void 0:t.ws_requests_length)||void 0===s?void 0:s.previousValue))&&this.logger.log("[WS-REQUEST-UNSERVED] ngOnChanges here 1",t)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}overfirstTextGetRequestMsg(t){this.logger.log("[WS-REQUESTS-LIST][UNSERVED]] overfirstText request_id",t),this.getRequestMsg(t)}getRequestMsg(t){this.wsMsgsService.geRequestMsgs(t.request_id).subscribe(i=>{if(this.logger.log("[WS-REQUESTS-LIST][UNSERVED] -  GET REQUESTS MSGS - RES: ",i),i){const s=[];i.forEach((l,a)=>{l&&(l.attributes&&l.attributes.subtype&&"info"===l.attributes.subtype||l.attributes&&l.attributes.subtype&&"info/support"===l.attributes.subtype||s.push(l)),t.msgsArray=s.sort(function(d,T){return d.createdAt>T.createdAt?-1:d.createdAt<T.createdAt?1:0})})}},i=>{this.logger.error("[WS-REQUESTS-LIST][UNSERVED] - GET REQUESTS MSGS - ERROR: ",i)},()=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] * COMPLETE *")})}getProjectUserRole(){this.usersService.project_user_role_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] GET PROJECT-USER ROLE ",t),t&&(this.USER_ROLE=t,this.ROLE_IS_AGENT="agent"===t)})}getLoggedUser(){this.auth.user_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{this.logger.log("WS-REQUESTS UNSERVED ",t),t&&(this.currentUserID=t._id,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] GET CURRENT USER - currentUser ID",this.currentUserID))})}getTranslations(){this.translateArchivingRequestErrorMsg(),this.translateArchivingRequestMsg(),this.translateRequestHasBeenArchivedNoticationMsg_part1(),this.translateRequestHasBeenArchivedNoticationMsg_part2(),this.translateAreYouSure(),this.translateCancel(),this.conversationWillBeAssignedToYourself()}translateAreYouSure(){this.translate.get("AreYouSure").subscribe(t=>{this.areYouSureMsg=t})}translateCancel(){this.translate.get("Cancel").subscribe(t=>{this.cancelMsg=t})}conversationWillBeAssignedToYourself(){this.translate.get("ByPressingOkTheConversationWillBeAssignedToYourself").subscribe(t=>{this.conversationWillBeAssignedToYourselfMsg=t})}translateAllConversationsHaveBeenArchived(){this.translate.get("AllConversationsaveBeenArchived").subscribe(t=>{this.allConversationsaveBeenArchivedMsg=t})}selectAll(t){this.logger.log("[WS-REQUESTS-LIST][UNSERVED] > Is checked: ",t.target.checked);var i=document.getElementById("allCheckbox");if(this.logger.log("[WS-REQUESTS-LIST][UNSERVED] **++ checkbox Indeterminate: ",i.indeterminate),1==t.target.checked){this.logger.log("SELECT ALL e.target.checked ",t.target.checked),this.allChecked=!0;for(let s of this.wsRequestsUnserved)this.requests_selected.indexOf(s.request_id)>-1?this.logger.log("[WS-REQUESTS-LIST][UNSERVED]] **++ Already present in requests_selected"):(this.logger.log("[WS-REQUESTS-LIST][UNSERVED] *+*+ Request Selected: ",s.request_id),this.requests_selected.push(s.request_id)),!0===s.isSelected?this.logger.log("[WS-REQUESTS-LIST][UNSERVED]] **++ Already selected"):s.isSelected=!0;this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ARRAY OF SELECTED REQUEST ",this.requests_selected),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ARRAY OF SELECTED REQUEST lenght ",this.requests_selected.length)}else if(0==t.target.checked){for(let s of this.wsRequestsUnserved)s.hasOwnProperty("isSelected")&&(s.isSelected=!1);this.allChecked=!1,this.requests_selected=[],this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ARRAY OF SELECTED REQUEST ",this.requests_selected),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ARRAY OF SELECTED REQUEST lenght ",this.requests_selected.length)}}change(t){var i=document.getElementById("allCheckbox");i&&(this.logger.log("[WS-REQUESTS-LIST][UNSERVED] -  change - checkbox Indeterminate: ",i.indeterminate),0===this.requests_selected.length&&(i.indeterminate=!1)),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] -  change - checkbox request: ",t),t.hasOwnProperty("isSelected")?!0===t.isSelected?t.isSelected=!1:!1===t.isSelected&&(t.isSelected=!0):t.isSelected=!0,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - change - SELECTED REQUEST ID: ",t.request_id);const s=this.requests_selected.indexOf(t.request_id);this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - change - request selected INDEX: ",s),s>-1?(this.requests_selected.splice(s,1),i&&(i.indeterminate=!0,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - change - checkbox Indeterminate: ",i.indeterminate)),0==this.requests_selected.length&&(i&&(i.indeterminate=!1,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - change - checkbox Indeterminate: ",i.indeterminate)),this.allChecked=!1)):(this.requests_selected.push(t.request_id),i&&(i.indeterminate=!0,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - change - checkbox Indeterminate: ",i.indeterminate)),this.requests_selected.length==this.wsRequestsUnserved.length&&(i&&(i.indeterminate=!1,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - change - checkbox Indeterminate: ",i.indeterminate)),this.allChecked=!0)),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ARRAY OF SELECTED REQUEST ",this.requests_selected),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ARRAY OF SELECTED REQUEST lenght ",this.requests_selected.length)}archiveSelected(){let t=0;this.requests_selected.forEach((i,s)=>{this.wsRequestsService.closeSupportGroup(i).subscribe(l=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP (archiveRequest) - requestid ",i),this.storedRequestId=this.usersLocalDbService.getFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP (archiveRequest) - storedRequestId ",this.storedRequestId),i===this.storedRequestId&&(this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP (archiveRequest) - REMOVE FROM STOREGAE storedRequestId ",this.storedRequestId),this.usersLocalDbService.removeFromStorage("last-selection-id")),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP - requests_selected ",this.requests_selected)},l=>{this.logger.error("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP - ERROR ",l)},()=>{this.usersLocalDbService.removeFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP - COMPLETE"),t+=1;const l=this.requests_selected.indexOf(i);if(l>-1&&this.requests_selected.splice(l,1),this.notify.showArchivingRequestNotification(this.archivingRequestNoticationMsg+t+"/"+this.requests_selected.length),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - this.requests_selected.length ",this.requests_selected.length),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - requests_selected array ",this.requests_selected),0===this.requests_selected.length){this.allChecked=!1;var a=document.getElementById("allCheckbox");this.notify.showAllRequestHaveBeenArchivedNotification(this.allConversationsaveBeenArchivedMsg),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] -  change - checkbox Indeterminate: ",a.indeterminate),a&&(a.indeterminate=!1)}})})}getDepartments(){this.departmentService.getDeptsByProjectId().subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - GET DEPTS RES ",t),this.depts=t},t=>{this.logger.error("[WS-REQUESTS-LIST][UNSERVED] - GET DEPTS - ERROR: ",t)},()=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - GET DEPTS * COMPLETE *")})}detectBrowserRefresh(){this.browserRefresh=A.JD,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - ngOnInit browserRefresh ",this.browserRefresh),0===this.wsRequestsUnserved.length&&!1===A.JD&&(this.displayNoRequestString=!0)}displayMoreTags(t){const i=document.querySelector(`#more_tags_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - displayMoreTags - hiddenTagsElem ",i),i.style.display="inline-block";const s=document.querySelector(`#more_tags_btn_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - displayMoreTags - moreTagsBtn ",s),s.style.display="none"}displayLessTag(t){const i=document.querySelector(`#more_tags_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - displayLessTag - hiddenTagsElem ",i),i.style.display="none";const s=document.querySelector(`#more_tags_btn_for_request_${t}`);this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - displayLessTag - moreTagsBtn ",s),s.style.display="inline-block"}toggleTooltip(t){this.logger.log("[WS-REQUESTS-LIST][UNSERVED] toggleTooltip index",t);const i=document.querySelector(`#tooltip_${t}`);this.logger.log("[WS-REQUESTS-LIST][UNSERVED] toggleTooltip tooltipElem",i),i.classList.toggle("tooltip-fixed")}getCurrentProject(){this.auth.project_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.projectId=t._id,this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - GET CURRENT PROJECT - PROJECT ID ",this.projectId))})}goToUnservedNTR(){this.router.navigate(["project/"+this.projectId+"/all-conversations"],{queryParams:{leftfilter:100}})}goToRequestMsgs(t){this.logger.log("[WS-REQUESTS-LIST][UNSERVED] GO TO REQUEST MSGS scrollEl scrollTop",this.scrollEl.scrollTop),this.router.navigate(["project/"+this.projectId+"/wsrequest/"+t+"/1/messages/"+this.scrollEl.scrollTop]),this.usersLocalDbService.setInStorage("last-selection-id",t)}archiveRequest(t,i){this.notify.showArchivingRequestNotification(this.archivingRequestNoticationMsg),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - HAS CLICKED ARCHIVE CONV (CLOSE SUPPORT GROUP) - CONV: ",i),this.wsRequestsService.closeSupportGroup(t).subscribe(s=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP - DATA ",s),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP (archiveRequest) - request_id ",t),this.storedRequestId=this.usersLocalDbService.getFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP (archiveRequest) - storedRequestId ",this.storedRequestId),t===this.storedRequestId&&(this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP (archiveRequest) - REMOVE FROM STOREGAE storedRequestId ",this.storedRequestId),this.usersLocalDbService.removeFromStorage("last-selection-id"))},s=>{this.logger.error("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP - ERROR ",s),this.notify.showWidgetStyleUpdateNotification(this.archivingRequestErrorNoticationMsg,4,"report_problem")},()=>{this.usersLocalDbService.removeFromStorage("last-selection-id"),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - CLOSE SUPPORT GROUP - COMPLETE"),this.notify.showRequestIsArchivedNotification(this.requestHasBeenArchivedNoticationMsg_part1)})}trackByFn(t,i){return i?t:null}joinRequest(t){this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - joinRequest request_id",t),this.logger.log("[WS-REQUESTS-LIST][UNSERVED] - joinRequest currentUserID",this.currentUserID),this.displayModalAreyouSureYouWantToTakeChargeOfTheConversation(t,this.currentUserID)}displayModalAreyouSureYouWantToTakeChargeOfTheConversation(t,i){Ji.fire({title:this.areYouSureMsg,text:this.conversationWillBeAssignedToYourselfMsg,icon:"info",showCloseButton:!1,showCancelButton:!0,confirmButtonText:this.translate.instant("Ok"),cancelButtonText:this.cancelMsg,focusConfirm:!0,reverseButtons:!0}).then(s=>{this.logger.log("[WS-REQUESTS-LIST][UNSERVED] ARE YOU SURE TO JOIN THIS CHAT ... value",s),s.isConfirmed&&this.onJoinHandled(t,i)})}translateArchivingRequestMsg(){this.translate.get("ArchivingRequestNoticationMsg").subscribe(t=>{this.archivingRequestNoticationMsg=t})}translateArchivingRequestErrorMsg(){this.translate.get("ArchivingRequestErrorNoticationMsg").subscribe(t=>{this.archivingRequestErrorNoticationMsg=t})}translateRequestHasBeenArchivedNoticationMsg_part1(){this.translate.get("RequestSuccessfullyClosed").subscribe(t=>{this.requestHasBeenArchivedNoticationMsg_part1=t})}translateRequestHasBeenArchivedNoticationMsg_part2(){this.translate.get("RequestHasBeenArchivedNoticationMsg_part2").subscribe(t=>{this.requestHasBeenArchivedNoticationMsg_part2=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.S),e.Y36(N.e),e.Y36(u.P),e.Y36(q.F0),e.Y36(Y._),e.Y36(p.z),e.Y36(v.f),e.Y36(w.M),e.Y36(H.n),e.Y36(h.c),e.Y36(U.sK),e.Y36(y.m),e.Y36(de.N),e.Y36(q.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["appdashboard-ws-requests-unserved"]],inputs:{wsRequestsUnserved:"wsRequestsUnserved",ws_requests_length:"ws_requests_length",requestCountResp:"requestCountResp"},features:[e.qOj,e.TTD],decls:44,vars:27,consts:[[1,"card","card--no-border",2,"margin","5px 0"],[1,"card-header","card-header-custom"],[1,"row"],[1,"col-xs-12"],[1,"title","customh4",2,"margin-bottom","2px"],[4,"ngIf"],["class","span-link-style",3,"click",4,"ngIf"],[1,"card-content","table-responsive",2,"padding-top","0px","padding-bottom","30px"],[1,"table","table-hover","unserved_requests_table"],[1,"text"],[2,"width","46px","text-align","right","padding-right","3px","padding-bottom","4px !important"],["for","allCheckbox"],["id","allCheckbox","type","checkbox",1,"form-check-input",2,"cursor","pointer","width","20px","height","20px",3,"disabled","checked","click"],[2,"padding-top","6px","padding-bottom","6px !important"],["class","custom-input-group---btn","type","button","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip","click",4,"ngIf"],[1,"column-th-span"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id_request_to_archive","displayArchiveRequestModal","closeModal",4,"ngIf"],[1,"span-link-style",3,"click"],["type","button","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"custom-input-group---btn",3,"matTooltip","click"],["tooltip","matTooltip"],[1,"material-icons","archive-icon",2,"vertical-align","middle","cursor","pointer","color","grey"],["colspan","9",2,"text-align","center","padding-top","16px"],[2,"font-size","1em","color","#737376","font-weight","100"],[3,"ngClass"],[2,"text-align","center","white-space","nowrap","width","1%"],[1,"checkbox"],["type","checkbox",1,"form-check-input",2,"width","16px","height","16px",3,"checked","value","disabled","click"],["style","position: relative;",4,"ngIf"],[2,"cursor","pointer","width","215px",3,"ngClass","click"],["class","ticket-id-badge","style","float: left;","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["rel","tooltip","contentType","template",1,"column-td","request-first-text",2,"max-width","215px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"title","tooltip","mouseover"],["HtmlContent",""],["style","max-width: 210px;",4,"ngIf"],[2,"width","1%","padding-left","4px!important"],[1,"priority_and_channel_wpr",2,"display","flex"],["class","priority_wpr","style","flex: 1;; text-align: right;",4,"ngIf"],["class","channel_wpr","style","flex: 1; text-align: right;",3,"ngClass",4,"ngIf"],[2,"cursor","pointer","white-space","nowrap","width","1%",3,"click"],[1,"requester-avatar-and-lead-data-wpr"],[1,"requester-avatar-wrapper"],[1,"requester---avatar",3,"ngStyle"],["style","color: #ffffff",4,"ngIf"],["class","material-icons-outlined","style","color: #ffffff; font-size:18px; position: relative; top: 1px;",4,"ngIf"],["style","color: #ffffff;",4,"ngIf"],["class","verified-user-icon-wpr",4,"ngIf"],[1,"column-td","lead-data-wpr",2,"white-space","nowrap"],[1,"requester---fullname-wpr"],[1,"requester---fullname",3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"requester---email-wpr"],[1,"requester---email"],["class","requester-has-email",4,"ngIf"],["class","tooltipx",4,"ngIf"],[2,"cursor","pointer","font-size","12px","font-weight","400",3,"click"],["class","column-td",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"column-td"],[1,"td-actions","text-right",2,"padding-top","9px !important"],["type","button","rel","tooltip","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"btn","btn-tdblu","btn-simple","btn-xs",3,"title","matTooltip","click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","link","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-link","fa-w-16",2,"height","15px","width","auto"],["fill","currentColor","d","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"],["type","button","rel","tooltip","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"btn","btn-tdblu","btn-simple","btn-xs",3,"title","disabled","matTooltip","click"],[1,"material-icons"],[2,"position","relative"],["src","assets/img/request_icons/status100.svg","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"img-fluid",2,"width","30px",3,"matTooltip"],["class","abandoned_chat-badge-wpr",3,"click",4,"ngIf"],[1,"abandoned_chat-badge-wpr",3,"click"],[1,"tool_tip"],[1,"right",2,"white-space","normal","padding","6px 12px",";font-weight","200","width","fit-content","max-width","unset!important",3,"id","ngStyle"],[2,"white-space","nowrap"],["class","others-that-has-abandoned","style","margin-top: 6px;",4,"ngIf"],[1,"pu-user-avatar-wpr","white___tooltip",2,"width","24px !important","height","24px !important"],[2,"width","24px !important","height","24px !important","border-radius","50%","object-fit","cover",3,"src"],[1,"pu-user-name-wpr","white___tooltiptext",2,"white-space","nowrap"],[2,"display","block","font-style","italic","color","red"],[1,"avatar-when-not-has-image",3,"ngStyle"],[1,"others-that-has-abandoned",2,"margin-top","6px"],[1,"served-by-desktop-a-in-tooltip"],["class","served-by-desktop-b-in-tooltip",4,"ngFor","ngForOf"],[1,"served-by-desktop-b-in-tooltip"],[1,"served-by-desktop-c-in-tooltip","white___tooltip",3,"ngClass"],[1,"served-by-desktop-d-in-tooltip"],[1,"served-by-desktop-e-in-tooltip"],["alt","","onerror","this.src='assets/img/no_image_user.png'",3,"src",4,"ngIf"],["class","avatar-when-not-has-image",3,"ngStyle",4,"ngIf"],[1,"white___tooltiptext"],[2,"text-transform","capitalize"],["alt","","onerror","this.src='assets/img/no_image_user.png'",3,"src"],["src","assets/img/request_icons/status100_internal.svg","matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"img-fluid",2,"width","30px",3,"matTooltip"],[2,"width","24px !important","height","24px !important","border-radius","50%",3,"src"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",1,"ticket-id-badge",2,"float","left",3,"matTooltip"],[1,"ng2-tooltip-header"],["class","ng2-tooltip-badge--unassigned",4,"ngIf"],[1,"ng2-tooltip-ticket-id"],[1,"ng2-tooltip-priority"],[2,"color","#68737d","font-weight","300"],[1,"ng2-tooltip-channel"],["class","ng2-tooltip-subject",4,"ngIf"],[1,"ng2-tooltip-firt-text",3,"innerHTML"],[1,"ng2-most-recent-comment-section-title"],[1,"ng2-tooltip-divider-line"],["class","ng2-latest-comment-sender-and-date-wpr",4,"ngIf"],["class","ng2-latest-comment",3,"innerHTML",4,"ngIf"],[1,"ng2-tooltip-badge--unassigned"],[1,"ng2-tooltip-subject"],[1,"ng2-latest-comment-sender-and-date-wpr"],[1,"ng2-comment-sender"],[1,"ng2-comment-date"],[1,"ng2-latest-comment",3,"innerHTML"],[1,"ng2-latest-comment-loading"],[2,"max-width","210px"],["style","display: inline-block;",4,"ngFor","ngForOf"],["style","display: inline-block;",3,"id",4,"ngIf"],["style","display: none",3,"id","click",4,"ngIf"],[2,"display","inline-block"],[1,"icon-container",2,"display","inline-block"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","tag","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa-tag-icon","fa-tag","fa-w-16",2,"width","10px","height","auto"],["d","M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z",1,"tag_icon_in_ws_msgs",3,"ngStyle"],[2,"font-size","11px","color","#7695a5","position","relative","top","-2px","left","-2px"],[2,"display","inline-block",3,"id"],[2,"font-size","11px","color","rgba(0, 0, 0, 0.54) !important","position","relative","top","-2px",3,"click"],[2,"display","none",3,"id","click"],[1,"priority_wpr",2,"flex","1","; text-align","right"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["class","tool_tip","matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip"],["src","assets/img/priority_icons/high_v2.svg",1,"img-fluid",2,"width","15px","height","15px"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"tool_tip",3,"matTooltip"],["src","assets/img/priority_icons/urgent_v2.svg",1,"img-fluid",2,"width","15px","height","15px"],["src","assets/img/priority_icons/low_v2.svg",1,"img-fluid",2,"width","15px","height","15px"],[1,"channel_wpr",2,"flex","1","text-align","right",3,"ngClass"],["class","tool_tip",4,"ngIf"],["class","tool_tip email-wpr",4,"ngIf"],["class","tool_tip form-wpr",4,"ngIf"],["src","assets/img/channel_icons/Telegram-01.svg",1,"img-fluid",2,"width","24px","height","24px"],[1,"bottom","tool-tip-bottom--custom"],[2,"font-weight","400"],["src","assets/img/channel_icons/voice.svg",1,"img-fluid",2,"width","24px","height","24px"],["src","assets/img/channel_icons/sms.svg",1,"img-fluid",2,"width","24px","height","24px"],["src","assets/img/channel_icons/whatsapp-logo_green.svg",1,"img-fluid",2,"width","24px","height","24px"],["src","assets/img/channel_icons/Facebook_Messenger_logo_2020.svg",1,"img-fluid",2,"width","24px","height","24px"],[1,"tool_tip","email-wpr"],["src","assets/img/channel_icons/email-logo_white.svg",1,"img-fluid","channel-img-in-conversations",2,"padding","5px !important"],[1,"tool_tip","form-wpr"],["src","assets/img/channel_icons/form-logo_v2_white.svg",1,"img-fluid","channel-img-in-conversations",2,"padding","4px !important"],[2,"color","#ffffff"],[1,"material-icons-outlined",2,"color","#ffffff","font-size","18px","position","relative","top","1px"],[1,"verified-user-icon-wpr"],["version","1.1","id","Livello_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 26.6 26.6","width","17","height","17",0,"xml","space","preserve",1,"requester-verified--icon"],["type","text/css"],["d","M1.3,1.3h24v24h-24V1.3z",1,"st0_UserVerified"],["d","M13.3,0L2.4,4.9v7.3c0,6.7,4.6,13,10.9,14.5c6.2-1.5,10.9-7.8,10.9-14.5V4.9L13.3,0z",1,"st1_UserVerified"],["d","M13.3,2.3l-9,4v6c0,5.5,3.8,10.7,9,12c5.2-1.3,9-6.5,9-12v-6L13.3,2.3z M11.3,18.3l-4-4l1.4-1.4l2.6,2.6\n                        l6.6-6.6l1.4,1.4L11.3,18.3z",1,"st2_UserVerified"],[1,"requester-has-email"],["matTooltipClass","convs-custom-mat-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip",4,"ngIf"],["matTooltipClass","convs-custom-mat-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",3,"matTooltip"],[1,"tooltipx"],[1,"tooltiptext",2,"font-size","10px !important","padding","3px"],["src","assets/img/user_agent/laptop.svg",1,"",2,"width","13px","margin-top","2px","margin-right","6px"],["src","assets/img/user_agent/android.svg",1,"",2,"width","13px","margin-right","6px"],["src","assets/img/user_agent/apple.svg",1,"",2,"width","13px","margin-bottom","2px","margin-right","6px"],["src","assets/img/user_agent/windows.svg",1,"",2,"width","12px","margin-top","2px","margin-right","6px"],["src","assets/img/user_agent/ubuntu.svg",1,"",2,"width","13px","margin-right","6px"],["src","assets/img/user_agent/globe.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/chrome.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/firefox.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/edge.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/opera.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/safari.svg",1,"ua_browser_icon"],["src","assets/img/user_agent/explorer.svg",1,"ua_browser_icon"],[3,"id_request_to_archive","displayArchiveRequestModal","closeModal"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5),e.ALo(6,"translate"),e.YNc(7,es,2,0,"span",5),e.YNc(8,ts,3,3,"span",6),e.qZA()()()(),e.TgZ(9,"div",7)(10,"table",8)(11,"thead",9)(12,"tr")(13,"th",10)(14,"label",11)(15,"input",12),e.NdJ("click",function(l){return i.selectAll(l)}),e.qZA()()(),e.TgZ(16,"th",13),e.YNc(17,ns,5,3,"button",14),e.qZA(),e.TgZ(18,"th")(19,"span",15),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e._UZ(22,"th"),e.TgZ(23,"th")(24,"span",15),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"th"),e.TgZ(28,"th")(29,"span",15),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"th")(33,"span",15),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"th")(37,"span",15),e._uU(38),e.ALo(39,"translate"),e.qZA()()()(),e.TgZ(40,"tbody"),e.YNc(41,ss,5,3,"tr",5),e.YNc(42,ki,61,59,"tr",16),e.qZA()()()(),e.YNc(43,Di,1,2,"appdashboard-close-request-modal",17)),2&t&&(e.xp6(5),e.hij(" ",e.lcZ(6,15,"VisitorsPage.UnservedRequests")," "),e.xp6(2),e.Q6J("ngIf",i.countRequestsServedByHumanRr+i.countRequestsUnservedRr>=100),e.xp6(1),e.Q6J("ngIf",i.countRequestsServedByHumanRr+i.countRequestsUnservedRr>=100),e.xp6(7),e.Q6J("disabled",!0===i.ROLE_IS_AGENT)("checked",!0===i.allChecked),e.xp6(2),e.Q6J("ngIf",i.requests_selected.length>0),e.xp6(3),e.hij(" ",e.lcZ(21,17,"VisitorsPage.Message")," "),e.xp6(5),e.hij(" ",e.lcZ(26,19,"VisitorsPage.Requester")," "),e.xp6(5),e.hij(" ",e.lcZ(31,21,"Department")," "),e.xp6(4),e.hij(" ",e.lcZ(35,23,"Created")," "),e.xp6(4),e.hij(" ",e.lcZ(39,25,"Actions")," "),e.xp6(3),e.Q6J("ngIf",0===(null==i.wsRequestsUnserved?null:i.wsRequestsUnserved.length)),e.xp6(1),e.Q6J("ngForOf",i.wsRequestsUnserved)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf","block"===i.displayArchiveRequestModal))},dependencies:[ce.i9,r.mk,r.sg,r.O5,r.PC,j.gM,r.OU,r.uU,U.X$,fe.r,Se.N,pe.eG],styles:['.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\nbutton[_ngcontent-%COMP%] {\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-right: 3px;\n  padding-left: 3px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.msgcontainer[_ngcontent-%COMP%] {\n  border: 2px solid #dedede;\n  background-color: #f1f1f1;\n  border-radius: 5px;\n  padding: 5px;\n  margin: 5px 0;\n  display: inline-block;\n  min-width: 150px;\n  max-width: 350px;\n}\n.msgcontainer[_ngcontent-%COMP%]::after {\n  content: "";\n  clear: both;\n  display: table;\n}\n\n.time-right[_ngcontent-%COMP%] {\n  float: right;\n  color: #aaa;\n}\n.msg_sender[_ngcontent-%COMP%] {\n  position: relative;\n  display: block;\n  z-index: 2;\n  float: left;\n  padding-top: 10px;\n  padding-right: 10px;\n}\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n\n*[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n#fixed-button[_ngcontent-%COMP%] {\n  bottom: 10px;\n  right: 20px;\n  position: absolute;\n}\n.member[_ngcontent-%COMP%] {\n  font-weight: 400;\n}\n.current-user-member[_ngcontent-%COMP%] {\n  font-weight: 400;\n  color: #4caf50;\n}\np.member[_ngcontent-%COMP%]:hover {\n  background-color: #58c1d6;\n  color: #fff;\n  border-radius: 4px;\n}\n.customh4[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54) !important;\n}\n.customh5[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n  color: #505458;\n  font-size: 14px;\n  font-weight: 600;\n  display: inline-block;\n  margin-right: 10px;\n  line-height: 1.4;\n}\n.card-header[_ngcontent-%COMP%] {\n  background-color: #fff !important;\n  padding-top: 12px !important;\n  padding-bottom: 10px !important;\n  box-shadow: 0 10px 0px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 5px 10px -5px rgba(0, 0, 0, 0.2) !important;\n}\n.dept-request-count[_ngcontent-%COMP%] {\n  border: 2px solid #fff;\n  width: 52px;\n  height: 52px;\n  line-height: 52px;\n  font-size: 26px;\n  margin: 0 auto;\n  border-radius: 5px;\n  display: inline-block;\n  vertical-align: middle;\n  text-transform: uppercase;\n  background-color: #999;\n  color: #fff;\n  text-align: center;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n}\nspan[_ngcontent-%COMP%]   .switch-agent-admin-requests-btn[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-right: 15px;\n  margin-right: 15px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border-radius: 15px;\n}\n.table-head-span[_ngcontent-%COMP%] {\n  color: #566787;\n  font-weight: 700;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 13px;\n}\n.table-body-span[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  color: rgb(118, 149, 165);\n}\n.all-agents-requests-btn[_ngcontent-%COMP%] {\n  background-color: #00bcd4;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.all-agents-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #00bcd4;\n}\n.your-requests-btn[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.your-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #4caf50;\n}\n.requester-avatar[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  line-height: 21px;\n  position: relative;\n  top: 4px;\n  margin-right: 4px;\n}\n.requester-avatar-and-lead-data-wpr[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.requester-avatar-wrapper[_ngcontent-%COMP%] {\n  position: relative;\n}\n.verified-user-icon-wpr[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -2px;\n  left: -6px;\n}\n.verified-user-icon-wpr[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\n  font-size: 16px;\n  color: #18BDF7;\n}\n.requester---avatar[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  line-height: 21px;\n  position: relative;\n  margin-right: 4px;\n}\n.lead-data-wpr[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 5px;\n}\n.requester---fullname[_ngcontent-%COMP%] {\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.requester---email[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 11px;\n  display: block;\n  margin-top: -8px;\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-transform: lowercase;\n}\n.requester_avatar_not_has_email[_ngcontent-%COMP%] {\n  top: 5px;\n}\n.requester_not_has_email[_ngcontent-%COMP%] {\n  top: -2px;\n  position: relative;\n}\n.requester-fullname-is-phone[_ngcontent-%COMP%] {\n  top: 3px;\n  position: relative;\n}\n.requester-not-has-email[_ngcontent-%COMP%] {\n  top: 3px;\n  position: relative;\n}\n.requester-not-has-phone[_ngcontent-%COMP%] {\n  top: 3px;\n  position: relative;\n}\n.requester-avatar-has-phone-as-email[_ngcontent-%COMP%] {\n  top: 3px !important;\n}\n.lead_data[_ngcontent-%COMP%] {\n  position: relative;\n  top: -2px;\n}\n.requester-email[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 11px;\n  display: block;\n  margin-left: 34px;\n  margin-top: -10px;\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.requester-verified-email[_ngcontent-%COMP%] {\n  position: relative;\n  left: 20px;\n}\n.user-agent-icon[_ngcontent-%COMP%] {\n  color: #7695a5 !important;\n  cursor: pointer !important;\n  font-size: 16px !important;\n  vertical-align: middle !important;\n  margin-right: 5px;\n}\n.requester_fullname-undefined[_ngcontent-%COMP%] {\n  padding: 5px 4px;\n  top: -4px;\n  font-size: 11px;\n}\n.requester_fullname_initial-undefined[_ngcontent-%COMP%] {\n  position: relative;\n  top: 1px;\n}\n.verified-icon-requester-undefined[_ngcontent-%COMP%] {\n  top: -8px !important;\n}\n.requester-verified[_ngcontent-%COMP%] {\n  position: relative;\n  left: -20px;\n}\n.unserved-request--requester-verified-icon[_ngcontent-%COMP%] {\n  position: absolute;\n  left: -41px;\n  top: -17px;\n}\n\n.tooltipx[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltipx[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  color: #fff;\n  text-align: center;\n  padding: 5px 5px;\n  border-radius: 5px;\n  font-size: 12px !important;\n  \n  position: absolute;\n  z-index: 1;\n  \n  bottom: 100%;\n  left: 50%;\n  margin-left: -60px; \n  box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35);\n  background-color: #394f5a;\n}\n\n.tooltipx[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n.nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%], .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:focus, .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover {\n  background-color: #039be5 !important;\n  box-shadow: 0 12px 20px -10px rgba(3, 115, 229, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(3, 115, 229, 0.2) !important;\n}\n.pulse[_ngcontent-%COMP%] {\n  display: block;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 0 rgba(204, 169, 44, 0.4);\n  animation: pulse 2s infinite;\n}\n.pulse[_ngcontent-%COMP%]:hover {\n  animation: none;\n}\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(204, 169, 44, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0);\n  }\n}\n.huge[_ngcontent-%COMP%] {\n  font-family: Lato, Roboto, Helvetica, Arial, sans-serif;\n  font-weight: 400;\n}\n.column-th-span[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 500;\n  color: #353f45;\n}\n.card-header-custom[_ngcontent-%COMP%] {\n  box-shadow: none !important;\n  margin-left: 0px;\n  margin-right: 0px;\n  border-bottom: 1px solid #eff3f5;\n}\n.column-td[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n}\n.request-first-text[_ngcontent-%COMP%]:hover {\n  color: rgb(20, 74, 117);\n}\n@media (max-width: 991px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    top: -2px !important;\n  }\n}\n@media (max-width: 370px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    height: 37px !important;\n  }\n  .bottom-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    padding: 6px !important;\n    height: 39px;\n  }\n}\n.tab-active[_ngcontent-%COMP%] {\n  color: #3ea9f5;\n  border-bottom: 3px solid #3ea9f5;\n}\n.ws-requests-list-servedby-avatar[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-top: 1px;\n  margin-bottom: 1px;\n  object-fit: cover;\n}\n.team-container[_ngcontent-%COMP%] {\n  display: flex;\n}\n.team-agent[_ngcontent-%COMP%] {\n  display: inline-block;\n  position: relative;\n  align-items: center;\n  -webkit-box-pack: center;\n  padding: 8px 16px;\n  cursor: pointer;\n}\n.middle[_ngcontent-%COMP%] {\n  float: left;\n  width: 100%;\n  overflow: auto;\n  \n  white-space: nowrap;\n}\n.side[_ngcontent-%COMP%] {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.right-li[_ngcontent-%COMP%] {\n  float: right !important;\n  padding-top: 10px !important;\n}\n.no_visitor__placeeholder[_ngcontent-%COMP%] {\n  font-size: 1em;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  margin: auto;\n  flex-direction: column;\n  width: 100%;\n  padding: 63px;\n  text-align: center;\n}\n.ua_browser_icon[_ngcontent-%COMP%] {\n  width: 13px;\n}\n.padding_5[_ngcontent-%COMP%] {\n  padding-top: 8px !important;\n  padding-bottom: 8px !important;\n}\n.contact-fullname[_ngcontent-%COMP%] {\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: inline-block;\n  line-height: 13px;\n}\n.abandoned_chat-badge-wpr[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -1px;\n  left: -5px;\n}\n.abandoned_chat-badge-wpr[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%]    > .material-icons[_ngcontent-%COMP%] {\n  font-size: 14px !important;\n  background: #ffffff;\n  padding: 1px;\n  color: rgb(229, 45, 42);\n}\n.pu-user-name-wpr[_ngcontent-%COMP%]:hover {\n  display: block !important;\n}\n.tooltip-fixed[_ngcontent-%COMP%] {\n  visibility: visible !important;\n  opacity: 1 !important;\n}\n.white___tooltip[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n.white___tooltip[_ngcontent-%COMP%]   .white___tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  width: -moz-fit-content;\n  width: fit-content;\n  background-color: white;\n  color: #000000;\n  text-align: center;\n  border-radius: 3px;\n  padding: 1px 3px;\n  \n  position: absolute;\n  z-index: 1;\n  top: 20px;\n  left: 50%;\n  margin-left: -18px;\n  font-size: 10px;\n  font-weight: 400;\n  line-height: 12px;\n}\n.white___tooltip[_ngcontent-%COMP%]:hover   .white___tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n.avatar-when-not-has-image[_ngcontent-%COMP%] {\n  width: 24px;\n  height: 24px;\n  text-align: center;\n  border-radius: 50%;\n  line-height: 24px;\n  font-size: 12px;\n  font-weight: 400;\n}\n.tool-tip-bottom--custom[_ngcontent-%COMP%] {\n  white-space: nowrap !important;\n  min-width: -moz-fit-content !important;\n  min-width: fit-content !important;\n  text-align: center !important;\n  padding: 5px 10px !important;\n  top: 29px !important;\n  font-size: 10px !important;\n}\n.email-wpr[_ngcontent-%COMP%] {\n  background: #bb001b;\n  border-radius: 50%;\n}\n.form-wpr[_ngcontent-%COMP%] {\n  background: #39988d;\n  border-radius: 50%;\n}\n.channel-img-in-conversations[_ngcontent-%COMP%] {\n  width: 24px;\n  height: 24px;\n  min-width: 24px;\n}\n.channel-wpr-padding-left[_ngcontent-%COMP%] {\n  padding-left: 3px;\n}\n.ticket-id-badge[_ngcontent-%COMP%] {\n  float: left;\n  background-color: #e8e8e8;\n  color: #737376;\n  font-size: 11px;\n  font-weight: 500;\n  min-width: 20px;\n  text-align: center;\n  position: relative;\n  top: 1px;\n  border-radius: 4px;\n  margin-right: 3px;\n  padding: 0px 2px;\n}\n  .convs-custom-mat-tooltip {\n  background-color: #2d323e !important;\n  font-size: 11px !important;\n  border-radius: 2px !important;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif !important;\n  padding-top: 6px !important;\n  padding-bottom: 6px !important;\n}\n.custom-input-group---btn[_ngcontent-%COMP%] {\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n}\n.custom-input-group---btn[_ngcontent-%COMP%]:active {\n  background-color: rgba(60, 64, 67, 0.12);\n  outline: none;\n}\n  .mat-white-tooltip {\n  background-color: #fff !important;\n  font-size: 11px !important;\n  border-radius: 2px !important;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  padding-top: 5px !important;\n  padding-bottom: 5px !important;\n  border: 1px solid #ccc;\n  color: #000 !important;\n  font-weight: 400 !important;\n}\n.requester-verified-icon[_ngcontent-%COMP%] {\n  position: absolute;\n  left: -40px;\n  top: -18px;\n}\n.active-row[_ngcontent-%COMP%] {\n  animation-name: ripple_effect;\n  animation-duration: 3s;\n  animation-iteration-count: 1s;\n}\n@keyframes ripple_effect {\n  0% {\n    background-color: rgb(210, 210, 210);\n  }\n  100% {\n    background-color: rgba(210, 210, 210, 0);\n  }\n}\n.span-link-style[_ngcontent-%COMP%] {\n  cursor: pointer;\n  color: var(--blue-20);\n}\n.span-link-style[_ngcontent-%COMP%]:hover {\n  text-decoration: underline;\n}']}),n})();var Yi=c(17201),Hi=c(63831),k=c(98407);const Bi=function(n){return{"map-right-side-bar-in-panel-mode":n}},Vi=function(n){return{"map-container-in-panel-mode":n}},zi=k.icon({iconRetinaUrl:"assets/marker-icon-2x.png",iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});k.Marker.prototype.options.icon=zi;let Ki=(()=>{class n{constructor(t,i,s){this.markerService=t,this.router=i,this.logger=s,this.closeMapsView=new e.vpe,this.i=1,this.afterViewFlag=!1}ngOnInit(){this.getIfRouteUrlIsRequestForPanel(),this.wsRequestsServed[0]&&(this.projectId=this.wsRequestsServed[0].id_project)}getIfRouteUrlIsRequestForPanel(){this.SIDEBAR_APPS_IN_CHAT_PANEL_MODE=!1,-1!==this.router.url.indexOf("/request-for-panel")?(this.SIDEBAR_APPS_IN_CHAT_PANEL_MODE=!0,this.logger.log("[MAP-REQUESTS] - SIDEBAR_APPS_IN_CHAT_PANEL_MODE \xbb\xbb\xbb ",this.SIDEBAR_APPS_IN_CHAT_PANEL_MODE)):(this.SIDEBAR_APPS_IN_CHAT_PANEL_MODE=!1,this.logger.log("[MAP-REQUESTS] - SIDEBAR_APPS_IN_CHAT_PANEL_MODE \xbb\xbb\xbb ",this.SIDEBAR_APPS_IN_CHAT_PANEL_MODE))}ngOnChanges(t){this.logger.log("[MAP-REQUESTS] - ONCHANGES: ",t),this.map&&(t.wsRequestsServed.currentValue!=t.wsRequestsServed.previousValue&&this.markerService.makeSegnalationsServedMarkers(this.map,this.wsRequestsServed,this.calling_page),t.wsRequestsUnserved.currentValue!=t.wsRequestsUnserved.previousValue&&this.markerService.makeSegnalationsUnservedMarkers(this.map,this.wsRequestsUnserved,this.calling_page))}ngAfterViewInit(){this.afterViewFlag=!0,this.initMap(),this.markerService.makeSegnalationsServedMarkers(this.map,this.wsRequestsServed,this.calling_page),this.markerService.makeSegnalationsUnservedMarkers(this.map,this.wsRequestsUnserved,this.calling_page)}initMap(){this.map=k.map("map",{center:[41.89193,12.51133],zoom:3}),"conv_details"===this.calling_page&&(this.wsRequestsServed.length>0&&this.wsRequestsServed[0].location&&this.wsRequestsServed[0].location.geometry&&this.map.panTo(new k.LatLng(this.wsRequestsServed[0].location.geometry.coordinates[0],this.wsRequestsServed[0].location.geometry.coordinates[1])),this.wsRequestsUnserved.length>0&&this.wsRequestsUnserved[0].location&&this.wsRequestsUnserved[0].location.geometry&&this.map.panTo(new k.LatLng(this.wsRequestsUnserved[0].location.geometry.coordinates[0],this.wsRequestsUnserved[0].location.geometry.coordinates[1])));const t=k.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'\xa9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});this.logger.log(k.Icon.Default.prototype._getIconUrl()),t.addTo(this.map)}goToRequestDetail(t){this.logger.log("[MAP-REQUESTS]  GO TO DETAIL - REQUEST ID: ",t),this.router.navigate(["project/"+this.projectId+"/wsrequest/"+t+"/messages"])}clickout(t){t.target.classList.contains("goToRequestDetail")&&this.goToRequestDetail(t.target.value)}closeRightSideBar(){this.logger.log("[MAP-REQUESTS] - CLOSE RIGHT SIDEBAR"),this.closeMapsView.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Hi.u),e.Y36(q.F0),e.Y36(y.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["appdashboard-map-request"]],hostVars:1,hostBindings:function(t,i){1&t&&e.NdJ("click",function(l){return i.clickout(l)},!1,e.evT),2&t&&e.d8E("@slideInOutAnimation",void 0)},inputs:{wsRequestsServed:"wsRequestsServed",wsRequestsUnserved:"wsRequestsUnserved",calling_page:"calling_page"},outputs:{closeMapsView:"closeMapsView"},features:[e.TTD],decls:10,vars:9,consts:[[1,"map-right-side-bar",3,"ngClass"],[1,"map-header"],[2,"font-weight","400","text-transform","none","margin-top","0px","font-size","16px","padding-top","15px","padding-left","21px"],[1,"material-icons",2,"padding-right","10px","float","right","cursor","pointer",3,"click"],[1,"map-container",3,"ngClass"],[1,"map-frame"],["id","map"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"i",3),e.NdJ("click",function(){return i.closeRightSideBar()}),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"div",6),e.qZA()()()),2&t&&(e.Q6J("ngClass",e.VKq(5,Bi,i.SIDEBAR_APPS_IN_CHAT_PANEL_MODE)),e.xp6(3),e.hij(" ",e.lcZ(4,3,"Map")," "),e.xp6(4),e.Q6J("ngClass",e.VKq(7,Vi,i.SIDEBAR_APPS_IN_CHAT_PANEL_MODE)))},dependencies:[r.mk,U.X$],styles:[".map-right-side-bar[_ngcontent-%COMP%] {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background: #fff;\n  padding-top: 15px;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-bottom: 15px;\n}\n\n.map-right-side-bar-in-panel-mode[_ngcontent-%COMP%] {\n  top: -60px !important;\n  height: calc(100% + 60px) !important;\n}\n\n.map-container-in-panel-mode[_ngcontent-%COMP%] {\n  top: 60px !important;\n  margin-right: 4px !important;\n  margin-left: 4px !important;\n  height: 73% !important;\n}\n\n.map-container[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 80px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin-right: 30px;\n  margin-left: 40px;\n}\n\n.map-frame[_ngcontent-%COMP%] {\n  border: 2px solid black;\n  height: 100%;\n}\n\n#map[_ngcontent-%COMP%] {\n  height: 100%;\n  margin-top: 0px;\n}\n\n.right-side-bar[_ngcontent-%COMP%] {\n  width: 100% !important;\n}\n\n.map-header[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #eeeeee;\n  background-color: #3c4252 !important;\n  color: #fff !important;\n  margin-left: -5px;\n  margin-right: -15px;\n  margin-top: -15px;\n}"],data:{animation:[Yi.J]}}),n})();const Xi=["teamContent"],eo=["testwidgetbtn"],to=["widgetsContent"],Ce=function(n,o,t){return{"disabled-li":n,"border-from-center":o,"li-active":t}};function no(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",85),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.seeIamAgentRequests(s.seeAll=!s.seeAll))}),e.TgZ(1,"a",86),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.kEZ(4,Ce,!1===t.displayBtnLabelSeeYourRequets,!0===t.displayBtnLabelSeeYourRequets,!1===t.displayBtnLabelSeeYourRequets)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"AllAgentsRequests")," ")}}function so(n,o){if(1&n&&(e.TgZ(0,"span",99)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.countRequestsServedByHumanRr+t.countRequestsUnservedRr+t.countRequestsServedByBotRr," ")}}const Ae=function(n){return{"has-reached-100":n}};function io(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ul",83),e.YNc(1,no,4,8,"li",84),e.TgZ(2,"li",85),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.seeIamAgentRequests(s.seeAll=!s.seeAll))}),e.TgZ(3,"a",86),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"li",87)(7,"button",88,89),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.presentCreateInternalRequestModal())}),e.ALo(9,"translate"),e.TgZ(10,"span",90),e._uU(11," add_circle "),e.qZA(),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"li",91),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToNoRealtimeConversations())}),e.TgZ(15,"a",92,93),e.ALo(17,"translate"),e.ALo(18,"translate"),e.TgZ(19,"span",94),e._uU(20," manage_search "),e.qZA()(),e.YNc(21,so,3,1,"span",95),e.qZA(),e.TgZ(22,"li",96),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openRightSideBar())}),e.TgZ(23,"a",97,93),e.ALo(25,"translate"),e.ALo(26,"translate"),e.TgZ(27,"span",98),e._uU(28," pin_drop "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.ROLE_IS_AGENT),e.xp6(1),e.Q6J("ngClass",e.kEZ(25,Ce,!0===t.displayBtnLabelSeeYourRequets,!1===t.displayBtnLabelSeeYourRequets,!0===t.displayBtnLabelSeeYourRequets)),e.xp6(2),e.hij(" ",e.lcZ(5,11,"YourRequests")," "),e.xp6(3),e.uIk("aria-label",e.lcZ(9,13,"CreateTicket")),e.xp6(5),e.hij(" ",e.lcZ(13,15,"CreateTicket")," "),e.xp6(3),e.s9C("matTooltip",e.lcZ(18,19,"ClickHereForMoreAdvancedSearches")),e.Q6J("ngClass",e.VKq(29,Ae,t.served_unserved_sum>=100)),e.uIk("aria-label",e.lcZ(17,17,"GoToNotRealTimeRequests")),e.xp6(6),e.Q6J("ngIf",t.served_unserved_sum>=100),e.xp6(2),e.s9C("matTooltip",e.lcZ(26,23,"ViewServedRequestsMap")),e.uIk("aria-label",e.lcZ(25,21,"ViewServedRequestsMap"))}}function oo(n,o){if(1&n&&(e.TgZ(0,"span",99)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.served_unserved_sum," ")}}function lo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ul",100)(1,"li",101)(2,"button",102,89),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.presentCreateInternalRequestModal())}),e.ALo(4,"translate"),e.TgZ(5,"span",90),e._uU(6," add_circle "),e.qZA(),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"li",103)(10,"button",104,105),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.testWidgetPage())}),e.ALo(12,"translate"),e.TgZ(13,"span",106),e._uU(14," play_circle_filled "),e.qZA(),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"li",107),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToNoRealtimeConversations())}),e.TgZ(18,"a",108,93),e.ALo(20,"translate"),e.ALo(21,"translate"),e.TgZ(22,"span",109),e._uU(23," manage_search "),e.qZA()(),e.YNc(24,oo,3,1,"span",95),e.qZA(),e.TgZ(25,"li",107),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openRightSideBar())}),e.TgZ(26,"a",97,93),e.ALo(28,"translate"),e.ALo(29,"translate"),e.TgZ(30,"span",110),e._uU(31," pin_drop "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("aria-label",e.lcZ(4,10,"CreateTicket")),e.xp6(5),e.hij(" ",e.lcZ(8,12,"CreateTicket")," "),e.xp6(3),e.uIk("aria-label",e.lcZ(12,14,"VisitorsPage.SimulateVisitor")),e.xp6(5),e.hij(" ",e.lcZ(16,16,"VisitorsPage.SimulateVisitor")," "),e.xp6(3),e.s9C("matTooltip",e.lcZ(21,20,"ClickHereForMoreAdvancedSearches")),e.Q6J("ngClass",e.VKq(26,Ae,t.served_unserved_sum>=100)),e.uIk("aria-label",e.lcZ(20,18,"GoToNotRealTimeRequests")),e.xp6(6),e.Q6J("ngIf",t.served_unserved_sum>=100),e.xp6(2),e.s9C("matTooltip",e.lcZ(29,24,"ViewServedRequestsMap")),e.uIk("aria-label",e.lcZ(28,22,"ViewServedRequestsMap"))}}function ro(n,o){if(1&n&&(e.TgZ(0,"ng-option",111),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",null==t?null:t._id),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function ao(n,o){if(1&n&&(e.TgZ(0,"ng-option",111),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",null==t?null:t._id),e.xp6(1),e.AsE(" ",t.firstname," ",t.lastname," ")}}function co(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",112)(1,"ng-select",113),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedAgentId=s)})("clear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.clearAgentFilter())})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onChangeAgent())}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e.TgZ(5,"ng-option",111),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ng-option",111),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ao,2,3,"ng-option",35),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.zWS("aria-label","",e.lcZ(2,9,"FilterBy")," ",e.lcZ(3,11,"HistoryPage.Agent"),""),e.s9C("placeholder",e.lcZ(4,13,"HistoryPage.AllAgents")),e.Q6J("ngModel",t.selectedAgentId),e.xp6(4),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(7,15,"HumanAgentsOnly")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(10,17,"BotsOnly")),e.xp6(2),e.Q6J("ngForOf",t.participantsInRequests)}}function po(n,o){if(1&n&&(e.TgZ(0,"ng-option",111),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function uo(n,o){if(1&n&&e._UZ(0,"img",124),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==t?null:t.id_user._id,"%2Fphoto.jpg?alt=media",e.LSH)}}function _o(n,o){if(1&n&&e._UZ(0,"img",124),2&n){const t=e.oxw(2).$implicit,i=e.oxw(2);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==t?null:t.id_user._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH)}}const qe=function(n,o,t){return{"is-user-online":n,"is-user-offline":o,"is-user-inactive":t}};function go(n,o){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,uo,1,2,"img",122),e.YNc(2,_o,1,2,"img",122),e._UZ(3,"div",123),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngClass",e.kEZ(3,qe,!0===(null==t?null:t.user_available_rt)&&(""===(null==t?null:t.profileStatus_rt)||!(null!=t&&t.profileStatus_rt)),!1===(null==t?null:t.user_available_rt)&&(""===(null==t?null:t.profileStatus_rt)||!(null!=t&&t.profileStatus_rt)),!1===(null==t?null:t.user_available_rt)&&"inactive"===(null==t?null:t.profileStatus_rt)))}}const ho=function(n){return{background:n}};function mo(n,o){if(1&n&&(e.TgZ(0,"div",121)(1,"div",125)(2,"span",126),e._uU(3),e.qZA(),e._UZ(4,"div",127),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngStyle",e.VKq(3,ho,"linear-gradient(rgb(255,255,255) -125%,"+(null==t||null==t.id_user?null:t.id_user.fillColour)+")")),e.xp6(2),e.hij(" ",null==t||null==t.id_user?null:t.id_user.fullname_initial," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(5,qe,!0===(null==t?null:t.user_available_rt)&&(""===(null==t?null:t.profileStatus_rt)||!(null!=t&&t.profileStatus_rt)),!1===(null==t?null:t.user_available_rt)&&(""===(null==t?null:t.profileStatus_rt)||!(null!=t&&t.profileStatus_rt)),!1===(null==t?null:t.user_available_rt)&&"inactive"===(null==t?null:t.profileStatus_rt)))}}function fo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",117)(1,"div",118,93),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.goToEditUser(null==l?null:l._id))}),e.TgZ(3,"div",119),e.YNc(4,go,4,7,"div",120),e.YNc(5,mo,5,9,"div",120),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.hYB("matTooltip","",null==t||null==t.id_user?null:t.id_user.firstname,"  ",null==t||null==t.id_user?null:t.id_user.lastname,""),e.xp6(3),e.Q6J("ngIf",null==t?null:t.hasImage),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.hasImage))}}function So(n,o){if(1&n&&(e.TgZ(0,"div",114),e.ynx(1,115),e.YNc(2,fo,6,4,"div",116),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.projectUserArray)}}function To(n,o){1&n&&(e.TgZ(0,"div",117)(1,"div",128)(2,"div",119)(3,"div",121),e._UZ(4,"div",129),e.qZA()()()())}function xo(n,o){if(1&n&&(e.TgZ(0,"div",114),e.YNc(1,To,5,0,"div",116),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.generateFake(t.project_user_length))}}function Eo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"OperatingHoursDisabled")," "))}function vo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"OperatingHoursEnabled")," "))}const oe=function(n){return{"btn-primary-no-active":n}},le=function(n){return{"conv-option-icon-active":n}};function Ro(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",130),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToOperatingHours())}),e.TgZ(1,"span",131),e._uU(2," access_time_filled "),e.qZA(),e.TgZ(3,"span",132),e.YNc(4,Eo,3,3,"span",51),e.YNc(5,vo,3,3,"span",51),e.qZA(),e.TgZ(6,"span",133)(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",134),e._uU(11," keyboard_arrow_right "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(7,oe,!t.OPERATING_HOURS_ACTIVE||t.DISPLAY_OPH_AS_DISABLED)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,le,t.OPERATING_HOURS_ACTIVE&&!t.DISPLAY_OPH_AS_DISABLED)),e.xp6(3),e.Q6J("ngIf",!t.OPERATING_HOURS_ACTIVE||t.DISPLAY_OPH_AS_DISABLED),e.xp6(1),e.Q6J("ngIf",t.OPERATING_HOURS_ACTIVE&&!t.DISPLAY_OPH_AS_DISABLED),e.xp6(3),e.hij(" ",e.lcZ(9,5,"AdjustOperatingHours")," ")}}function bo(n,o){if(1&n&&(e.TgZ(0,"h4",139),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",e.lcZ(2,2,"ProjectEditPage.MaximumChats"),": ",t.maximum_chats," ")}}function Co(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ChatLimitDisabled")," "))}function Ao(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ChatLimitEnabled")," "))}function qo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",130),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToProjectSettings_Smartassignment())}),e.TgZ(1,"span",135),e._uU(2," sms_failed "),e.TgZ(3,"span",136)(4,"h4",137),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,bo,3,4,"h4",138),e._UZ(8,"i"),e.qZA()(),e.TgZ(9,"span",132),e.YNc(10,Co,3,3,"span",51),e.YNc(11,Ao,3,3,"span",51),e.qZA(),e.TgZ(12,"span",133)(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span",134),e._uU(17," keyboard_arrow_right "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(11,oe,!t.CHAT_LIMIT_IS_ENABLED)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,le,t.CHAT_LIMIT_IS_ENABLED)),e.xp6(4),e.hij(" ",e.lcZ(6,7,"ProjectEditPage.ItLimitChatsNumber"),". "),e.xp6(2),e.Q6J("ngIf",t.maximum_chats),e.xp6(3),e.Q6J("ngIf",!t.CHAT_LIMIT_IS_ENABLED),e.xp6(1),e.Q6J("ngIf",t.CHAT_LIMIT_IS_ENABLED),e.xp6(3),e.hij(" ",e.lcZ(15,9,"AdjustSmartAssignment")," ")}}function Io(n,o){if(1&n&&(e.TgZ(0,"h4",139),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Timeout (in sec): ",t.reassignment_timeout," ")}}function Uo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ReassignmentIsDisabled")," "))}function wo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ReassignmentIsEnabled")," "))}function Oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",130),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToProjectSettings_Smartassignment())}),e.TgZ(1,"span",135),e._uU(2," shuffle_on "),e.TgZ(3,"span",136)(4,"h4",137),e._uU(5),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Io,2,1,"h4",138),e._UZ(9,"i"),e.qZA()(),e.TgZ(10,"span",132),e.YNc(11,Uo,3,3,"span",51),e.YNc(12,wo,3,3,"span",51),e.qZA(),e.TgZ(13,"span",133)(14,"span"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"span",134),e._uU(18," keyboard_arrow_right "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(14,oe,!t.CHAT_REASSIGNMENT_IS_ENABLED)),e.xp6(1),e.Q6J("ngClass",e.VKq(16,le,t.CHAT_REASSIGNMENT_IS_ENABLED)),e.xp6(4),e.AsE(" ",e.lcZ(6,8,"ProjectEditPage.ItReassignChatIf"),". ",e.lcZ(7,10,"ProjectEditPage.TheChatWillBeBetweenTheUnassigned"),""),e.xp6(3),e.Q6J("ngIf",t.reassignment_timeout),e.xp6(3),e.Q6J("ngIf",!t.CHAT_REASSIGNMENT_IS_ENABLED),e.xp6(1),e.Q6J("ngIf",t.CHAT_REASSIGNMENT_IS_ENABLED),e.xp6(3),e.hij(" ",e.lcZ(16,12,"AdjustSmartAssignment")," ")}}function Lo(n,o){if(1&n&&(e.TgZ(0,"h4",137),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",e.lcZ(2,2,"ProjectEditPage.NumberOfChatsReassignedBefore"),": ",t.chats_reassigned," ")}}function Zo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"AutomaticUnavailableStatusDisabled")," "))}function Mo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"AutomaticUnavailableeStatusEnabled")," "))}function Po(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",130),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToProjectSettings_Smartassignment())}),e.TgZ(1,"span",135),e._uU(2," person_off "),e.TgZ(3,"span",136)(4,"h4",137),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Lo,3,4,"h4",140),e._UZ(8,"i"),e.qZA()(),e.TgZ(9,"span",132),e.YNc(10,Zo,3,3,"span",51),e.YNc(11,Mo,3,3,"span",51),e.qZA(),e.TgZ(12,"span",133)(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span",134),e._uU(17," keyboard_arrow_right "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(11,oe,!t.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,le,t.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED)),e.xp6(4),e.hij(" ",e.lcZ(6,7,"ProjectEditPage.ItSetAnAgentStatusToUnavailable"),". "),e.xp6(2),e.Q6J("ngIf",t.chats_reassigned),e.xp6(3),e.Q6J("ngIf",!t.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED),e.xp6(1),e.Q6J("ngIf",t.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED),e.xp6(3),e.hij(" ",e.lcZ(15,9,"AdjustSmartAssignment")," ")}}function No(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section")(1,"div",5)(2,"div",141)(3,"div",142)(4,"div",143)(5,"div",144),e.O4$(),e.TgZ(6,"svg",145)(7,"style",12),e._uU(8," .message_rocket { fill: #737376; } "),e.qZA(),e._UZ(9,"path",146),e.qZA(),e.kcU(),e.TgZ(10,"span",147),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"span",148),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.testWidgetPage())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()()()()}2&n&&(e.xp6(11),e.hij(" ",e.lcZ(12,2,"VisitorsPage.NoVisitor")," "),e.xp6(3),e.hij(" ",e.lcZ(15,4,"VisitorsPage.ClickHereToSimulate")," "))}function yo(n,o){if(1&n&&e._UZ(0,"appdashboard-ws-requests-unserved",152),2&n){const t=e.oxw(2);e.Q6J("wsRequestsUnserved",t.wsRequestsUnserved)("ws_requests_length",null==t.ws_requests?null:t.ws_requests.length)("requestCountResp",t.requestCountResp)}}function Wo(n,o){if(1&n&&e._UZ(0,"appdashboard-ws-requests-served",153),2&n){const t=e.oxw(2);e.Q6J("wsRequestsServed",t.wsRequestsServed)("current_selected_prjct",t.current_selected_prjct)("ws_requests_length",null==t.ws_requests?null:t.ws_requests.length)("requestCountResp",t.requestCountResp)}}function Qo(n,o){if(1&n&&(e.TgZ(0,"section")(1,"div",5)(2,"div",149),e.YNc(3,yo,1,3,"appdashboard-ws-requests-unserved",150),e.YNc(4,Wo,1,4,"appdashboard-ws-requests-served",151),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.wsRequestsUnserved&&!1===t.OPEN_RIGHT_SIDEBAR),e.xp6(1),e.Q6J("ngIf",t.wsRequestsServed&&!1===t.OPEN_RIGHT_SIDEBAR)}}function ko(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",162),e._UZ(2,"p",163),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"p"),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"p"),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p"),e.qZA(),e.TgZ(9,"td",164),e._UZ(10,"p",165),e.qZA(),e.TgZ(11,"td")(12,"button",166),e.ALo(13,"translate"),e.TgZ(14,"i",98),e._uU(15,"clear"),e.qZA()()()()),2&n&&(e.xp6(12),e.s9C("title",e.lcZ(13,1,"VisitorsPage.tootipArchiveRequest")))}function Do(n,o){if(1&n&&(e.TgZ(0,"section")(1,"div",154)(2,"div",155),e._UZ(3,"h4",156),e.qZA(),e.TgZ(4,"div",157)(5,"table",158)(6,"thead",159)(7,"tr"),e._UZ(8,"th"),e.TgZ(9,"th")(10,"span",160),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"th")(14,"span",160),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"th")(18,"span",160),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"th")(22,"span",160),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"th")(26,"span",160),e._uU(27),e.ALo(28,"translate"),e.qZA()()()(),e.TgZ(29,"tbody"),e.YNc(30,ko,16,3,"tr",161),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(11),e.hij(" ",e.lcZ(12,6,"VisitorsPage.Message")," "),e.xp6(4),e.hij(" ",e.lcZ(16,8,"VisitorsPage.Requester")," "),e.xp6(4),e.hij(" ",e.lcZ(20,10,"Department")," "),e.xp6(4),e.hij(" ",e.lcZ(24,12,"Created")," "),e.xp6(4),e.hij(" ",e.lcZ(28,14,"Actions")," "),e.xp6(3),e.Q6J("ngForOf",t.generateFake(5))}}function Jo(n,o){if(1&n&&e._UZ(0,"img",182),2&n){const t=e.oxw().item,i=e.oxw(2);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",t.id,"%2Fphoto.jpg?alt=media",e.LSH)}}function jo(n,o){if(1&n&&e._UZ(0,"img",182),2&n){const t=e.oxw().item,i=e.oxw(2);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",t.id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH)}}function Yo(n,o){1&n&&e._UZ(0,"img",183)}function Ho(n,o){if(1&n&&(e.YNc(0,Jo,1,2,"img",177),e.YNc(1,jo,1,2,"img",178),e.YNc(2,Yo,1,0,"img",179),e.TgZ(3,"span",180),e._uU(4),e.qZA(),e.TgZ(5,"span",181),e._uU(6),e.qZA()),2&n){const t=o.item,i=e.oxw(2);e.Q6J("ngIf","agent"===t.requestertype&&i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf","agent"===t.requestertype&&!i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf","lead"===t.requestertype),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" (",t.role,") ")}}function Bo(n,o){if(1&n&&e._UZ(0,"img",182),2&n){const t=e.oxw().item,i=e.oxw(2);e.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",t.id,"%2Fphoto.jpg?alt=media",e.LSH)}}function Vo(n,o){if(1&n&&e._UZ(0,"img",182),2&n){const t=e.oxw().item,i=e.oxw(2);e.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",t.id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",e.LSH)}}function Fo(n,o){1&n&&e._UZ(0,"img",183)}function Go(n,o){if(1&n&&(e.YNc(0,Bo,1,2,"img",178),e.YNc(1,Vo,1,2,"img",178),e.YNc(2,Fo,1,0,"img",184),e.TgZ(3,"span",180),e._uU(4),e.qZA(),e.TgZ(5,"span",181),e._uU(6),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"small",185),e._uU(9),e.qZA()),2&n){const t=o.item,i=e.oxw(2);e.Q6J("ngIf","agent"===t.requestertype&&i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf","agent"===t.requestertype&&!i.UPLOAD_ENGINE_IS_FIREBASE),e.xp6(1),e.Q6J("ngIf","lead"===t.requestertype),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" (",t.role,") "),e.xp6(3),e.hij(" ",t.email,"")}}function $o(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",186),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.presentModalAddNewRequester())}),e.TgZ(1,"span",187),e._uU(2," add "),e.qZA(),e.TgZ(3,"span",188),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"AddRequester"),""))}function zo(n,o){if(1&n&&(e.TgZ(0,"ng-option",111),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ko(n,o){if(1&n&&(e._UZ(0,"img",189),e._uU(1),e.ALo(2,"translate")),2&n){const t=o.item;e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function Xo(n,o){if(1&n&&(e._UZ(0,"img",189),e._uU(1),e.ALo(2,"translate")),2&n){const t=o.item;e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}const _e=function(n){return{"open-requester-details-disable":n}};function el(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",73),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",167),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openRequesterDetails())}),e.TgZ(5,"span",168),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",169),e._uU(9," open_in_new "),e.qZA()()(),e.TgZ(10,"div",75)(11,"ng-select",170),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedRequester=s)})("change",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectRequester(s))}),e.ALo(12,"translate"),e.YNc(13,Ho,7,5,"ng-template",171),e.YNc(14,Go,10,6,"ng-template",172),e.YNc(15,$o,6,3,"ng-template",173),e.qZA()(),e.TgZ(16,"label",73),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",78)(20,"input",76),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.internalRequest_subject=s)}),e.qZA()(),e.TgZ(21,"label",73),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",75)(25,"ng-select",174),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.assignee_id=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedAssignee())}),e.ALo(26,"translate"),e.YNc(27,zo,2,2,"ng-option",35),e.qZA()(),e.TgZ(28,"label",73),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",75)(32,"ng-select",175),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedPriority=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onChangeSelectedPriority(s.selectedPriority))}),e.YNc(33,Ko,3,4,"ng-template",171),e.YNc(34,Xo,3,4,"ng-template",172),e.qZA()(),e.TgZ(35,"label",73),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",6)(39,"textarea",176),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.internalRequest_message=s)}),e._uU(40,"  "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,28,"VisitorsPage.Requester")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(44,_e,!t.selectedRequester)),e.xp6(1),e.Q6J("ngClass",e.VKq(46,_e,!t.selectedRequester)),e.xp6(1),e.hij(" ",e.lcZ(7,30,"ViewRequesterDetails")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(48,_e,!t.selectedRequester)),e.xp6(3),e.s9C("placeholder",e.lcZ(12,32,"SelectRequester")),e.Q6J("items",t.projectUserAndLeadsArray)("ngModel",t.selectedRequester)("virtualScroll",!0)("searchFn",t.customSearchFn)("clearable",!1)("loading",t.loadingRequesters),e.xp6(6),e.hij(" ",e.lcZ(18,34,"Subject")," * "),e.xp6(3),e.Q6J("ngModel",t.internalRequest_subject),e.xp6(2),e.hij(" ",e.lcZ(23,36,"SelectAssignee")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(26,38,"SelectAssignee")),e.Q6J("ngModel",t.assignee_id)("searchable",!0)("clearable",!1)("loading",t.loadingAssignee),e.xp6(2),e.Q6J("ngForOf",t.projectUserBotsAndDeptsArray),e.xp6(2),e.hij(" ",e.lcZ(30,40,"Priority")," "),e.xp6(3),e.Q6J("items",t.priority)("clearable",!1)("hideSelected",!0)("ngModel",t.selectedPriority),e.xp6(4),e.hij(" ",e.lcZ(37,42,"VisitorsPage.Message")," * "),e.xp6(3),e.Q6J("ngModel",t.internalRequest_message)}}function tl(n,o){1&n&&(e.TgZ(0,"div",5)(1,"div",190),e._UZ(2,"div",191)(3,"div",192)(4,"div",193)(5,"div",194)(6,"div",195),e.qZA()())}function nl(n,o){1&n&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",196)(3,"div",197),e._UZ(4,"span",198)(5,"span",199)(6,"div",200)(7,"div",201),e.qZA()()(),e.TgZ(8,"div",6)(9,"h3",202),e._uU(10),e.ALo(11,"translate"),e.qZA()()()),2&n&&(e.xp6(10),e.hij(" ",e.lcZ(11,1,"BotsAddEditPage.AnErrorHasOccurred")," "))}function sl(n,o){1&n&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",203)(3,"div",204),e._UZ(4,"span",205)(5,"span",206)(6,"div",207)(7,"div",208),e.qZA()()(),e.TgZ(8,"div",6)(9,"h3",202),e._uU(10),e.ALo(11,"translate"),e.qZA()()()),2&n&&(e.xp6(10),e.hij(" ",e.lcZ(11,1,"BotsAddEditPage.Completed")," "))}function il(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",209),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createNewInternalRequest())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",void 0===t.internalRequest_message||void 0===t.internalRequest_subject||0===(null==t.internalRequest_message?null:t.internalRequest_message.length)||0===(null==t.internalRequest_subject?null:t.internalRequest_subject.length)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CreateTicket")," ")}}function ol(n,o){1&n&&(e.TgZ(0,"button",210),e._UZ(1,"i",211),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Processing")," "))}function ll(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",212),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeInternalRequestModal())}),e.TgZ(1,"span",213),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Cancel")," "))}function rl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",214),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToInternalRequestDetails())}),e.TgZ(1,"span",213),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"ViewDetails")," "))}function al(n,o){1&n&&(e.TgZ(0,"span",215),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NameIsRequired")," "))}function cl(n,o){1&n&&(e.TgZ(0,"span",215),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Email must be a valid email")," "))}function pl(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,cl,3,3,"span",77),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.new_requester_email_is_valid)}}function ul(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",216),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createProjectUserAndThenNewLead())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",void 0===t.new_user_name),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CreateNewRequester")," ")}}function _l(n,o){1&n&&(e.TgZ(0,"button",217),e._UZ(1,"i",211),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Processing")," "))}const gl=function(n){return{height:n}};function dl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",218)(1,"appdashboard-map-request",219),e.NdJ("closeMapsView",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.handleCloseRightSidebar(s))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(4,gl,t.map_sidebar_height))("wsRequestsServed",t.wsRequestsServed)("wsRequestsUnserved",t.wsRequestsUnserved)("calling_page",t.calling_page)}}const hl=function(n){return{"margin-top":n}},Ie=function(n){return{display:n}},Ue=c(11373),we=c(35226);let ml=(()=>{class n extends x.L{constructor(t,i,s,l,a,g,d,T,m,f,E,M,V,F,G,ge){super(l,s,i,t,T,d,E,G,g),this.wsRequestsService=t,this.router=i,this.usersLocalDbService=s,this.botLocalDbService=l,this.auth=a,this.translate=g,this.usersService=d,this.faqKbService=T,this.appConfigService=m,this.departmentService=f,this.notify=E,this.contactsService=M,this.projectService=V,this.prjctPlanService=F,this.logger=G,this.groupService=ge,this.changeValues=new D.xQ,this.PLAN_NAME=_.II,this.unsubscribe$=new D.xQ,this.countRequestsServedByHumanRr=0,this.countRequestsServedByBotRr=0,this.countRequestsUnservedRr=0,this.SHOW_SIMULATE_REQUEST_BTN=!1,this.showSpinner=!0,this.ONLY_MY_REQUESTS=!1,this.displayAgentsSelect=!0,this.displayBtnLabelSeeYourRequets=!1,this.i=0,this.user_and_bot_array=[],this.team_ids_array=[],this.filter=[{deptId:null},{agentId:null},{conversationTypeId:null}],this.hasFiltered=!1,this.displayInternalRequestModal="none",this.showSpinner_createInternalRequest=!1,this.hasClickedCreateNewInternalRequest=!1,this.displayCreateNewUserModal="none",this.display_dept_sidebar=!1,this.displayRequestsMap=!1,this.OPEN_RIGHT_SIDEBAR=!1,this.projectUserArray=[],this.tempProjectUserArray=[],this.display_teammates_in_scroll_div=!1,this.showRealTeammates=!1,this.projectUserAndLeadsArray=[],this.projectUserBotsAndDeptsArray=[],this.page_No=0,this.items=[],this.HAS_CLICKED_CREATE_NEW_LEAD=!1,this.HAS_COMPLETED_CREATE_NEW_LEAD=!1,this.calling_page="conv_list",this.zone=new e.R0b({enableLongStackTrace:!1})}ngOnInit(){this.getBrowserVersion(),this.getOSCODE(),this.getImageStorageAndThenProjectUsers(),this.getDepartments(),this.getCurrentProject(),this.getProjectPlan(),this.getLoggedUser(),this.detectBrowserRefresh(),this.getChatUrl(),this.getTestSiteUrl(),this.translateString(),this.getRestRequestConversationCount(),this.getWsConv$()}getBrowserVersion(){this.auth.isChromeVerGreaterThan100.subscribe(t=>{this.isChromeVerGreaterThan100=t})}ngAfterViewInit(){}ngOnDestroy(){this.logger.log("[WS-REQUESTS-LIST] - ngOnDestroy"),this.subscription&&this.subscription.unsubscribe(),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.projectUserArray.forEach(t=>{this.wsRequestsService.unsubsToToWsAllProjectUsersOfTheProject(t.id_user._id)})}openChat(){localStorage.setItem("last_project",JSON.stringify(this.current_selected_prjct)),window.open(this.CHAT_BASE_URL+"#/conversation-detail/","_self","Tiledesk - Open Source Live Chat").focus()}getProjectPlan(){this.subscription=this.prjctPlanService.projectPlan$.subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST] - GET PROJECT-PLAN - project Profile Data",t),t&&(this.project_id=t._id,this.prjct_trial_expired=t.trial_expired,this.prjct_profile_type=t.profile_type,this.subscription_is_active=t.subscription_is_active,this.prjct_profile_name=t.profile_name,this.trial_expired=t.trial_expired,this.profile_name=t.profile_name,this.subscription_end_date=t.subscription_end_date,"payment"===this.prjct_profile_type&&!1===this.subscription_is_active||"free"===this.prjct_profile_type&&!0===this.prjct_trial_expired?this.DISPLAY_OPH_AS_DISABLED=!0:("payment"===this.prjct_profile_type&&!0===this.subscription_is_active||"free"===this.prjct_profile_type&&!1===this.prjct_trial_expired)&&(this.DISPLAY_OPH_AS_DISABLED=!1))},t=>{this.logger.error("[WS-REQUESTS-LIST] - GET PROJECT-PLAN - ERROR",t)},()=>{this.logger.log("[WS-REQUESTS-LIST] - GET PROJECT-PLAN * COMPLETE *")})}getOSCODE(){this.public_Key=this.appConfigService.getConfig().t2y12PruGU9wUtEGzBJfolMIgK,this.logger.log("[WS-REQUESTS-LIST] getAppConfig public_Key",this.public_Key);let t=this.public_Key.split("-");this.logger.log("[WS-REQUESTS-LIST] PUBLIC-KEY - keys",t),t.forEach(i=>{i.includes("PSA")&&(this.isVisibleSmartAssignOption="F"!==i.split(":")[1]),i.includes("OPH")&&(this.isVisibleOPH="F"!==i.split(":")[1]),i.includes("PAY")&&(this.isVisiblePay="F"!==i.split(":")[1])}),this.public_Key.includes("PSA")||(this.isVisibleSmartAssignOption=!1),this.public_Key.includes("OPH")||(this.isVisibleOPH=!1),this.public_Key.includes("PAY")||(this.isVisiblePay=!1)}translateString(){this.translate.get("NewRequesterCreatedSuccessfully").subscribe(t=>{this.newRequesterCreatedSuccessfullyMsg=t}),this.translate.get("UsersWiththeAgentroleCannotManageTheAdvancedOptionsOfTheProject").subscribe(t=>{this.agentCannotManageAdvancedOptions=t}),this.translate.get("LearnMoreAboutDefaultRoles").subscribe(t=>{this.learnMoreAboutDefaultRoles=t}),this.translate.get("ThisFeatureIsAvailableWithTheProPlan").subscribe(t=>{this.featureIsAvailableWithTheProPlan=t}),this.translate.get("ProjectEditPage.FeatureOnlyAvailableWithTheEnterprisePlan").subscribe(t=>{this.onlyAvailableWithEnterprisePlan=t}),this.translate.get("Cancel").subscribe(t=>{this.cancelLbl=t}),this.translate.get("Pricing.UpgradePlan").subscribe(t=>{this.upgradePlan=t}),this.translate.get("AvailableWithThePlan",{plan_name:_.II.F}).subscribe(t=>{this.cPlanOnly=t}),this.translate.get("OnlyUserWithOwnerRoleCanManageAdvancedProjectSettings").subscribe(t=>{this.onlyUserWithOwnerRoleCanManageAdvancedProjectSettings=t})}getImageStorageAndThenProjectUsers(){if(this.imageStorage$=this.usersService.imageStorage$.value,this.logger.log("[WS-REQUESTS-LIST] - IMAGE STORAGE usersService BS value",this.imageStorage$),"firebase"===this.appConfigService.getConfig().uploadEngine){this.UPLOAD_ENGINE_IS_FIREBASE=!0;const t=this.appConfigService.getConfig().firebase;this.storageBucket=t.storageBucket,this.logger.log("[WS-REQUESTS-LIST] - IMAGE STORAGE (getImageStorageAndThenProjectUsers)",this.storageBucket,"usecase firebase"),this.getAllProjectUsers(this.storageBucket,this.UPLOAD_ENGINE_IS_FIREBASE)}else this.UPLOAD_ENGINE_IS_FIREBASE=!1,this.baseUrl=this.appConfigService.getConfig().SERVER_BASE_URL,this.logger.log("[WS-REQUESTS-LIST] - IMAGE STORAGE (getImageStorageAndThenProjectUsers) ",this.baseUrl,"usecase native"),this.getAllProjectUsers(this.baseUrl,this.UPLOAD_ENGINE_IS_FIREBASE);this.displayProjectUserImageSkeleton()}displayProjectUserImageSkeleton(){setTimeout(()=>{this.showRealTeammates=!0},2500)}getTestSiteUrl(){this.TESTSITE_BASE_URL=this.appConfigService.getConfig().WIDGET_BASE_URL+"assets/twp/index.html",this.logger.log("[WS-REQUESTS-LIST] getAppConfig - TESTSITE_BASE_URL",this.TESTSITE_BASE_URL)}getChatUrl(){this.CHAT_BASE_URL=this.appConfigService.getConfig().CHAT_BASE_URL,this.logger.log("[WS-REQUESTS-LIST] getAppConfig - CHAT_BASE_URL",this.CHAT_BASE_URL)}goToNoRealtimeConversations(){this.router.navigate(["project/"+this.projectId+"/all-conversations"])}goToEditUser(t){"agent"!==this.CURRENT_USER_ROLE&&this.router.navigate(["project/"+this.projectId+"/user/edit/"+t])}showRequestsMap(){this.displayRequestsMap=!0}openRightSideBar(){this.OPEN_RIGHT_SIDEBAR=!0,this.logger.log("[WS-REQUESTS-LIST] \xbb\xbb\xbb\xbb OPEN RIGHT SIDEBAR ",this.OPEN_RIGHT_SIDEBAR);const t=document.querySelector(".main-content");this.logger.log("[WS-REQUESTS-LIST] - REQUEST-MAP - ON OPEN RIGHT SIDEBAR -> RIGHT SIDEBAR HEIGHT (MAIN-CONTENT)",t.clientHeight),this.map_sidebar_height=t.clientHeight-100+"px",this.logger.log("[WS-REQUESTS-LIST] - REQUEST-MAP - ON OPEN RIGHT SIDEBAR -> RIGHT SIDEBAR HEIGHT",this.map_sidebar_height)}handleCloseRightSidebar(t){this.logger.log("[WS-REQUESTS-LIST] \xbb\xbb\xbb\xbb CLOSE RIGHT SIDEBAR ",t),this.OPEN_RIGHT_SIDEBAR=!1}detectBrowserRefresh(){this.logger.log("[WS-REQUESTS-LIST] CALLING browserRefresh"),this.browserRefresh=A.JD,this.browserRefresh&&this.listenToRequestsLength()}getProjectUserRole(){this.usersService.project_user_role_bs.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.CURRENT_USER_ROLE=t,"agent"===t?(this.ROLE_IS_AGENT=!0,this.displayBtnLabelSeeYourRequets=!0,this.ONLY_MY_REQUESTS=!0,!0===this.ONLY_MY_REQUESTS&&!0===this.AGENTS_CAN_SEE_ONLY_OWN_CONVS&&(this.displayAgentsSelect=!1,this.logger.log("[WS-REQUESTS-LIST] - seeIamAgentRequests - displayAgentsSelect ",this.displayAgentsSelect)),this.getWsRequests$()):(this.ROLE_IS_AGENT=!1,this.displayBtnLabelSeeYourRequets=!1,this.getWsRequests$()))})}scrollLeftTeammates(){this.widgetsContent.nativeElement.scrollTo({left:this.widgetsContent.nativeElement.scrollLeft-150,behavior:"smooth"})}scrollRightTeammates(){this.widgetsContent.nativeElement.scrollTo({left:this.widgetsContent.nativeElement.scrollLeft+150,behavior:"smooth"})}getAllProjectUsers(t,i){this.usersService.getProjectUsersByProjectId().subscribe(s=>{s&&(this.project_users=s,this.project_user_length=s.length,this.projectUserArray=s,s.forEach(l=>{this.logger.log("WS-REQUESTS-LIST - GET PROJECT-USERS forEach projectuser ",l);let a="";a=!0===i?"https://firebasestorage.googleapis.com/v0/b/"+t+"/o/profiles%2F"+l.id_user._id+"%2Fphoto.jpg?alt=media":t+"images?path=uploads%2Fusers%2F"+l.id_user._id+"%2Fimages%2Fthumbnails_200_200-photo.jpg",this.checkImageExists(a,g=>{l.hasImage=1==g}),this.wsRequestsService.subscriptionToWsAllProjectUsersOfTheProject(l.id_user._id),this.listenToAllProjectUsersOfProject$(l),this.createAgentAvatarInitialsAnfBckgrnd(l.id_user)}))},s=>{this.logger.error("[WS-REQUESTS-LIST] - GET PROJECT-USERS - ERROR ",s)},()=>{this.logger.log("[WS-REQUESTS-LIST]T - GET PROJECT-USERS * COMPLETE *")})}createAgentAvatarInitialsAnfBckgrnd(t){let i="";t&&t.firstname&&t.lastname?(i=t.firstname+" "+t.lastname,t.fullname_initial=(0,_.Pb)(i),t.fillColour=(0,_.e$)(i)):t&&t.firstname?(i=t.firstname,t.fullname_initial=(0,_.Pb)(i),t.fillColour=(0,_.e$)(i)):(t.fullname_initial="N/A",t.fillColour="rgb(98, 100, 167)")}listenToAllProjectUsersOfProject$(t){this.wsRequestsService.projectUsersOfProject$.pipe((0,C.R)(this.unsubscribe$)).subscribe(i=>{t._id===i._id&&(t.number_assigned_requests_rt=i.number_assigned_requests,t.user_available_rt=i.user_available,t.isBusy_rt=i.isBusy,t.updatedAt_rt=i.updatedAt,"profileStatus"in i&&(t.profileStatus_rt=i.profileStatus)),-1===this.tempProjectUserArray.indexOf(t)?this.tempProjectUserArray.push(t):this.logger.log("PUSH PROJECT-USER IN tempProjectUserArray: This item already exists"),this.tempProjectUserArray.sort(function(s,l){return s.user_available_rt-l.user_available_rt}),this.tempProjectUserArray.reverse(),this.projectUserArray=this.tempProjectUserArray},i=>{this.logger.error("[WS-REQUESTS-LIST] $UBSC TO WS PROJECT-USERS - ERROR ",i)},()=>{this.logger.log("[WS-REQUESTS-LIST] $UBSC TO WS PROJECT-USERS * COMPLETE *")})}getDeptsByProjectId(t){this.departmentService.getDeptsByProjectId().subscribe(i=>{const s=i.filter(l=>0!==l.status);if(s){const l=s.length;let a=0;s.forEach(g=>{l>1?g&&!0!==g.default&&(!g.id_group||void 0===g.id_group)&&(a+=1):1===l&&(!g.id_group||void 0===g.id_group)&&(a+=1)}),a>0?this.filteredProjectUsersArray=t:0===a&&this.getGroupsByProjectId(t)}},i=>{this.logger.error("[WS-REQUESTS-LIST] (FILTERED FOR PROJECT ID) - ERROR",i)},()=>{this.logger.log("[WS-REQUESTS-LIST] (FILTERED FOR PROJECT ID) - COMPLETE")})}getGroupsByProjectId(t){this.groupService.getGroupsByProjectId().subscribe(i=>{const s=[];i?(this.groupsList=i,this.groupsList.forEach(l=>{l.members.includes(this.currentUserID)?(l.members.forEach(a=>{-1===s.indexOf(a)?s.push(a):this.logger.log("PUSH MEMBER ID IN memberOfAllGroups : This item already exists")}),this.filteredProjectUsersArray=t.filter(a=>s.includes(a.id_user._id))):this.filteredProjectUsersArray=t})):this.filteredProjectUsersArray=t},i=>{this.logger.error("[DEPT-EDIT-ADD] - GET GROUPS - ERROR ",i)},()=>{this.logger.log("[DEPT-EDIT-ADD] - GET GROUPS * COMPLETE")})}listenToRequestsLength(){this.subscription=this.wsRequestsService.ws_All_RequestsLength$.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST] - $UBS TO WS REQUEST LENGTH",t),0===t?(this.SHOW_SIMULATE_REQUEST_BTN=!0,this.showSpinner=!1,this.logger.log("[WS-REQUESTS-LIST] - $UBS TO WS REQUEST LENGTH (usecase totalrequests = 0) - SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.logger.log("[WS-REQUESTS-LIST] - $UBS TO WS REQUEST LENGTH (usecase totalrequests = 0) - showSpinner ",this.showSpinner)):t>0&&(this.showSpinner=!1,this.SHOW_SIMULATE_REQUEST_BTN=!1,this.logger.log("[WS-REQUESTS-LIST] - $UBS TO WS REQUEST LENGTH (usecase totalrequests > 0) - SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.logger.log("[WS-REQUESTS-LIST] - $UBS TO WS REQUEST LENGTH (usecase totalrequests > 0)-  showSpinner ",this.showSpinner))})}generateFake(t){const i=[];for(let s=0;s<t;s++)i.push(s);return i}getLoggedUser(){this.auth.user_bs.subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST] GET CURRENT-USER  USER ",t),t&&(this.currentUserID=t._id,this.logger.log("[WS-REQUESTS-LIST] GET CURRENT-USER > currentUser ID",this.currentUserID))})}getCurrentProject(){this.auth.project_bs.subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST] GET CURRENT-PRJCT AND THEN GET PROJECT BY ID - CURRENT-PRJCT",t),t&&(this.projectId=t._id,this.logger.log("[WS-REQUESTS-LIST] GET CURRENT-PRJCT AND THEN GET PROJECT BY ID - CURRENT-PRJCT > projectId",this.projectId),this.projectName=t.name,this.OPERATING_HOURS_ACTIVE=t.activeOperatingHours,this.logger.log("[WS-REQUESTS-LIST] OPERATING_HOURS_ACTIVE",this.OPERATING_HOURS_ACTIVE),this.getProjectById(this.projectId),this.findCurrentProjectAmongAll(this.projectId))})}findCurrentProjectAmongAll(t){this.projectService.getProjects().subscribe(i=>{this.current_selected_prjct=i.find(s=>s.id_project.id===t),this.logger.log("[WS-REQUESTS-LIST] - GET PROJECTS - current_selected_prjct ",this.current_selected_prjct),this.logger.log("[WS-REQUESTS-LIST] - GET PROJECTS - projects ",i)},i=>{this.logger.error("[WS-REQUESTS-LIST] - GET PROJECTS - ERROR: ",i)},()=>{this.logger.log("[WS-REQUESTS-LIST] - GET PROJECTS * COMPLETE * ")})}getProjectById(t){this.projectService.getProjectById(t).subscribe(i=>{if(this.logger.log("[WS-REQUESTS-LIST] - GET PROJECT BY ID - project: ",i),i&&!0===i.activeOperatingHours){let s=JSON.parse(i.operatingHours);const l=Object.keys(s).length;this.logger.log("[WS-REQUESTS-LIST] - GET PROJECT BY ID operatingHoursSizeObj: ",l)}i&&i.settings?(!0===i.settings.reassignment_on?(this.CHAT_REASSIGNMENT_IS_ENABLED=!0,this.reassignment_timeout=i.settings.reassignment_delay):this.CHAT_REASSIGNMENT_IS_ENABLED=!1,!0===i.settings.chat_limit_on?(this.CHAT_LIMIT_IS_ENABLED=!0,this.maximum_chats=i.settings.max_agent_assigned_chat):this.CHAT_LIMIT_IS_ENABLED=!1,!0===i.settings.automatic_unavailable_status_on?(this.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED=!0,this.chats_reassigned=i.settings.automatic_idle_chats):this.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED=!1,this.AGENTS_CAN_SEE_ONLY_OWN_CONVS=!0===i.settings.current_agent_my_chats_only):(this.CHAT_REASSIGNMENT_IS_ENABLED=!1,this.CHAT_LIMIT_IS_ENABLED=!1,this.AUTOMATIC_UNAVAILABLE_STAUS_IS_ENABLED=!1,this.AGENTS_CAN_SEE_ONLY_OWN_CONVS=!1),this.logger.log("[WS-REQUESTS-LIST] - GET PROJECT BY ID - project > settings > AGENTS_CAN_SEE_ONLY_OWN_CONVS: ",this.AGENTS_CAN_SEE_ONLY_OWN_CONVS)},i=>{this.logger.error("[WS-REQUESTS-LIST] - GET PROJECT BY ID - ERROR",i)},()=>{this.logger.log("[WS-REQUESTS-LIST] - GET PROJECT BY ID - * COMPLETE *"),this.getProjectUserRole()})}goToOperatingHours(){this.logger.log("[WS-REQUESTS-LIST] HAS CLICKED goToOperatingHours"),"agent"!==this.CURRENT_USER_ROLE?this.router.navigate(["project/"+this.projectId+"/hours"]):this.presentModalAgentCannotManageAvancedSettings()}goToProjectSettings_Smartassignment(){this.logger.log("[WS-REQUESTS-LIST] HAS CLICKED goToProjectSettings_Smartassignment"),"owner"===this.CURRENT_USER_ROLE?this.profile_name!==_.II.C&&this.profile_name!==_.II.F||!0!==this.subscription_is_active?this.profile_name!==_.II.C&&this.profile_name!==_.II.F||!1!==this.subscription_is_active?this.profile_name!==_.II.C&&this.profile_name!==_.II.F&&this.presentModalFeautureAvailableOnlyWithPlanC():this.notify.displayEnterprisePlanHasExpiredModal(!0,_.II.C,this.subscription_end_date):this.router.navigate(["project/"+this.projectId+"/project-settings/smartassignment"]):this.presentModalAgentCannotManageAvancedSettings()}presentModalFeautureAvailableOnlyWithEnterprisePlan(){const t=document.createElement("div");t.innerHTML=this.onlyAvailableWithEnterprisePlan,Ue({content:t,icon:"info",button:{text:"OK"},dangerMode:!1})}presentModalFeautureAvailableOnlyWithPlanC(){we.fire({title:this.upgradePlan,text:this.cPlanOnly,icon:"info",showCloseButton:!1,showCancelButton:!0,confirmButtonText:this.upgradePlan,cancelButtonText:this.cancelLbl,focusConfirm:!0,reverseButtons:!0}).then(t=>{t.isConfirmed&&(this.isVisiblePay?"owner"===this.CURRENT_USER_ROLE?"payment"===this.prjct_profile_type?this.notify._displayContactUsModal(!0,"upgrade_plan"):"free"===this.prjct_profile_type&&this.router.navigate(["project/"+this.projectId+"/pricing"]):this.presentModalAgentCannotManageAvancedSettings():this.notify._displayContactUsModal(!0,"upgrade_plan"))})}presentModalAgentCannotManageAvancedSettings(){this.notify.presentModalOnlyOwnerCanManageAdvancedProjectSettings(this.onlyUserWithOwnerRoleCanManageAdvancedProjectSettings,this.learnMoreAboutDefaultRoles)}presentModalFeatureAvailableWithProPlanUserRoleAdmin(){we.fire({title:this.translate.instant("Warning"),text:this.featureIsAvailableWithTheProPlan,icon:"info",showCancelButton:!1,confirmButtonText:this.translate.instant("Ok"),focusConfirm:!1})}presentModalFeatureAvailableWithProPlanUserRoleOwner(){Ue({text:this.featureIsAvailableWithTheProPlan,icon:"info",buttons:["Cancel","Upgrade Plan"],dangerMode:!1}).then(t=>{t?(this.logger.log("[WS-REQUESTS-LIST] swal upgradePlan",t),this.router.navigate(["project/"+this.projectId+"/pricing"])):this.logger.log("[WS-REQUESTS-LIST] swal upgradePlan (else)",t)})}seeIamAgentRequests(t){this.ONLY_MY_REQUESTS=t,!1===this.ONLY_MY_REQUESTS&&!0===this.AGENTS_CAN_SEE_ONLY_OWN_CONVS?(this.displayAgentsSelect=!0,this.logger.log("[WS-REQUESTS-LIST] - seeIamAgentRequests - displayAgentsSelect ",this.displayAgentsSelect)):!0===this.ONLY_MY_REQUESTS&&!0===this.AGENTS_CAN_SEE_ONLY_OWN_CONVS&&(this.displayAgentsSelect=!1,this.logger.log("[WS-REQUESTS-LIST] - seeIamAgentRequests - displayAgentsSelect ",this.displayAgentsSelect)),this.logger.log("[WS-REQUESTS-LIST] - seeIamAgentRequests - ONLY_MY_REQUESTS ",this.ONLY_MY_REQUESTS),this.displayBtnLabelSeeYourRequets=!1!==t,this.getWsRequests$()}goToDept(t){this.router.navigate(["project/"+this.projectId+"/department/edit/"+t])}parseUserAgent(t){var i=new I.UAParser;return i.setUA(t),i.getResult()}hasmeInAgents(t,i){if(this.logger.log("[WS-REQUESTS-LIST] - hasmeInAgents - currentUserID ",this.currentUserID),t){for(let s=0;s<t.length;s++)if(this.currentUserID===t[s].id_user)return!0}else this.logger.log("[WS-REQUESTS-LIST] - hasmeInAgents Oops!!!! THERE ARE NOT AGENTS ")}hasmeInParticipants(t){let i=!1;return t.forEach(s=>{this.logger.log("[WS-REQUESTS-LIST] - hasmeInParticipants - currentUserID",this.currentUserID),this.logger.log("[WS-REQUESTS-LIST] - hasmeInParticipants - participant",s),s!==this.currentUserID||(i=!0)}),this.logger.log("[WS-REQUESTS-LIST] - hasmeInParticipants - iAmThere",i),i}addDeptObject(t){this.departmentService.getDeptsByProjectIdToPromise().then(i=>{t.forEach(s=>{if(s.department){const l=s.department.hasOwnProperty("name");l?s.dept=s.department:(this.logger.log("[WS-REQUESTS-LIST] - (DEPTS_LAZY) GET DEPTS BY PROJECT-ID toPromise - REQ DEPT NOT HAS PROPERTY NAME",l),s.department.hasOwnProperty("_id")?(this.logger.log("[WS-REQUESTS-LIST] - (DEPTS_LAZY) GET DEPTS BY PROJECT-ID toPromise - REQ DEPT HAS PROPERTY ID ",s.department._id," - RUN getDeptObj"),s.dept=this.getDeptObj(s.department._id,i)):(this.logger.log("[WS-REQUESTS-LIST] - (DEPTS_LAZY) GET DEPTS BY PROJECT-ID toPromise - REQ DEPT NOT HAS PROPERTY ID ",s.department._id," - RUN getDeptObj"),s.dept=this.getDeptObj(s.department,i)))}})})}getDeptObj(t,i){return this.logger.log("[WS-REQUESTS-LIST] - (DEPTS_LAZY) getDeptObj departmentid",t),i.filter(l=>l._id===t)[0]}onChangeDepts(){this.hasFiltered=!0,this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-DEPTS selectedDeptId",this.selectedDeptId),this.filter[0].deptId=this.selectedDeptId,this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-DEPTS - filter",this.filter),this.getWsRequests$()}clearDeptFilter(){this.filter[0].deptId=null,this.hasFiltered=!1,this.logger.log("[WS-REQUESTS-LIST] - CLEAR DEPT FILTER - selectedDeptId",this.selectedDeptId)}onChangeAgent(){this.hasFiltered=!0,this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-AGENT - filter",this.filter),this.filter[1].agentId=this.selectedAgentId,this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-AGENT - selectedAgentId",this.selectedAgentId),1===this.selectedAgentId&&this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-AGENT - >> HUMAN Agents Id Array",this.humanAgentsIdArray),2===this.selectedAgentId&&this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-AGENT - >> BOT Agents Id Array",this.botAgentsIdArray),this.getWsRequests$()}clearAgentFilter(){this.filter[1].agentId=null,this.hasFiltered=!1,this.logger.log("[WS-REQUESTS-LIST] - CLEAR AGENT FILTER - selectedAgentId",this.selectedAgentId)}onChangeConversationType(){this.hasFiltered=!0,this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-CONVERSAION-TYPE - filter",this.filter),this.filter[2].conversationTypeId=this.selectedConversationTypeId,this.logger.log("[WS-REQUESTS-LIST] - ON-CHANGE-AGENT - selectedAgentId",this.selectedConversationTypeId),this.getWsRequests$()}clearConversationTypeFilter(){this.filter[2].conversationTypeId=null,this.hasFiltered=!1,this.logger.log("[WS-REQUESTS-LIST] - CLEAR CONVERSAION-TYPE FILTER - selectedConversationTypeId",this.selectedConversationTypeId)}getWsRequests$(){this.wsRequestsService.wsRequestsList$.pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{t&&(this.logger.log("[WS-REQUESTS-LIST] - getWsRequests > if (wsrequests) ",t),this.browserRefresh=A.JD,(!1===this.browserRefresh||!0===this.browserRefresh&&this.wsRequestsService.wsRequestsList$.value.length>0)&&(t.length>0?(this.SHOW_SIMULATE_REQUEST_BTN=!1,this.logger.log("[WS-REQUESTS-LIST] - getWsRequests$ (USECASE wsrequests.length > 0) - SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.showSpinner=!1,this.logger.log("[WS-REQUESTS-LIST] - getWsRequests$ (USECASE wsrequests.length > 0) - SHOW_SPINNER ",this.showSpinner)):0===t.length&&(this.SHOW_SIMULATE_REQUEST_BTN=!0,this.logger.log("[WS-REQUESTS-LIST] - getWsRequests$ (USECASE wsrequests.length = 0) - SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.showSpinner=!1,this.logger.log("[WS-REQUESTS-LIST] - getWsRequests$ (USECASE wsrequests.length = 0) - SHOW_SPINNER ",this.showSpinner))),!1===this.ONLY_MY_REQUESTS&&(this.ws_requests=t,this.addDeptObject(this.ws_requests)),!0===this.ONLY_MY_REQUESTS&&!1===this.AGENTS_CAN_SEE_ONLY_OWN_CONVS&&(this.ws_requests=[],t.forEach(s=>{null!=s&&(this.logger.log("[WS-REQUESTS-LIST] - AGENTS_CAN_SEE_ONLY_OWN_CONVS ",this.AGENTS_CAN_SEE_ONLY_OWN_CONVS),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS ? ",this.ONLY_MY_REQUESTS),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS - hasmeInAgents ",this.hasmeInAgents(s.agents,s)),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS - hasmeInParticipants ",this.hasmeInParticipants(s.participants)),(!0===this.hasmeInAgents(s.agents,s)||!0===this.hasmeInParticipants(s.participants))&&this.ws_requests.push(s))}),this.addDeptObject(this.ws_requests)),!0===this.ONLY_MY_REQUESTS&&!0===this.AGENTS_CAN_SEE_ONLY_OWN_CONVS&&(this.ws_requests=[],t.forEach(s=>{null!=s&&(this.logger.log("[WS-REQUESTS-LIST] - AGENTS_CAN_SEE_ONLY_OWN_CONVS ",this.AGENTS_CAN_SEE_ONLY_OWN_CONVS),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS? ",this.ONLY_MY_REQUESTS),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS ? ",this.ONLY_MY_REQUESTS),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS - hasmeInAgents ",this.hasmeInAgents(s.agents,s)),this.logger.log("[WS-REQUESTS-LIST] - ONLY_MY_REQUESTS - hasmeInParticipants ",this.hasmeInParticipants(s.participants)),!0===this.hasmeInParticipants(s.participants)&&this.ws_requests.push(s))}),this.addDeptObject(this.ws_requests)),this.getParticipantsInRequests(this.ws_requests),this.getConversationTypeInRequests(this.ws_requests),!0===this.hasFiltered&&(this.ws_requests=this.ws_requests.filter(s=>(this.logger.log("[WS-REQUESTS-LIST] - filter: ",this.filter),this.logger.log("[WS-REQUESTS-LIST] - filter filter[0]: ",this.filter[0]),this.logger.log("[WS-REQUESTS-LIST] - filter filter[1]: ",this.filter[1]),this.logger.log("[WS-REQUESTS-LIST] - filter filter[2]: ",this.filter[2]),void 0!==this.filter[0]&&null!==this.filter[0].deptId&&null===this.filter[1].agentId&&null===this.filter[2].conversationTypeId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 1 - filter only for department "),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 1 - filter[deptId] ",this.filter[0].deptId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 1 - r[dept] ",s.dept),!(!s.dept||s.dept._id!==this.filter[0].deptId)):void 0!==this.filter[1]&&null!==this.filter[1].agentId&&null===this.filter[0].deptId&&null===this.filter[2].conversationTypeId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 1 - filter only for participant"),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 1 - filter[agentId] ",this.filter[1].agentId),1===this.filter[1].agentId?!!this.humanAgentsIdArray.some(l=>s.participants.includes(l)):2===this.filter[1].agentId?!!this.botAgentsIdArray.some(l=>s.participants.includes(l)):!!s.participants.includes(this.filter[1].agentId)):void 0!==this.filter[2]&&null!==this.filter[2].conversationTypeId&&null===this.filter[1].agentId&&null===this.filter[0].deptId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter only for conversation type "),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[conversationTypeId] ",this.filter[2].conversationTypeId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - [channel][name]] ",s.channel.name),s.channel.name===this.filter[2].conversationTypeId):void 0!==this.filter[1]&&null!==this.filter[1].agentId&&void 0!==this.filter[0]&&null!==this.filter[0].deptId&&null===this.filter[2].conversationTypeId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 3 - filter for dept & participant"),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[agentId] ",this.filter[1].agentId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[deptId] ",this.filter[0].deptId),1===this.filter[1].agentId?!(!this.humanAgentsIdArray.some(l=>s.participants.includes(l))||!s.dept||s.dept._id!==this.filter[0].deptId):2===this.filter[1].agentId?!(!this.botAgentsIdArray.some(l=>s.participants.includes(l))||!s.dept||s.dept._id!==this.filter[0].deptId):!(!s.participants.includes(this.filter[1].agentId)||!s.dept||s.dept._id!==this.filter[0].deptId)):void 0!==this.filter[1]&&null!==this.filter[1].agentId&&void 0!==this.filter[0]&&null!==this.filter[0].deptId&&void 0!==this.filter[2]&&null!==this.filter[2].conversationTypeId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter for dept & participant & conversationTypeId"),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[agentId] ",this.filter[1].agentId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[deptId] ",this.filter[0].deptId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[deptId] ",this.filter[2].conversationTypeId),1===this.filter[1].agentId?!(!this.humanAgentsIdArray.some(l=>s.participants.includes(l))||!s.dept||s.dept._id!==this.filter[0].deptId||s.channel.name!==this.filter[2].conversationTypeId):2===this.filter[1].agentId?!(!this.botAgentsIdArray.some(l=>s.participants.includes(l))||!s.dept||s.dept._id!==this.filter[0].deptId||s.channel.name!==this.filter[2].conversationTypeId):!(!s.participants.includes(this.filter[1].agentId)||!s.dept||s.dept._id!==this.filter[0].deptId||s.channel.name!==this.filter[2].conversationTypeId)):null===this.filter[1].agentId&&void 0!==this.filter[0]&&null!==this.filter[0].deptId&&void 0!==this.filter[2]&&null!==this.filter[2].conversationTypeId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter for dept &  conversationTypeId"),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[agentId] ",this.filter[1].agentId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[deptId] ",this.filter[0].deptId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[deptId] ",this.filter[2].conversationTypeId),!(!s.dept||s.dept._id!==this.filter[0].deptId||s.channel.name!==this.filter[2].conversationTypeId)):void 0!==this.filter[1]&&null!==this.filter[1].agentId&&void 0!==this.filter[2]&&null!==this.filter[2].conversationTypeId&&null===this.filter[0].deptId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter for participant conversationType"),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[agentId] ",this.filter[1].agentId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[deptId] ",this.filter[0].deptId),this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE  - filter[conversationTypeId] ",this.filter[2].conversationTypeId),1===this.filter[1].agentId?!(!this.humanAgentsIdArray.some(l=>s.participants.includes(l))||s.channel.name!==this.filter[2].conversationTypeId):2===this.filter[1].agentId?!(!this.botAgentsIdArray.some(l=>s.participants.includes(l))||s.channel.name!==this.filter[2].conversationTypeId):!(!s.participants.includes(this.filter[1].agentId)||s.channel.name!==this.filter[2].conversationTypeId)):null===this.filter[1].agentId&&null===this.filter[0].deptId&&null===this.filter[2].conversationTypeId?(this.logger.log("[WS-REQUESTS-LIST] FILTER USECASE 4 - * all filters has been cleared *"),this.hasFiltered=!1,!0):void 0)))),this.ws_requests.forEach(s=>{this.logger.log("[WS-REQUESTS-LIST] - request ",s),s.lead.email&&!(0,_.vV)(s.lead.email)&&(s.lead.email=null);const l=this.parseUserAgent(s.userAgent);if(s.ua_browser=l.browser.name+" "+l.browser.version,s.ua_os=l.os.name+" "+l.os.version,s.attributes&&s.attributes.last_abandoned_by_project_user){this.logger.log("[WS-REQUESTS-LIST] - for the tooltip - request.attributes",s.attributes),this.logger.log("[WS-REQUESTS-LIST] - for the tooltip - project_users",this.project_users);const d=s.attributes.last_abandoned_by_project_user;this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED project_user_id",d);const T=this.usersLocalDbService.getMemberFromStorage(d);this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED project_users_found_in_storage",T),null!==T?(this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED project_users_found_in_storage 1",T),this.createArrayLast_abandoned_by_project_user(T,s)):this.usersService.getProjectUserByProjecUserId(d).subscribe(m=>{this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED getProjectUserById RES",m);let f="";!0===this.UPLOAD_ENGINE_IS_FIREBASE?f="https://firebasestorage.googleapis.com/v0/b/"+this.storageBucket+"/o/profiles%2F"+m.id_user._id+"%2Fphoto.jpg?alt=media":(f=this.baseUrl+"images?path=uploads%2Fusers%2F"+m.id_user._id+"%2Fimages%2Fthumbnails_200_200-photo.jpg",this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED has image ",f)),this.checkImageExists(f,E=>{1==E?m.id_user.hasImage=!0:(m.id_user.hasImage=!1,this.createAgentAvatarInitialsAnfBckgrnd(m.id_user)),this.usersLocalDbService.saveMembersInStorage(m.id_user._id,m.id_user,"ws-requests-list"),this.usersLocalDbService.saveUserInStorageWithProjectUserId(m._id,m.id_user),this.createArrayLast_abandoned_by_project_user(m.id_user,s)})},m=>{this.logger.error("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED getProjectUserById - ERROR",m)},()=>{this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED getProjectUserById - COMPLETE")})}if(s.attributes&&s.attributes&&s.attributes.abandoned_by_project_users){this.other_project_users_that_has_abandoned_array=[];for(const[d,T]of Object.entries(s.attributes.abandoned_by_project_users))if(this.logger.log("[WS-REQUESTS-LIST] - OTHERS PROJECT-USER THAT HAVE ABANDONED key:value ",`${d}: ${T}`),d!==s.attributes.last_abandoned_by_project_user){const m=this.usersLocalDbService.getMemberFromStorage(d);this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED other_project_users_found",m),null!==m?(this.logger.log("[WS-REQUESTS-LIST] - OTHER PROJECT-USER THAT HAS ABANDONED other_project_users_found 1",m),this.createArrayOther_project_users_that_has_abandoned(m)):this.usersService.getProjectUserByProjecUserId(d).subscribe(f=>{this.logger.log("[WS-REQUESTS-LIST] - OTHER PROJECT-USER THAT HAS ABANDONED getProjectUserById RES",f);let E="";!0===this.UPLOAD_ENGINE_IS_FIREBASE?E="https://firebasestorage.googleapis.com/v0/b/"+this.storageBucket+"/o/profiles%2F"+f.id_user._id+"%2Fphoto.jpg?alt=media":(E=this.baseUrl+"images?path=uploads%2Fusers%2F"+f.id_user._id+"%2Fimages%2Fthumbnails_200_200-photo.jpg",this.logger.log("[WS-REQUESTS-LIST] - OTHER PROJECT-USER THAT HAS ABANDONED has image ",E)),this.checkImageExists(E,M=>{1==M?f.id_user.hasImage=!0:(f.id_user.hasImage=!1,this.createAgentAvatarInitialsAnfBckgrnd(f.id_user)),this.usersLocalDbService.saveMembersInStorage(f.id_user._id,f.id_user,"ws-requests-list"),this.usersLocalDbService.saveUserInStorageWithProjectUserId(f._id,f.id_user)})},f=>{this.logger.error("[WS-REQUESTS-LIST] - OTHER PROJECT-USER THAT HAS ABANDONED getProjectUserById - ERROR",f)},()=>{this.logger.log("[WS-REQUESTS-LIST] - OTHER PROJECT-USER THAT HAS ABANDONED getProjectUserById - COMPLETE");const f=this.usersLocalDbService.getMemberFromStorage(d);this.logger.log("[WS-REQUESTS-LIST] - OTHER PROJECT-USER THAT HAS ABANDONED other_project_users_found 2",f),f&&this.createArrayOther_project_users_that_has_abandoned(f)}),this.logger.log("[WS-REQUESTS-LIST] - LAST PROJECT-USER THAT HAS ABANDONED other_project_users_that_has_abandoned_array",this.other_project_users_that_has_abandoned_array),s.attributes.other_project_users_that_has_abandoned_array=this.other_project_users_that_has_abandoned_array}}s.currentUserIsJoined=this.currentUserIdIsInParticipants(s.participants,this.auth.user_bs.value._id,s.request_id),200===s.status&&(s.participanting_Agents?this.logger.log("[WS-REQUESTS-LIST] - PARTICIPATING-AGENTS IS DEFINED"):(this.logger.log("[WS-REQUESTS-LIST] - PARTICIPATING-AGENTS IS ",s.participanting_Agents," - RUN doParticipatingAgentsArray "),s.participanting_Agents=this.doParticipatingAgentsArray(s.participants,s.first_text,this.imageStorage$,this.UPLOAD_ENGINE_IS_FIREBASE))),s.lead&&s.lead.fullname?(s.requester_fullname_initial=(0,_.Pb)(s.lead.fullname),s.requester_fullname_fillColour=(0,_.e$)(s.lead.fullname),s.requester_fullname=s.lead.fullname):(s.requester_fullname_initial="N/A",s.requester_fullname_fillColour="#6264a7",s.requester_fullname="N/A"),s.requester_is_verified=!!(s&&s.requester&&s.requester.isAuthenticated&&!0===s.requester.isAuthenticated)}),this.ws_requests&&(this.logger.log("[WS-REQUESTS-LIST] - getWsRequests - sort requests  * ws_requests *",this.ws_requests),this.wsRequestsUnserved=this.ws_requests.filter(s=>100===s.status).sort(function(l,a){return l.createdAt>a.createdAt?1:l.createdAt<a.createdAt?-1:0}),this.wsRequestsServed=this.ws_requests.filter(s=>100!==s.status).sort(function(l,a){return l.createdAt>a.createdAt?-1:l.createdAt<a.createdAt?1:0})),this.logger.log("[WS-REQUESTS-LIST] getWsRequests - served ",this.wsRequestsServed),this.logger.log("[WS-REQUESTS-LIST] - getWsRequests - unserved ",this.wsRequestsUnserved),this.served_unserved_sum=this.countRequestsServedByHumanRr+this.countRequestsServedByBotRr+this.countRequestsUnservedRr},t=>{this.logger.error("[WS-REQUESTS-LIST] getWsRequests$ - ERROR ",t)},()=>{this.logger.log("[WS-REQUESTS-LIST] getWsRequests$ */* COMPLETE */*")})}getWsConv$(){this.wsRequestsService.wsConv$.pipe(function L(n,o=re.P,t=K){return i=>i.lift(new B(n,o,t.leading,t.trailing))}(3e4)).pipe((0,C.R)(this.unsubscribe$)).subscribe(t=>{this.getRestRequestConversationCount()})}getRestRequestConversationCount(){this.wsRequestsService.getConversationCount().subscribe(t=>{t&&(this.requestCountResp=t,this.countRequestsServedByHumanRr=t.assigned,this.countRequestsServedByBotRr=t.bot_assigned,this.countRequestsUnservedRr=t.unassigned)},t=>{this.logger.error("[WS-REQUESTS-MSGS] - getRestRequestConversationCount - ERROR  ",t)},()=>{this.logger.log("[WS-REQUESTS-MSGS] -getRestRequestConversationCount * COMPLETE *")})}createArrayLast_abandoned_by_project_user(t,i){let s="";s=!0===this.UPLOAD_ENGINE_IS_FIREBASE?"https://firebasestorage.googleapis.com/v0/b/"+this.storageBucket+"/o/profiles%2F"+t._id+"%2Fphoto.jpg?alt=media":this.baseUrl+"images?path=uploads%2Fusers%2F"+t._id+"%2Fimages%2Fthumbnails_200_200-photo.jpg";const l=[];l.push({_id:t._id,firstname:t.firstname,lastname:t.lastname,has_image:t.hasImage,img_url:s,fillColour:t.fillColour,fullname_initial:t.fullname_initial}),i.attributes.last_abandoned_by_project_user_array=l}createArrayOther_project_users_that_has_abandoned(t){this.logger.log("[WS-REQUESTS-LIST] createArrayOther_project_users_that_has_abandoned other_project_users_found",t);let i="";i=!0===this.UPLOAD_ENGINE_IS_FIREBASE?"https://firebasestorage.googleapis.com/v0/b/"+this.storageBucket+"/o/profiles%2F"+t._id+"%2Fphoto.jpg?alt=media":this.baseUrl+"images?path=uploads%2Fusers%2F"+t._id+"%2Fimages%2Fthumbnails_200_200-photo.jpg",this.other_project_users_that_has_abandoned_array.push({_id:t._id,firstname:t.firstname,lastname:t.lastname,has_image:t.hasImage,img_url:i,fillColour:t.fillColour,fullname_initial:t.fullname_initial})}replace_recipient(t){if(t)return t.replace("support-group-","")}testWidgetPage(){this.testwidgetbtnRef.nativeElement.blur();const t=this.TESTSITE_BASE_URL+"?tiledesk_projectid="+this.projectId+"&project_name="+encodeURIComponent(this.projectName)+"&role="+this.CURRENT_USER_ROLE;window.open(t,"_blank")}presentCreateInternalRequestModal(){this.selectedPriority=this.priority[2].name,this.displayInternalRequestModal="block",this.hasClickedCreateNewInternalRequest=!1,this.projectUserBotsAndDeptsArray=[],this.projectUserAndLeadsArray=[],this.newTicketRequestId=null,this.getProjectUsersAndContacts(),this.getProjectUserBotsAndDepts()}closeInternalRequestModal(){this.displayInternalRequestModal="none",this.hasClickedCreateNewInternalRequest=!1,this.resetCreateInternalRequest()}createNewInternalRequest(){this.hasClickedCreateNewInternalRequest=!0,this.showSpinner_createInternalRequest=!0,this.logger.log("[WS-REQUESTS-LIST] create internalRequest - internalRequest_message ",this.internalRequest_message),this.logger.log("[WS-REQUESTS-LIST] create internalRequest - assignee_dept_id ",this.assignee_dept_id),this.logger.log("[WS-REQUESTS-LIST] create internalRequest - assignee_participants_id ",this.assignee_participants_id),this.logger.log("[WS-REQUESTS-LIST] create internalRequest - internalRequest_subject",this.internalRequest_subject);const t=J.v4();this.logger.log("[WS-REQUESTS-LIST] create internalRequest - uiid",t),this.logger.log("[WS-REQUESTS-LIST] create internalRequest - uiid typeof",typeof t);const i=t.replace(/-/g,"");this.logger.log("[WS-REQUESTS-LIST] create internalRequest - uiid_no_dash",i),this.internal_request_id="support-group-"+this.project_id+"-"+i,this.logger.log("[WS-REQUESTS-LIST] create internalRequest - internal_request_id",this.internal_request_id),this.wsRequestsService.createInternalRequest(this.selectedRequester,this.internal_request_id,this.internalRequest_subject,this.internalRequest_message,this.assignee_dept_id,this.assignee_participants_id,this.selectedPriority).subscribe(s=>{this.logger.log("[WS-REQUESTS-LIST] create internalRequest - RES ",s),this.newTicketRequestId=s.recipient,this.logger.log("[WS-REQUESTS-LIST] create newTicketRequestId  ",this.newTicketRequestId)},s=>{this.showSpinner_createInternalRequest=!1,this.createNewInternalRequest_hasError=!0,this.logger.error("[WS-REQUESTS-LIST] create internalRequest  - ERROR: ",s)},()=>{this.logger.log("[WS-REQUESTS-LIST] create internalRequest * COMPLETE *"),this.showSpinner_createInternalRequest=!1,this.createNewInternalRequest_hasError=!1,this.wsRequestsService.updateRequestWorkingStatus(this.newTicketRequestId,"new").subscribe(s=>{this.logger.log("[WS-REQUESTS-MSGS] - create internalRequest WORKING STATUS ",s)},s=>{this.logger.error("[WS-REQUESTS-MSGS] - create internalRequest WORKING STATUS - ERROR ",s)},()=>{this.logger.log("[WS-REQUESTS-MSGS] - create internalRequestT WORKING STATUS  * COMPLETE")})})}openTheChaForInternalRequest(){this.displayInternalRequestModal="none",window.open(this.CHAT_BASE_URL,"_blank"),this.resetCreateInternalRequest()}goToInternalRequestDetails(){this.logger.log("[WS-REQUESTS-LIST] goToInternalRequestDetails"),this.router.navigate(["project/"+this.projectId+"/wsrequest/"+this.internal_request_id+"/messages"]),this.resetCreateInternalRequest()}resetCreateInternalRequest(){this.hasClickedCreateNewInternalRequest=!1,this.showSpinner_createInternalRequest=!1,this.createNewInternalRequest_hasError=null,this.internalRequest_message=void 0,this.assignee_dept_id=void 0,this.assignee_participants_id=void 0,this.internalRequest_subject=void 0,this.assignee_id=void 0,this.selectedRequester=void 0,this.id_for_view_requeter_dtls=void 0}getDepartments(){this.departmentService.getDeptsByProjectId().subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST] - GET DEPTS RESPONSE ",t),this.departments=t},t=>{this.logger.error("[WS-REQUESTS-LIST] - GET DEPTS - ERROR: ",t)},()=>{this.logger.log("[WS-REQUESTS-LIST] - GET DEPTS * COMPLETE *")})}selectedAssignee(){this.logger.log("[WS-REQUESTS-LIST] - SELECT ASSIGNEE: ",this.assignee_id),this.logger.log("[WS-REQUESTS-LIST] - DEPTS: ",this.departments);const t=this.departments.filter(i=>i.id===this.assignee_id);this.logger.log("[WS-REQUESTS-LIST] - SELECT ASSIGNEE HAS FOUND IN DEPTS: ",t),0===t.length?(this.logger.log("[WS-REQUESTS-LIST] - SELECT ASSIGNEE NOT HAS FOUND IN DEPTS: ",t),this.assignee_dept_id=void 0,this.assignee_participants_id=this.assignee_id):(this.assignee_dept_id=this.assignee_id,this.assignee_participants_id=void 0)}onChangeSelectedPriority(t){this.logger.log("[WS-REQUESTS-LIST] onChangeSelectedPriority selectedPriority ",t),this.selectedPriority=t}selectRequester(t){this.logger.log("[WS-REQUESTS-LIST] - SELECT REQUESTER ID",this.selectedRequester),this.logger.log("[CREATE-TICKET] - SELECT REQUESTER $event requester_id ",t.requester_id),this.logger.log("[CREATE-TICKET] - SELECT REQUESTER $event requestertype ",t.requestertype),this.id_for_view_requeter_dtls=t.requester_id,this.requester_type=t.requestertype}openRequesterDetails(){if(this.selectedRequester)if("agent"===this.requester_type){this.logger.log("[WS-REQUESTS-LIST] - hasFound go to ",this.requester_type," details");const t=this.router.createUrlTree(["project/"+this.projectId+"/user/edit",this.id_for_view_requeter_dtls]);this.logger.log("[WS-REQUESTS-LIST] - hasFound go to url",t),this.logger.log("[WS-REQUESTS-LIST] - hasFound go to url.toString()",t.toString()),window.open("#"+t.toString(),"_blank")}else if("lead"===this.requester_type){this.logger.log("[WS-REQUESTS-LIST] - hasFound  go to ",this.requester_type," details");const t=this.router.createUrlTree(["project/"+this.projectId+"/contact",this.id_for_view_requeter_dtls]);this.logger.log("[WS-REQUESTS-LIST] - hasFound go to url.toString()",t.toString()),window.open("#"+t.toString(),"_blank")}}presentModalAddNewRequester(){this.logger.log("[WS-REQUESTS-LIST] - open modal presentModalAddNewRequester "),this.new_requester_email_is_valid=!1,this.displayCreateNewUserModal="block",this.displayInternalRequestModal="none",this.new_user_name=void 0,this.new_user_email=void 0,this.HAS_CLICKED_CREATE_NEW_LEAD=!1,this.HAS_COMPLETED_CREATE_NEW_LEAD=!1,this.id_for_view_requeter_dtls=void 0,this.requester_type=void 0}closeCreateNewUserModal(){this.displayCreateNewUserModal="none",this.displayInternalRequestModal="block"}createProjectUserAndThenNewLead(){this.HAS_CLICKED_CREATE_NEW_LEAD=!0,this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER name ",this.new_user_name),this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER email ",this.new_user_email),this.contactsService.createNewProjectUserToGetNewLeadID().subscribe(t=>{this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-PROJECT-USER ",t),this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-PROJECT-USER UUID ",t.uuid_user),t&&t.uuid_user&&this.createNewContact(t.uuid_user,this.new_user_name,this.new_user_email)},t=>{this.logger.error("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-PROJECT-USER - ERROR: ",t)},()=>{this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-PROJECT-USER - COMPLETE")})}createNewContact(t,i,s){this.contactsService.createNewLead(t,i,s).subscribe(l=>{this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-NEW-LEAD -  RES ",l),this.projectUserAndLeadsArray.push({id:l.lead_id,name:l.fullname,role:"lead",email:s,requestertype:"lead",requester_id:l._id}),this.projectUserAndLeadsArray=this.projectUserAndLeadsArray.slice(0),this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-NEW-LEAD projectUserAndLeadsArray after PUSH",this.projectUserAndLeadsArray),this.id_for_view_requeter_dtls=l._id,this.requester_type="lead"},l=>{this.logger.error("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-NEW-LEAD - ERROR: ",l)},()=>{this.HAS_COMPLETED_CREATE_NEW_LEAD=!0,this.displayCreateNewUserModal="none",this.displayInternalRequestModal="block",this.selectedRequester=t,this.notify.showWidgetStyleUpdateNotification(this.newRequesterCreatedSuccessfullyMsg,2,"done"),this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-NEW-LEAD * COMPLETE *")})}onChangeNewRequesterEmail(t){this.logger.log("[WS-REQUESTS-LIST]- CREATE-NEW-USER - CREATE-NEW-LEAD ON CHANGE EMAIL: ",t),this.new_requester_email_is_valid=this.validateEmail(t),this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-NEW-LEAD ON CHANGE EMAIL - EMAIL IS VALID ",this.new_requester_email_is_valid)}validateEmail(t){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)||(this.logger.log("[WS-REQUESTS-LIST] - CREATE-NEW-USER - CREATE-NEW-LEAD - validateEmail - You have entered an invalid email address! "),!1)}customSearchFn(t,i){return t=t.toLocaleLowerCase(),i.name.toLocaleLowerCase().indexOf(t)>-1||i.email.toLocaleLowerCase().indexOf(t)>-1}getProjectUsersAndContacts(){this.loadingRequesters=!0;const t=this.usersService.getProjectUsersByProjectId(),i=this.contactsService.getAllLeadsActiveWithLimit(1e4);(0,$.$R)(t,i,(s,l)=>({_projectUsers:s,_leads:l})).subscribe(s=>{this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-LEADS - PROJECT USERS : ",s._projectUsers),this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-LEADS - LEADS RES: ",s._leads),this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-LEADS - LEADS: ",s._leads.leads),s&&s._projectUsers&&s._projectUsers.forEach(l=>{this.projectUserAndLeadsArray.push({id:l.id_user._id,name:l.id_user.firstname+" "+l.id_user.lastname,role:l.role,email:l.id_user.email,requestertype:"agent",requester_id:l._id})}),s&&s._leads.leads&&s._leads.leads.forEach(l=>{let a="N/A";l.email&&(a=l.email),this.projectUserAndLeadsArray.push({id:l.lead_id,name:l.fullname,role:"lead",email:a,requestertype:"lead",requester_id:l._id})}),this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-LEADS - PROJECT-USER-&-LEAD-ARRAY: ",this.projectUserAndLeadsArray),this.projectUserAndLeadsArray=this.projectUserAndLeadsArray.slice(0)},s=>{this.loadingRequesters=!1,this.logger.error("[WS-REQUESTS-LIST]- GET P-USERS-&-LEADS - ERROR: ",s)},()=>{this.loadingRequesters=!1,this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-LEADS * COMPLETE *")})}getProjectUserBotsAndDepts(){this.loadingAssignee=!0;const t=this.usersService.getProjectUsersByProjectId(),i=this.faqKbService.getAllBotByProjectId(),s=this.departmentService.getDeptsByProjectId();(0,$.$R)(t,i,s,(l,a,g)=>({_projectUsers:l,_bots:a,_depts:g})).subscribe(l=>{this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-BOTS-&-DEPTS - PROJECT USERS : ",l._projectUsers),this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-BOTS-&-DEPTS - BOTS : ",l._bots),this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-BOTS-&-DEPTS - DEPTS: ",l._depts),l&&l._projectUsers&&l._projectUsers.forEach(a=>{this.projectUserBotsAndDeptsArray.push({id:a.id_user._id,name:a.id_user.firstname+" "+a.id_user.lastname+" ("+a.role+")"})}),l&&l._bots&&l._bots.forEach(a=>{!1===a.trashed&&"identity"!==a.type&&this.projectUserBotsAndDeptsArray.push({id:"bot_"+a._id,name:a.name+" (bot)"})}),l&&l._depts&&l._depts.forEach(a=>{this.projectUserBotsAndDeptsArray.push({id:a._id,name:a.name+" (dept)"})}),this.projectUserBotsAndDeptsArray=this.projectUserBotsAndDeptsArray.slice(0),this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-BOTS-&-DEPTS ARRAY: ",this.projectUserBotsAndDeptsArray)},l=>{this.loadingAssignee=!1,this.logger.error("[WS-REQUESTS-LIST] - GET P-USERS-&-BOTS-&-DEPTS - ERROR: ",l)},()=>{this.loadingAssignee=!1,this.logger.log("[WS-REQUESTS-LIST] - GET P-USERS-&-BOTS-&-DEPTS * COMPLETE *")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.z),e.Y36(q.F0),e.Y36(u.P),e.Y36(P.S),e.Y36(N.e),e.Y36(U.sK),e.Y36(v.f),e.Y36(w.M),e.Y36(Y._),e.Y36(H.n),e.Y36(h.c),e.Y36(ee.P),e.Y36(te.Y),e.Y36(ne.E),e.Y36(y.m),e.Y36(se.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["appdashboard-ws-requests-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Xi,5),e.Gf(eo,5),e.Gf(to,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.teamContent=s.first),e.iGM(s=e.CRH())&&(i.testwidgetbtnRef=s.first),e.iGM(s=e.CRH())&&(i.widgetsContent=s.first)}},features:[e.qOj],decls:151,vars:95,consts:[[1,"navbar-brand",2,"padding-left","40px","position","relative","z-index","1050",3,"ngStyle"],["class","bottom-nav",4,"ngIf"],["class","bottom-bottom-nav","style","display: none;",4,"ngIf"],[1,"main-content",2,"padding-top","0px","margin-top","25px","padding-left","0px","padding-right","0px"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"open-chat-tool-wpr"],[1,"open-chat-tool-text"],[1,"chat-tool-link",3,"click"],[1,"open-chat-tool-chat-logo-wpr",2,"margin-left","4px"],["version","1.1","id","Livello_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 175.7 175.7",0,"xml","space","preserve",2,"width","19px","height","auto","vertical-align","middle"],["type","text/css"],["d","M146.8,28.3C131,12.3,109.9,3.6,87.5,3.6C41.2,3.6,3.6,41.4,3.6,87.9c0,14.8,3.9,29.3,11.2,42.1l-5.9,35.7\n             l38.5-3.7c12.2,6.7,26,10.3,40.1,10.3h0c46.2,0,84.7-37.8,84.7-84.3C172.2,65.4,162.6,44.2,146.8,28.3z M87.5,158\n             c-12.5,0-24.8-3.4-35.5-9.8l-2.5-1.5L27,148.6l3-20.9l-1.7-2.7c-7-11.2-10.7-24-10.7-37.3c0-38.6,31.3-70,69.8-70\n             c18.6,0,36.1,7.3,49.3,20.5S158,69.2,158,87.9C158,126.5,125.9,158,87.5,158z",1,"st0"],["d","M124,106.1c-5.6,9.6-19.4,16.3-35.6,16.3c-16,0-29.7-6.6-35.4-16.1c-4.9,2.5-9.6,5.2-14.6,7.3\n             c9,15,27.8,25.3,49.5,25.3c21.6,0,40.4-10.2,49.4-25.1C132.9,111.3,128.4,108.8,124,106.1z",1,"st1"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"col-xs-5"],[1,"graph-legend",2,"padding-left","10px"],[1,"advanced-pie-legend-wrapper",2,"height","107px"],[1,"advanced-legend",2,"position","relative","top","50%","transform","translate(0,-50%)"],[1,"total-value",2,"font-family","'Lato', sans-serif","font-weight","400","font-size","40px","color","rgba(0, 0, 0, 0.54) !important","margin-bottom","8px"],[1,"total-value-number-of-conversation",2,"position","relative","top","2px"],[1,"total-label",2,"font-family","Poppins","font-size","18px","font-weight","400","color","rgba(0, 0, 0, 0.54) !important","margin-bottom","10px","margin-top","14px"],[1,"legend-items-container",2,"width","100%"],[1,"legend-items",2,"display","flex","flex-direction","row","align-items","center","gap","33px"],[1,"legend-item",2,"border-left","4px solid #05BDD4","padding-left","6px"],[1,"item-value",2,"font-family","'Lato', sans-serif","font-weight","400","font-size","24px","color","rgba(0, 0, 0, 0.54) !important"],[1,"item-label"],[1,"legend-item",2,"border-left","4px solid #ED4537","padding-left","6px"],[1,"col-xs-7",2,"margin-top","8px"],[1,"row",2,"margin-bottom","16px"],[1,"col-sm-12","filter-convs-title-wpr"],[1,"filter-convs-title"],[1,"col-sm-4","select-dept-wpr"],["name","dept",1,"custom",3,"ngModel","placeholder","ngModelChange","change","clear"],[3,"value",4,"ngFor","ngForOf"],["class","col-sm-4 select-agent-wpr",4,"ngIf"],[1,"col-sm-4","select-convtype-wpr"],["name","conversationtype",3,"ngModel","placeholder","ngModelChange","clear","change"],[1,"col-xs-12","teammates-carousel"],[1,"card","card--no-border",2,"margin","5px 0","margin-top","8px"],[1,"card-content",2,"padding-top","0px","padding-left","0px","padding-right","0px","padding-bottom","0px"],[1,"scroll-div-side-btn",2,"float","left"],[1,"material-icons",3,"click"],[1,"middle-nw"],["widgetsContent",""],["class","served-by-conv-a",4,"ngIf"],[1,"scroll-div-side-btn",2,"float","right","margin-right","6px"],[1,"col-xs-12"],[1,"smart-assign-and-operatinghours-options"],["class","btn btn-primary-active",3,"ngClass","click",4,"ngIf"],[4,"ngIf"],["tabindex","-1","role","dialog",1,"modal",2,"background-color","rgba(90,90,90,0.5)",3,"ngStyle"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content","custom--modal-content"],[1,"modal-header",2,"padding-bottom","15px"],["type","button","aria-label","Close",1,"close",2,"position","absolute","right","14px","top","19px",3,"click"],["aria-hidden","true"],["width","18","height","18","viewBox","0 0 24 24",1,"tide-icon"],["d","M13.357 11.993l10.256 10.295c0.39 0.391 0.39 1.024 0 1.415-0.194 0.195-0.449 0.292-0.704 0.292s-0.51-0.097-0.705-0.292l-10.257-10.295-10.256 10.295c-0.194 0.195-0.449 0.292-0.704 0.292s-0.51-0.097-0.705-0.292c-0.39-0.391-0.39-1.024 0-1.415l10.256-10.295-10.256-10.294c-0.39-0.391-0.39-1.024 0-1.415s1.020-0.391 1.409 0l10.256 10.294 10.256-10.294c0.39-0.391 1.020-0.391 1.41 0 0.389 0.391 0.389 1.024 0 1.415l-10.256 10.294z"],[1,"modal-title"],[2,"vertical-align","middle","padding-left","8px"],[1,"modal-body",2,"min-height","217px"],["class","create-ticket-form","class","row",4,"ngIf"],["class","row",4,"ngIf"],[1,"modal-footer",2,"margin-top","0px","text-align","center"],["style","margin-top:0px","class","btn btn-tdblu-no-boxshadow","style","padding:12px 16px;",3,"disabled","click",4,"ngIf"],["style","margin-top:0px","class","btn btn-tdblu-no-boxshadow","style","padding:12px 16px;","disabled","",4,"ngIf"],["style","margin-top:0px","class","btn btn-gray-no-boxshadow","style","padding:12px 16px;",3,"click",4,"ngIf"],["style","margin-top:0px","class","btn btn-tdblu-no-boxshadow","style","padding:12px 16px;",3,"click",4,"ngIf"],["role","document",1,"modal-dialog"],[1,"modal-content"],["width","24","height","24","viewBox","0 0 24 24",1,"tide-icon"],[1,"col-sm-12",2,"text-align","left","color","#7695a5"],[2,"color","rgb(195,46,42)"],[1,"col-sm-12",2,"margin-bottom","20px"],["type","text",1,"input",3,"ngModel","ngModelChange"],["style","color: #da491c;",4,"ngIf"],[1,"col-sm-12",2,"margin-bottom","10px"],["type","email",1,"input",3,"ngModel","ngModelChange"],["style","margin-top:0px","class","btn btn-primary","style","padding:12px 16px;",3,"disabled","click",4,"ngIf"],["style","margin-top:0px","class","btn btn-primary","style","padding:12px 16px;",4,"ngIf"],["class","view-side",4,"ngIf"],[1,"bottom-nav"],["class","btn-with-border-effect",3,"ngClass","click",4,"ngIf"],[1,"btn-with-border-effect",3,"ngClass","click"],["href","javascript:;","role","button"],[1,"right-li",2,"float","right !important","padding-top","3px!important","margin-right","10px"],[1,"btn","btn-tdblu-no-boxshadow",2,"font-size","12px","margin-left","15px","height","36px",3,"click"],["createticket",""],["aria-hidden","true",1,"material-icons",2,"vertical-align","middle","margin-bottom","0px","margin-top","0px"],[1,"see-no-realtime-request","right-li",2,"float","right","padding-right","5px",3,"click"],["href","javascript:;","role","button","matTooltipClass","mat-white-tooltip","matTooltipPosition","below","matTooltipHideDelay","100",1,"tool_tip",2,"cursor","pointer","display","unset",3,"ngClass","matTooltip"],["tooltip","matTooltip"],["aria-hidden","true",1,"material-icons"],["class","served-unserved-sum",4,"ngIf"],[1,"show-request-on-map","right-li",2,"float","right","padding-right","5px",3,"click"],["matTooltipClass","mat-white-tooltip","matTooltipPosition","below","matTooltipHideDelay","100",1,"tool_tip",2,"cursor","pointer","display","unset",3,"matTooltip"],[1,"material-icons"],[1,"served-unserved-sum"],[1,"bottom-bottom-nav",2,"display","none"],[1,"",2,"padding-top","3px!important","padding-left","10px!important"],[1,"btn","btn-tdblu-no-boxshadow",2,"font-size","12px",3,"click"],[2,"padding-top","3px!important","margin-left","15px"],[1,"btn","btn-success-no-boxshadow",2,"font-size","12px",3,"click"],["testwidgetbtn",""],[1,"material-icons",2,"vertical-align","middle","margin-bottom","0px","margin-top","0px"],[1,"see-no-realtime-request",2,"float","right","padding-right","5px",3,"click"],["href","javascript:;","role","button","matTooltipClass","mat-white-tooltip","matTooltipPosition","below","matTooltipHideDelay","100",1,"tool_tip",2,"cursor","pointer","display","unset","color","#3ea9f5",3,"ngClass","matTooltip"],[1,"material-icons",2,"font-size","27px","position","relative","top","-2px"],[1,"material-icons",2,"margin-top","0px","color","#3ea9f5"],[3,"value"],[1,"col-sm-4","select-agent-wpr"],["name","agent",3,"ngModel","placeholder","ngModelChange","clear","change"],[1,"served-by-conv-a"],[1,"all-teammates"],["class","served-by-conv-b",4,"ngFor","ngForOf"],[1,"served-by-conv-b"],["matTooltipClass","conv-custom-mat-tooltip","matTooltipPosition","above","matTooltipHideDelay","100",1,"served-by-conv-c",3,"matTooltip","click"],[1,"served-by-conv-d"],["size","42","class","served-by-conv-e",4,"ngIf"],["size","42",1,"served-by-conv-e"],["alt","","onerror","this.src='assets/img/no_image_user.png'",3,"src",4,"ngIf"],[1,"teammates-with-picture-status-icon",3,"ngClass"],["alt","","onerror","this.src='assets/img/no_image_user.png'",3,"src"],[1,"altenative-conv-avatar-wrap",2,"width","43px","height","43px","top","-1px",3,"ngStyle"],[1,"altenative-conv-avatar",2,"line-height","40px"],[1,"teammates-no-picture-status-icon",3,"ngClass"],[1,"served-by-conv-c","tool_tip"],[1,"skeleton-img"],[1,"btn","btn-primary-active",3,"ngClass","click"],[1,"material-icons","conv-option-icon",3,"ngClass"],[1,"btn--text"],[1,"btn--link"],[1,"material-icons",2,"vertical-align","middle"],[1,"material-icons","conv-option-icon","tool_tip",3,"ngClass"],[1,"top"],[2,"white-space","normal","line-height","14px","font-weight","400"],["style","font-weight: 400;",4,"ngIf"],[2,"font-weight","400"],["style","white-space: normal;  line-height: 14px; font-weight: 400;",4,"ngIf"],[1,"col-md-12"],[1,"card",2,"margin-top","5px"],[1,"card-content"],[1,"no_visitor__placeeholder"],["version","1.1","id","Livello_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 40 40",0,"xml","space","preserve",2,"width","40px","height","40px"],["d","M38.8,2.4c-0.2-0.3-0.6-0.4-1-0.3l-36,9c-0.5,0.1-0.9,0.7-0.7,1.2c0.1,0.2,0.2,0.5,0.4,0.6l13.7,8.8l5.9,15.7\nc0.1,0.4,0.5,0.7,0.9,0.7c0.4,0,0.7-0.2,0.9-0.6l16-34C39.1,3.1,39,2.7,38.8,2.4z M4.5,12.4L33.9,5l-18,14.7L4.5,12.4z M22.1,34.4\nl-4.9-13l18-14.8L22.1,34.4z",1,"message_rocket"],[2,"display","block","line-height","20px","color","#737376","font-size","16px","margin-top","16px"],[2,"display","block","line-height","20px","color","#737376","font-size","14px","margin-bottom","16px","text-decoration","underline","cursor","pointer",3,"click"],[1,"col-md-12",2,"padding-left","10px !important","padding-right","10px !important"],[3,"wsRequestsUnserved","ws_requests_length","requestCountResp",4,"ngIf"],[3,"wsRequestsServed","current_selected_prjct","ws_requests_length","requestCountResp",4,"ngIf"],[3,"wsRequestsUnserved","ws_requests_length","requestCountResp"],[3,"wsRequestsServed","current_selected_prjct","ws_requests_length","requestCountResp"],[1,"card","skeleton"],[1,"card-header","card-header-custom"],[1,"title","customh4",2,"margin-bottom","2px"],[1,"card-content","table-responsive",2,"padding-top","0px"],[1,"table","table-hover"],[1,"text"],[1,"column-th-span"],[4,"ngFor","ngForOf"],[2,"width","30px"],[2,"margin-bottom","0px","max-width","25px","border-radius","50%","height","25px"],[2,"width","95px"],[2,"max-width","95px"],["type","button","rel","tooltip",1,"btn","btn-danger","btn-simple","btn-xs",3,"title"],[1,"view-requester-details-wpr",3,"ngClass","click"],[1,"view-requester-details",3,"ngClass"],[1,"material-icons",3,"ngClass"],["name","users_and_leads","bindLabel","name","bindValue","id","loadingText","Loading...",1,"internal-request-custom-select",3,"items","ngModel","virtualScroll","searchFn","clearable","placeholder","loading","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["ng-footer-tmp",""],["name","dept","loadingText","Loading...",1,"custom",3,"ngModel","searchable","clearable","placeholder","loading","ngModelChange","change"],["bindLabel","name","bindValue","name",3,"items","clearable","hideSelected","ngModel","ngModelChange","change"],["type","text","rows","3","placeholder","",1,"textarea",3,"ngModel","ngModelChange"],["height","24","width","24","style","border-radius:50%; object-fit: cover;","alt","","onerror","this.src='assets/img/default-avatar-x-select.png'",3,"src",4,"ngIf"],["height","24","width","24","style","border-radius:50%;object-fit: cover;","alt","","onerror","this.src='assets/img/default-avatar-x-select.png'",3,"src",4,"ngIf"],["height","24","width","24","style","border-radius:50%;object-fit: cover;","src","assets/img/default-avatar-x-select.png","alt","",4,"ngIf"],[2,"font-weight","400","margin-left","4px"],[1,"requester-role-or-type"],["height","24","width","24","alt","","onerror","this.src='assets/img/default-avatar-x-select.png'",2,"border-radius","50%","object-fit","cover",3,"src"],["height","24","width","24","src","assets/img/default-avatar-x-select.png","alt","",2,"border-radius","50%","object-fit","cover"],["height","24","width","24","style","border-radius:50%; object-fit: cover;","src","assets/img/default-avatar-x-select.png","alt","",4,"ngIf"],[2,"font-weight","400","font-size","13px","margin-left","28px","position","relative","top","-3px"],[2,"cursor","pointer",3,"click"],[1,"material-icons","add-requester-btn-icon"],[1,"add-requester-btn-text"],["height","15","width","15",2,"width","15px","height","15px",3,"src"],[1,"stretchspinner"],[1,"rect1"],[1,"rect2"],[1,"rect3"],[1,"rect4"],[1,"rect5"],[1,"error-banmark"],[1,"ban-icon"],[1,"icon-line","line-long-invert"],[1,"icon-line","line-long"],[1,"icon-circle"],[1,"icon-fix"],[2,"text-align","center","color","#8894ab","font-size","22px","margin-bottom","20px"],[1,"success-checkmark"],[1,"check-icon"],[1,"success-icon-line","success-line-tip"],[1,"success-icon-line","success-line-long"],[1,"success-icon-circle"],[1,"success-icon-fix"],[1,"btn","btn-tdblu-no-boxshadow",2,"padding","12px 16px",3,"disabled","click"],["disabled","",1,"btn","btn-tdblu-no-boxshadow",2,"padding","12px 16px"],[1,"fa","fa-spinner","fa-spin",2,"margin-right","5px"],[1,"btn","btn-gray-no-boxshadow",2,"padding","12px 16px",3,"click"],[2,"vertical-align","middle"],[1,"btn","btn-tdblu-no-boxshadow",2,"padding","12px 16px",3,"click"],[2,"color","#da491c"],[1,"btn","btn-primary",2,"padding","12px 16px",3,"disabled","click"],[1,"btn","btn-primary",2,"padding","12px 16px"],[1,"view-side"],[3,"ngStyle","wsRequestsServed","wsRequestsUnserved","calling_page","closeMapsView"]],template:function(t,i){1&t&&(e.TgZ(0,"p",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,io,29,31,"ul",1),e.YNc(4,lo,32,28,"ul",2),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e._uU(11),e.ALo(12,"translate"),e.TgZ(13,"span",9),e.NdJ("click",function(){return i.openChat()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span",10),e.O4$(),e.TgZ(17,"svg",11)(18,"style",12),e._uU(19," .st0 { fill: #F17467; } .st1 { fill: #F6746C; } "),e.qZA(),e._UZ(20,"path",13)(21,"path",14),e.qZA()()()()()(),e.kcU(),e.TgZ(22,"div",5)(23,"div",15)(24,"div",5)(25,"div",16)(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"span",21),e._uU(31),e.qZA(),e.TgZ(32,"span",22),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",23)(36,"div",24)(37,"div",25)(38,"div",26),e._uU(39),e.qZA(),e.TgZ(40,"div",27),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",25)(44,"div",26),e._uU(45),e.qZA(),e.TgZ(46,"div",27),e._uU(47),e.ALo(48,"translate"),e.qZA()(),e.TgZ(49,"div",28)(50,"div",26),e._uU(51),e.qZA(),e.TgZ(52,"div",27),e._uU(53),e.ALo(54,"translate"),e.qZA()()()()()()()(),e.TgZ(55,"div",29)(56,"div",30)(57,"div",31)(58,"div",32),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"div",33)(62,"ng-select",34),e.NdJ("ngModelChange",function(l){return i.selectedDeptId=l})("change",function(){return i.onChangeDepts()})("clear",function(){return i.clearDeptFilter()}),e.ALo(63,"translate"),e.ALo(64,"translate"),e.ALo(65,"translate"),e.YNc(66,ro,2,2,"ng-option",35),e.qZA()(),e.YNc(67,co,12,19,"div",36),e.TgZ(68,"div",37)(69,"ng-select",38),e.NdJ("ngModelChange",function(l){return i.selectedConversationTypeId=l})("clear",function(){return i.clearConversationTypeFilter()})("change",function(){return i.onChangeConversationType()}),e.ALo(70,"translate"),e.ALo(71,"translate"),e.ALo(72,"translate"),e.YNc(73,po,2,2,"ng-option",35),e.qZA()()()()(),e.TgZ(74,"div",5)(75,"div",39)(76,"div",40)(77,"div",41)(78,"div",42)(79,"i",43),e.NdJ("click",function(){return i.scrollLeftTeammates()}),e._uU(80,"keyboard_arrow_left"),e.qZA()(),e.TgZ(81,"div",44,45),e.YNc(83,So,3,1,"div",46),e.YNc(84,xo,2,1,"div",46),e.qZA(),e.TgZ(85,"div",47)(86,"i",43),e.NdJ("click",function(){return i.scrollRightTeammates()}),e._uU(87,"keyboard_arrow_right"),e.qZA()()()()()()()(),e.TgZ(88,"div",5)(89,"div",48)(90,"div",49),e.YNc(91,Ro,12,11,"button",50),e.YNc(92,qo,18,15,"button",50),e.YNc(93,Oo,19,18,"button",50),e.YNc(94,Po,18,15,"button",50),e.qZA()()(),e.YNc(95,No,16,6,"section",51),e.YNc(96,Qo,5,2,"section",51),e.YNc(97,Do,31,16,"section",51),e.qZA()(),e.TgZ(98,"div",52)(99,"div",53)(100,"div",54)(101,"div",55)(102,"button",56),e.NdJ("click",function(){return i.closeInternalRequestModal()}),e.TgZ(103,"span",57),e.O4$(),e.TgZ(104,"svg",58),e._UZ(105,"path",59),e.qZA()()(),e.kcU(),e.TgZ(106,"h4",60)(107,"span",61),e._uU(108),e.ALo(109,"translate"),e.qZA()()(),e.TgZ(110,"div",62),e.YNc(111,el,41,50,"div",63),e.YNc(112,tl,7,0,"div",64),e.YNc(113,nl,12,3,"div",64),e.YNc(114,sl,12,3,"div",64),e.qZA(),e.TgZ(115,"div",65),e.YNc(116,il,3,4,"button",66),e.YNc(117,ol,4,3,"button",67),e.YNc(118,ll,4,3,"button",68),e.YNc(119,rl,4,3,"button",69),e.qZA()()()(),e.TgZ(120,"div",52)(121,"div",70)(122,"div",71)(123,"div",55)(124,"button",56),e.NdJ("click",function(){return i.closeCreateNewUserModal()}),e.TgZ(125,"span",57),e.O4$(),e.TgZ(126,"svg",72),e._UZ(127,"path",59),e.qZA()()(),e.kcU(),e.TgZ(128,"h4",60)(129,"span",61),e._uU(130),e.ALo(131,"translate"),e.qZA()()(),e.TgZ(132,"div",62)(133,"div",5)(134,"label",73),e._uU(135),e.ALo(136,"translate"),e.TgZ(137,"span",74),e._uU(138," *"),e.qZA()(),e.TgZ(139,"div",75)(140,"input",76),e.NdJ("ngModelChange",function(l){return i.new_user_name=l}),e.qZA(),e.YNc(141,al,3,3,"span",77),e.qZA(),e.TgZ(142,"label",73),e._uU(143," Email "),e.qZA(),e.TgZ(144,"div",78)(145,"input",79),e.NdJ("ngModelChange",function(l){return i.new_user_email=l})("ngModelChange",function(l){return i.onChangeNewRequesterEmail(l)}),e.qZA(),e.YNc(146,pl,2,1,"span",51),e.qZA()()(),e.TgZ(147,"div",65),e.YNc(148,ul,3,4,"button",80),e.YNc(149,_l,4,3,"button",81),e.qZA()()()(),e.YNc(150,dl,2,6,"div",82)),2&t&&(e.Q6J("ngStyle",e.VKq(89,hl,!0===i.isChromeVerGreaterThan100?"-19px":"6px")),e.xp6(1),e.hij(" ",e.lcZ(2,55,"Requests"),"\n"),e.xp6(2),e.Q6J("ngIf",!1===i.OPEN_RIGHT_SIDEBAR),e.xp6(1),e.Q6J("ngIf",!1===i.OPEN_RIGHT_SIDEBAR),e.xp6(7),e.hij(" ",e.lcZ(12,57,"ThisIsTheRealTimeConversationsMonitoringPanel")," "),e.xp6(3),e.hij(" ",e.lcZ(15,59,"chatTool")," "),e.xp6(17),e.hij(" ",i.countRequestsServedByHumanRr+i.countRequestsServedByBotRr+i.countRequestsUnservedRr," "),e.xp6(2),e.hij(" ",e.lcZ(34,61,"TotalConversations")," "),e.xp6(6),e.hij(" ",i.countRequestsServedByHumanRr," "),e.xp6(2),e.hij(" ",e.lcZ(42,63,"AssignedToHumans")," "),e.xp6(4),e.hij(" ",i.countRequestsServedByBotRr," "),e.xp6(2),e.hij(" ",e.lcZ(48,65,"AssignedToBots")," "),e.xp6(4),e.hij(" ",i.countRequestsUnservedRr," "),e.xp6(2),e.Oqu(e.lcZ(54,67,"Unserved")),e.xp6(6),e.hij(" ",e.lcZ(60,69,"FilterConversations")," "),e.xp6(3),e.zWS("aria-label","",e.lcZ(63,71,"FilterBy")," ",e.lcZ(64,73,"Department"),""),e.s9C("placeholder",e.lcZ(65,75,"HistoryPage.AllDepts")),e.Q6J("ngModel",i.selectedDeptId),e.xp6(4),e.Q6J("ngForOf",i.departments),e.xp6(1),e.Q6J("ngIf",i.displayAgentsSelect),e.xp6(2),e.zWS("aria-label","",e.lcZ(70,77,"FilterBy")," ",e.lcZ(71,79,"ConversationType"),""),e.s9C("placeholder",e.lcZ(72,81,"ConversationType")),e.Q6J("ngModel",i.selectedConversationTypeId),e.xp6(4),e.Q6J("ngForOf",i.conversationTypeInRequests),e.xp6(10),e.Q6J("ngIf",!0===i.showRealTeammates),e.xp6(1),e.Q6J("ngIf",!1===i.showRealTeammates),e.xp6(7),e.Q6J("ngIf",i.isVisibleOPH),e.xp6(1),e.Q6J("ngIf",i.isVisibleSmartAssignOption),e.xp6(1),e.Q6J("ngIf",i.isVisibleSmartAssignOption),e.xp6(1),e.Q6J("ngIf",i.isVisibleSmartAssignOption),e.xp6(1),e.Q6J("ngIf",!0===i.SHOW_SIMULATE_REQUEST_BTN&&!1===i.showSpinner),e.xp6(1),e.Q6J("ngIf",!1===i.SHOW_SIMULATE_REQUEST_BTN&&!1===i.showSpinner),e.xp6(1),e.Q6J("ngIf",!1===i.SHOW_SIMULATE_REQUEST_BTN&&!0===i.showSpinner),e.xp6(1),e.Q6J("ngStyle",e.VKq(91,Ie,i.displayInternalRequestModal)),e.xp6(10),e.hij(" ",e.lcZ(109,83,"CreateTicket")," "),e.xp6(3),e.Q6J("ngIf",!1===i.hasClickedCreateNewInternalRequest),e.xp6(1),e.Q6J("ngIf",i.showSpinner_createInternalRequest),e.xp6(1),e.Q6J("ngIf",!0===i.createNewInternalRequest_hasError),e.xp6(1),e.Q6J("ngIf",!1===i.createNewInternalRequest_hasError),e.xp6(2),e.Q6J("ngIf",!1===i.hasClickedCreateNewInternalRequest),e.xp6(1),e.Q6J("ngIf",i.showSpinner_createInternalRequest),e.xp6(1),e.Q6J("ngIf",!1===i.createNewInternalRequest_hasError),e.xp6(1),e.Q6J("ngIf",!1===i.createNewInternalRequest_hasError),e.xp6(1),e.Q6J("ngStyle",e.VKq(93,Ie,i.displayCreateNewUserModal)),e.xp6(10),e.hij(" ",e.lcZ(131,85,"CreateNewRequester")," "),e.xp6(5),e.hij(" ",e.lcZ(136,87,"Name")," "),e.xp6(5),e.Q6J("ngModel",i.new_user_name),e.xp6(1),e.Q6J("ngIf",0===(null==i.new_user_name?null:i.new_user_name.length)),e.xp6(4),e.Q6J("ngModel",i.new_user_email),e.xp6(1),e.Q6J("ngIf",(null==i.new_user_email?null:i.new_user_email.length)>0),e.xp6(2),e.Q6J("ngIf",!1===i.HAS_CLICKED_CREATE_NEW_LEAD&&!1===i.HAS_COMPLETED_CREATE_NEW_LEAD),e.xp6(1),e.Q6J("ngIf",!0===i.HAS_CLICKED_CREATE_NEW_LEAD&&!1===i.HAS_COMPLETED_CREATE_NEW_LEAD),e.xp6(1),e.Q6J("ngIf",!0===i.OPEN_RIGHT_SIDEBAR))},dependencies:[r.mk,r.sg,r.O5,r.PC,j.gM,W.Fj,W.JJ,W.On,Z.w9,Z.jq,Z.ir,Z.mR,Z.WP,Xn,ji,Ki,U.X$],styles:['.modal[_ngcontent-%COMP%] {\n  top: 0;\n}\n.modal-content[_ngcontent-%COMP%] {\n  position: relative;\n  background-color: #fff;\n  -webkit-background-clip: padding-box;\n  background-clip: padding-box;\n  border: 1px solid #999;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n  outline: 0;\n  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n}\n.modal-header[_ngcontent-%COMP%] {\n  padding: 15px;\n  border-bottom: 1px solid #e5e5e5;\n}\n.modal-title[_ngcontent-%COMP%] {\n  margin: 0;\n  line-height: 1.42857143;\n}\nbutton.close[_ngcontent-%COMP%] {\n  -webkit-appearance: none;\n  appearance: none;\n  padding: 0;\n  cursor: pointer;\n  background: 0 0;\n  border: 0;\n}\n.close[_ngcontent-%COMP%] {\n  float: right;\n  font-size: 21px;\n  font-weight: 700;\n  line-height: 1;\n  color: #000;\n  text-shadow: 0 1px 0 #fff;\n  filter: alpha(opacity=20);\n  opacity: 0.2;\n}\n.modal-body[_ngcontent-%COMP%] {\n  position: relative;\n  padding: 20px 30px;\n}\n.modal-footer[_ngcontent-%COMP%] {\n  text-align: right;\n  border-top: 1px solid #e5e5e5;\n  background-color: #eeeeee;\n  padding-top: 10px !important;\n}\n.custom--modal-content[_ngcontent-%COMP%]    > .modal-body[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]    > label[_ngcontent-%COMP%]    > .view-requester-details-wpr[_ngcontent-%COMP%] {\n  float: right;\n  cursor: pointer;\n  background-color: transparent;\n  border-radius: 4px;\n  padding: 0px 3px;\n}\n.custom--modal-content[_ngcontent-%COMP%]    > .modal-body[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]    > label[_ngcontent-%COMP%]    > .view-requester-details-wpr[_ngcontent-%COMP%]:hover {\n  background-color: var(--only-text-btn-hover-background);\n}\n.custom--modal-content[_ngcontent-%COMP%]    > .modal-body[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]    > label[_ngcontent-%COMP%]    > .view-requester-details-wpr[_ngcontent-%COMP%]    > .view-requester-details[_ngcontent-%COMP%] {\n  color: var(--blue-20);\n}\n.custom--modal-content[_ngcontent-%COMP%]    > .modal-body[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]    > label[_ngcontent-%COMP%]    > .view-requester-details-wpr[_ngcontent-%COMP%]    > .material-icons[_ngcontent-%COMP%] {\n  color: var(--blue-20);\n  vertical-align: middle;\n  font-size: 16px;\n}\n\n\ninput[type=text][_ngcontent-%COMP%] {\n  height: 36px;\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #fff;\n  border: 1px solid #d9d9d9 !important;\n  border-top: 1px solid #c0c0c0;\n  padding: 0 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 5px;\n  border: solid 1px #ddd;\n}\ninput[type=email][_ngcontent-%COMP%] {\n  height: 36px;\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #fff;\n  border: 1px solid #d9d9d9 !important;\n  border-top: 1px solid #c0c0c0;\n  padding: 0 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 5px;\n  border: solid 1px #ddd;\n}\ntextarea[type=text][_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #fff;\n  border: 1px solid #d9d9d9 !important;\n  border-top: 1px solid #c0c0c0;\n  \n  padding-right: 8px;\n  padding-top: 5px;\n  padding-left: 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 5px;\n  background-color: #fff !important;\n  border: solid 1px #ddd;\n}\n\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\nbutton[_ngcontent-%COMP%] {\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-right: 3px;\n  padding-left: 3px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.msgcontainer[_ngcontent-%COMP%] {\n  border: 2px solid #dedede;\n  background-color: #f1f1f1;\n  border-radius: 5px;\n  padding: 5px;\n  margin: 5px 0;\n  display: inline-block;\n  min-width: 150px;\n  max-width: 350px;\n}\n.msgcontainer[_ngcontent-%COMP%]::after {\n  content: "";\n  clear: both;\n  display: table;\n}\n\n.time-right[_ngcontent-%COMP%] {\n  float: right;\n  color: #aaa;\n}\n.msg_sender[_ngcontent-%COMP%] {\n  position: relative;\n  display: block;\n  z-index: 2;\n  float: left;\n  padding-top: 10px;\n  padding-right: 10px;\n}\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n\n*[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n#fixed-button[_ngcontent-%COMP%] {\n  bottom: 10px;\n  right: 20px;\n  position: absolute;\n}\n.member[_ngcontent-%COMP%] {\n  font-weight: 400;\n}\n.current-user-member[_ngcontent-%COMP%] {\n  font-weight: 400;\n  color: #4caf50;\n}\np.member[_ngcontent-%COMP%]:hover {\n  background-color: #58c1d6;\n  color: #fff;\n  border-radius: 4px;\n}\n.customh4[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54) !important;\n}\n.customh5[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n  color: #505458;\n  font-size: 14px;\n  font-weight: 600;\n  display: inline-block;\n  margin-right: 10px;\n  line-height: 1.4;\n}\n.card-header[_ngcontent-%COMP%] {\n  background-color: #fff !important;\n  padding-top: 12px !important;\n  padding-bottom: 10px !important;\n  box-shadow: 0 10px 0px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 5px 10px -5px rgba(0, 0, 0, 0.2) !important;\n}\n.dept-request-count[_ngcontent-%COMP%] {\n  border: 2px solid #fff;\n  width: 52px;\n  height: 52px;\n  line-height: 52px;\n  font-size: 26px;\n  margin: 0 auto;\n  border-radius: 5px;\n  display: inline-block;\n  vertical-align: middle;\n  text-transform: uppercase;\n  background-color: #999;\n  color: #fff;\n  text-align: center;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n}\nspan[_ngcontent-%COMP%]   .switch-agent-admin-requests-btn[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-right: 15px;\n  margin-right: 15px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border-radius: 15px;\n}\n.table-head-span[_ngcontent-%COMP%] {\n  color: #566787;\n  font-weight: 500;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 13px;\n}\n.table-body-span[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  color: rgb(118, 149, 165);\n}\n.all-agents-requests-btn[_ngcontent-%COMP%] {\n  background-color: #00bcd4;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.all-agents-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #00bcd4;\n}\n.your-requests-btn[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.your-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #4caf50;\n}\n.requester-avatar[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  \n  width: 30px;\n  height: 30px;\n  line-height: 21px;\n  position: relative;\n  top: 7px;\n}\n.requester-email[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 11px;\n  display: block;\n  margin-left: 34px;\n  margin-top: -8px;\n}\n.requester-verified-email[_ngcontent-%COMP%] {\n  position: relative;\n  left: 20px;\n}\n.user-agent-icon[_ngcontent-%COMP%] {\n  color: #7695a5 !important;\n  cursor: pointer !important;\n  font-size: 16px !important;\n  vertical-align: middle !important;\n  margin-right: 5px;\n}\n.requester_fullname-undefined[_ngcontent-%COMP%] {\n  padding: 4px 4px;\n}\n.requester-verified[_ngcontent-%COMP%] {\n  position: relative;\n  left: -20px;\n}\n\n.tooltipx[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltipx[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  color: #fff;\n  text-align: center;\n  padding: 5px 5px;\n  border-radius: 5px;\n  font-size: 12px !important;\n  \n  position: absolute;\n  z-index: 1;\n  \n  bottom: 100%;\n  left: 50%;\n  margin-left: -60px;\n  \n  box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35);\n  background-color: #394f5a;\n}\n\n.tooltipx[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n.nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%], .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:focus, .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover {\n  background-color: #039be5 !important;\n  box-shadow: 0 12px 20px -10px rgba(3, 115, 229, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(3, 115, 229, 0.2) !important;\n}\n.pulse[_ngcontent-%COMP%] {\n  display: block;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 0 rgba(204, 169, 44, 0.4);\n  animation: pulse 2s infinite;\n}\n.pulse[_ngcontent-%COMP%]:hover {\n  animation: none;\n}\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(204, 169, 44, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0);\n  }\n}\n.huge[_ngcontent-%COMP%] {\n  font-family: "Lato", sans-serif;\n  font-weight: 400;\n}\n.column-th-span[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 500;\n  color: #353f45;\n}\n.card-header-custom[_ngcontent-%COMP%] {\n  box-shadow: none !important;\n  margin-left: 0px;\n  margin-right: 0px;\n  border-bottom: 1px solid #eff3f5;\n}\n.column-td[_ngcontent-%COMP%] {\n  font-size: 0.9em;\n  font-weight: 400;\n}\n@media (max-width: 723px) {\n  .bottom-bottom-nav[_ngcontent-%COMP%] {\n    background-color: #fff;\n    width: 100%;\n    position: relative;\n    top: -5px;\n    box-shadow: 0 2px 2px rgba(0, 0, 60, 0.08);\n    padding-bottom: 5px;\n    float: left;\n    height: 50px;\n    padding-left: 0px;\n    display: block !important;\n    z-index: 1049;\n  }\n  .bottom-bottom-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    float: left !important;\n    list-style: none;\n    display: block !important;\n  }\n  .operating-hours[_ngcontent-%COMP%] {\n    margin-top: 12px;\n    margin-right: 6px;\n  }\n  .see-no-realtime-request[_ngcontent-%COMP%] {\n    margin-top: 13px;\n    margin-left: 23px;\n    margin-right: 0px;\n  }\n  .show-request-on-map[_ngcontent-%COMP%] {\n    margin-top: 13px;\n    margin-left: 23px;\n    margin-right: 0px;\n  }\n  .served-unserved-sum[_ngcontent-%COMP%] {\n    left: 324px !important;\n    top: 16px !important;\n  }\n}\n@media (max-width: 724px) {\n  .right-li[_ngcontent-%COMP%] {\n    display: none !important;\n  }\n}\n.show-request-on-map[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\n  margin-top: 3px;\n  color: var(--blue-20) !important;\n}\n.see-no-realtime-request[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\n  margin-top: 3px;\n  color: var(--blue-20) !important;\n  font-size: 27px;\n  position: relative;\n  top: -3px;\n}\n.navbar-btn[_ngcontent-%COMP%] {\n  margin-top: 0px;\n  padding: 8px 12px;\n  font-size: 10px;\n}\n@media (max-width: 991px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    top: -2px !important;\n  }\n  .bottom-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    z-index: 1049;\n  }\n}\n@media (max-width: 370px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    height: 37px !important;\n  }\n  .bottom-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    padding: 6px !important;\n    height: 39px;\n  }\n}\n.tab-active[_ngcontent-%COMP%] {\n  color: #3ea9f5;\n  border-bottom: 3px solid #3ea9f5;\n}\n.ws-requests-list-servedby-avatar[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-top: 1px;\n  margin-bottom: 1px;\n  object-fit: cover;\n}\n.middle-nw[_ngcontent-%COMP%] {\n  float: left;\n  width: 91%;\n  width: calc(100% - 70px);\n  overflow: hidden;\n  \n  white-space: nowrap;\n  padding-left: 6px;\n}\n.teammates-with-picture-status-icon[_ngcontent-%COMP%] {\n  width: 10px;\n  height: 10px;\n  float: left;\n  border-radius: 50%;\n  border: 1px solid #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 30px;\n  left: 30px;\n}\n.teammates-no-picture-assigned_requests_count[_ngcontent-%COMP%] {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 18px;\n  height: 18px;\n  top: -3px;\n  left: -4px;\n  border-radius: 9px;\n  padding: 0 5px;\n  font-size: 11px;\n  text-align: center;\n  background-color: #039be5;\n  color: #fff;\n  line-height: 1;\n}\n.teammates-no-picture-status-icon[_ngcontent-%COMP%] {\n  width: 10px;\n  height: 10px;\n  float: left;\n  border-radius: 50%;\n  border: 1px solid #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 29px;\n  left: 29px;\n}\n.is-user-online[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n}\n.is-user-offline[_ngcontent-%COMP%] {\n  background-color: #f44336;\n}\n.scroll-div-side-btn[_ngcontent-%COMP%] {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  margin-top: 9px;\n  background: #e4e6eb;\n  border-radius: 50%;\n  padding: 2px;\n  cursor: pointer;\n  height: 24px;\n  width: 24px;\n}\n.scroll-div-side-btn[_ngcontent-%COMP%]:hover {\n  background: rgba(228, 230, 235, 0.6);\n}\n.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  width: 120px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 0;\n  \n  position: absolute;\n  z-index: 1;\n}\n.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n.team-container[_ngcontent-%COMP%] {\n  display: flex;\n}\n.team-agent[_ngcontent-%COMP%] {\n  display: inline-block;\n  position: relative;\n  align-items: center;\n  -webkit-box-pack: center;\n  padding: 8px 8px;\n  cursor: pointer;\n}\n.middle[_ngcontent-%COMP%] {\n  float: left;\n  width: 100%;\n  overflow: auto;\n  \n  white-space: nowrap;\n}\n.side[_ngcontent-%COMP%] {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.team-avatar[_ngcontent-%COMP%] {\n  margin: 0;\n  width: 42px;\n  height: 42px;\n  min-width: 42px;\n  border-radius: 50%;\n  font-size: 17px;\n  font-weight: 600;\n  text-align: center;\n  background: #f6f7f8;\n}\n.team-avatar-initials[_ngcontent-%COMP%] {\n  margin: 0;\n  width: 42px;\n  height: 42px;\n  min-width: 42px;\n  border-radius: 50%;\n  font-size: 17px;\n  font-weight: 600;\n  text-align: center;\n  background: #f6f7f8;\n}\n.assigned_requests_count[_ngcontent-%COMP%] {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 18px;\n  height: 18px;\n  top: 8px;\n  left: 4px;\n  border-radius: 9px;\n  padding: 0 5px;\n  font-size: 11px;\n  text-align: center;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.35);\n  background-color: #039be5;\n  color: #fff;\n}\n.team-agent-status-icon[_ngcontent-%COMP%] {\n  width: 10px;\n  height: 10px;\n  float: left;\n  border-radius: 50%;\n  border: 1px solid #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 39px;\n  left: 38px;\n}\n.is-user-online[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n}\n.is-user-offline[_ngcontent-%COMP%] {\n  background-color: #f44336;\n}\n.is-user-inactive[_ngcontent-%COMP%] {\n  background-color: #697482;\n}\n\n.right-li[_ngcontent-%COMP%] {\n  float: right !important;\n  padding-top: 10px !important;\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n}\n.right-li-simulate-visitor[_ngcontent-%COMP%] {\n  padding-right: 10px !important;\n}\n.no_visitor__placeeholder[_ngcontent-%COMP%] {\n  font-size: 1em;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  margin: auto;\n  flex-direction: column;\n  width: 100%;\n  padding: 63px;\n  text-align: center;\n}\n.has-reached-100[_ngcontent-%COMP%] {\n  color: #f44336 !important;\n}\n.served-unserved-sum[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 29px;\n  top: 12px;\n  font-size: 12px;\n  font-weight: 400;\n  background: #fff;\n  line-height: 12px;\n  color: #797979;\n  padding-left: 2px;\n  color: #f44336 !important;\n}\n  ng-select.internal-request-custom-select > ng-dropdown-panel > .ng-dropdown-footer > div > .add-requester-btn-icon {\n  vertical-align: middle;\n  color: var(--ng-select-footer-btn-color);\n}\n  ng-select.internal-request-custom-select > ng-dropdown-panel > .ng-dropdown-footer > div > .add-requester-btn-text {\n  color: var(--ng-select-footer-btn-color);\n}\n\n\n.skeleton[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .skeleton[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .skeleton[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .skeleton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  animation: loading 1.7s infinite linear;\n  background: #f6f7f8;\n  background-image: linear-gradient(to right, #f6f7f8 0%, #edeef1 20%, #f6f7f8 40%, #f6f7f8 100%);\n  background-repeat: no-repeat;\n}\n.skeleton[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n  height: 22px;\n  width: 200px;\n  margin-top: 0px !important;\n}\n.skeleton[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\n  height: 30px;\n  width: 200px;\n}\n.skeleton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  height: 18px;\n  width: 200px;\n}\n.skeleton[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  height: 18px;\n  width: 200px;\n  margin-left: 16px;\n  margin-top: 12px;\n}\n.skeleton[_ngcontent-%COMP%]   .skeleton_textarea[_ngcontent-%COMP%] {\n  height: 52px;\n  width: 300px;\n}\n@keyframes loading {\n  0% {\n    background-position: -100px;\n    width: 200px;\n  }\n  100% {\n    background-position: 200px;\n  }\n}\n.stretchspinner[_ngcontent-%COMP%] {\n  margin: 100px auto;\n  width: 50px;\n  height: 40px;\n  text-align: center;\n  font-size: 10px;\n  position: absolute;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.stretchspinner[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n  background-color: var(--blue-20);\n  height: 100%;\n  width: 6px;\n  display: inline-block;\n  animation: sk-stretchdelay 1.2s infinite ease-in-out;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%] {\n  animation-delay: -1.1s;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%] {\n  animation-delay: -1s;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%] {\n  animation-delay: -0.9s;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%] {\n  animation-delay: -0.8s;\n}\n@keyframes sk-stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1);\n    -webkit-transform: scaleY(1);\n  }\n}\n.success-checkmark[_ngcontent-%COMP%] {\n  width: 80px;\n  margin: 0 auto;\n  position: relative;\n  right: 5px;\n  margin-top: 16px;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%] {\n  width: 80px;\n  height: 80px;\n  position: relative;\n  border-radius: 50%;\n  box-sizing: content-box;\n  border: 4px solid #4caf50;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]::before {\n  top: 3px;\n  left: -2px;\n  width: 30px;\n  transform-origin: 100% 50%;\n  border-radius: 100px 0 0 100px;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]::after {\n  top: 0;\n  left: 30px;\n  width: 60px;\n  transform-origin: 0 50%;\n  border-radius: 0 100px 100px 0;\n  animation: rotate-circle 4.25s ease-in;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]::before, .success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]::after {\n  content: "";\n  height: 100px;\n  position: absolute;\n  background: #ffffff;\n  transform: rotate(-45deg);\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .success-icon-line[_ngcontent-%COMP%] {\n  height: 5px;\n  background-color: #4caf50;\n  display: block;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .success-icon-line.success-line-tip[_ngcontent-%COMP%] {\n  top: 46px;\n  left: 14px;\n  width: 25px;\n  transform: rotate(45deg);\n  animation: icon-line-tip 0.75s;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .success-icon-line.success-line-long[_ngcontent-%COMP%] {\n  top: 38px;\n  right: 8px;\n  width: 47px;\n  transform: rotate(-45deg);\n  animation: icon-line-long 0.75s;\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .success-icon-circle[_ngcontent-%COMP%] {\n  top: -4px;\n  left: -4px;\n  z-index: 10;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  position: absolute;\n  box-sizing: content-box;\n  border: 4px solid rgba(76, 175, 80, 0.5);\n}\n.success-checkmark[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .success-icon-fix[_ngcontent-%COMP%] {\n  top: 8px;\n  width: 5px;\n  left: 26px;\n  z-index: 1;\n  height: 85px;\n  position: absolute;\n  transform: rotate(-45deg);\n  background-color: #ffffff;\n}\n@keyframes rotate-circle {\n  0% {\n    transform: rotate(-45deg);\n  }\n  5% {\n    transform: rotate(-45deg);\n  }\n  12% {\n    transform: rotate(-405deg);\n  }\n  100% {\n    transform: rotate(-405deg);\n  }\n}\n@keyframes icon-line-tip {\n  0% {\n    width: 0;\n    left: 1px;\n    top: 19px;\n  }\n  54% {\n    width: 0;\n    left: 1px;\n    top: 19px;\n  }\n  70% {\n    width: 50px;\n    left: -8px;\n    top: 37px;\n  }\n  84% {\n    width: 17px;\n    left: 21px;\n    top: 48px;\n  }\n  100% {\n    width: 25px;\n    left: 14px;\n    top: 45px;\n  }\n}\n@keyframes icon-line-long {\n  0% {\n    width: 0;\n    right: 46px;\n    top: 54px;\n  }\n  65% {\n    width: 0;\n    right: 46px;\n    top: 54px;\n  }\n  84% {\n    width: 55px;\n    right: 0px;\n    top: 35px;\n  }\n  100% {\n    width: 47px;\n    right: 8px;\n    top: 38px;\n  }\n}\n.error-banmark[_ngcontent-%COMP%] {\n  width: 80px;\n  margin: 0 auto;\n  position: relative;\n  right: 5px;\n  margin-top: 16px;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%] {\n  width: 80px;\n  height: 80px;\n  position: relative;\n  border-radius: 50%;\n  box-sizing: content-box;\n  border: 4px solid #f27474;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]::before {\n  top: 3px;\n  left: -2px;\n  width: 30px;\n  transform-origin: 100% 50%;\n  border-radius: 100px 0 0 100px;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]::after {\n  top: 0;\n  left: 30px;\n  width: 60px;\n  transform-origin: 0 50%;\n  border-radius: 0 100px 100px 0;\n  animation: rotate-circle 4.25s ease-in;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]::before, .error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]::after {\n  content: "";\n  height: 100px;\n  position: absolute;\n  background: rgba(255, 255, 255, 0);\n  transform: rotate(-45deg);\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]   .icon-line[_ngcontent-%COMP%] {\n  height: 5px;\n  background-color: #f27474;\n  display: block;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]   .icon-line.line-long-invert[_ngcontent-%COMP%] {\n  top: 39px;\n  left: 8px;\n  width: 60px;\n  transform: rotate(45deg);\n  animation: icon-line-long 0.75s;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]   .icon-line.line-long[_ngcontent-%COMP%] {\n  top: 39px;\n  left: 8px;\n  width: 60px;\n  transform: rotate(-45deg);\n  animation: icon-line-long 0.85s;\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%] {\n  top: -4px;\n  left: -4px;\n  z-index: 10;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  position: absolute;\n  box-sizing: content-box;\n  border: 4px solid rgba(242, 116, 116, 0.5);\n}\n.error-banmark[_ngcontent-%COMP%]   .ban-icon[_ngcontent-%COMP%]   .icon-fix[_ngcontent-%COMP%] {\n  top: 8px;\n  width: 5px;\n  left: 26px;\n  z-index: 1;\n  height: 85px;\n  position: absolute;\n  transform: rotate(-45deg);\n  background-color: rgba(255, 255, 255, 0);\n}\n.requester-role-or-type[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54);\n}\n.open-requester-details-disable[_ngcontent-%COMP%] {\n  cursor: not-allowed;\n  opacity: 0.5;\n  display: none;\n}\n.conv-option-icon[_ngcontent-%COMP%] {\n  color: var(--text-color);\n  vertical-align: middle;\n  padding: 6px;\n  border-radius: 50%;\n  width: 29px;\n}\n.conv-option-icon-active[_ngcontent-%COMP%] {\n  color: var(--blue-20);\n}\n.btn-primary-active[_ngcontent-%COMP%] {\n  height: 38px;\n  background: rgb(231, 241, 255);\n  box-shadow: unset;\n  color: var(--text-color);\n  text-transform: none;\n  font-weight: 400;\n  font-size: 14px;\n  padding: 0 16px 0 8px;\n  border-radius: var(--btn-border-radius);\n}\n.btn-primary-active[_ngcontent-%COMP%]:hover {\n  box-shadow: unset;\n  background: rgb(231, 241, 255);\n  color: var(--blue-20);\n}\n.btn-primary-active[_ngcontent-%COMP%]   .btn--link[_ngcontent-%COMP%] {\n  display: none;\n}\n.btn-primary-active[_ngcontent-%COMP%]:hover   .btn--link[_ngcontent-%COMP%] {\n  display: inline;\n}\n.btn-primary-active[_ngcontent-%COMP%]:hover   .btn--text[_ngcontent-%COMP%] {\n  display: none;\n}\n.btn-primary-no-active[_ngcontent-%COMP%] {\n  background: rgb(241, 241, 241);\n}\n.btn-primary-no-active[_ngcontent-%COMP%]:hover {\n  background: rgb(241, 241, 241) !important;\n}\n.open-chat-tool-wpr[_ngcontent-%COMP%] {\n  background: #e8f0fe;\n  position: relative;\n  margin-left: -30px;\n  top: -9px;\n  margin-right: -30px;\n  height: 44px;\n  vertical-align: middle;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #6f5502;\n  font-weight: 400;\n  padding: 30px;\n}\n#filter-conversations-title[_ngcontent-%COMP%] {\n  font-family: var(--header-font-family);\n  font-size: 16px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54) !important;\n  margin-bottom: 8px;\n  margin-top: 0px;\n}\n.item-label[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-family: var(--header-font-family);\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54);\n  line-height: 2;\n}\n.filter-convs-title[_ngcontent-%COMP%] {\n  font-family: var(--header-font-family);\n  font-size: 18px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54) !important;\n  margin-bottom: 14px;\n  margin-top: 11px;\n}\n@media (min-width: 767px) {\n  .select-dept-wpr[_ngcontent-%COMP%] {\n    padding-right: 6px;\n    padding-left: 6px;\n  }\n  .select-agent-wpr[_ngcontent-%COMP%] {\n    padding-left: 6px;\n    padding-right: 6px;\n  }\n  .select-convtype-wpr[_ngcontent-%COMP%] {\n    padding-left: 6px;\n  }\n  .filter-convs-title-wpr[_ngcontent-%COMP%] {\n    padding-left: 6px;\n  }\n}\n  .mat-white-tooltip {\n  background-color: #fff !important;\n  font-size: 11px !important;\n  border-radius: 2px !important;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  padding-top: 5px !important;\n  padding-bottom: 5px !important;\n  border: 1px solid #ccc;\n  color: #000 !important;\n  font-weight: 400 !important;\n}\n  .conv-custom-mat-tooltip {\n  background-color: #2d323e !important;\n  font-size: 12px !important;\n  border-radius: 2px !important;\n  font-family: var(--header-font-family) !important;\n  padding-top: 8px !important;\n  padding-bottom: 8px !important;\n}\n.legend-item[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-family: var(--header-font-family);\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54);\n  line-height: 1.3;\n}\n.smart-assign-and-operatinghours-options[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  gap: 6px;\n}\n.open-chat-tool-text[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  gap: 3px;\n}\n.open-chat-tool-text[_ngcontent-%COMP%]    > .chat-tool-link[_ngcontent-%COMP%] {\n  color: var(--blue-20);\n  cursor: pointer;\n}']}),n})();var fl=c(31449),Sl=c(86856),Tl=c(67322),xl=c(25245);const El=[{path:"",component:ml}];let vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[q.Bz.forChild(El),ce.z8,r.ez,j.AV,U.aw,fl.m,W.u5,W.UX,Z.A0,Sl.FA,pe._G,Tl.lN,xl.Ps,he.Tx]}),n})()},29959:(b,S,c)=>{b.exports=c(23262)},23262:(b,S,c)=>{"use strict";var r=c(41598),e=c(13250),p=c(78278),u=c(4902),P=r.request,N=r.cancel;function _(h){if(!(this instanceof _))return new _(h);h||(h={}),"number"==typeof h&&(h={frameRate:h}),null!=h.useNative||(h.useNative=!0),this.options=h,this.frameRate=h.frameRate||_.FRAME_RATE,this._frameLength=1e3/this.frameRate,this._isCustomFrameRate=this.frameRate!==_.FRAME_RATE,this._timeoutId=null,this._callbacks={},this._lastTickTime=0,this._tickCounter=0}b.exports=_,_.FRAME_RATE=60,_.shim=function(h){var x=new _(h);return u.requestAnimationFrame=function(v){return x.request(v)},u.cancelAnimationFrame=function(v){return x.cancel(v)},x},_.prototype.request=function(h){var x=this;if(++this._tickCounter,r.supported&&this.options.useNative&&!this._isCustomFrameRate)return P(h);if(!h)throw new TypeError("Not enough arguments");if(null==this._timeoutId){var v=this._frameLength+this._lastTickTime-e();v<0&&(v=0),this._timeoutId=setTimeout(function(){x._lastTickTime=e(),x._timeoutId=null,++x._tickCounter;var I=x._callbacks;for(var w in x._callbacks={},I)I[w]&&(r.supported&&x.options.useNative?P(I[w]):I[w](p.now()))},v)}return this._callbacks[this._tickCounter]=h,this._tickCounter},_.prototype.cancel=function(h){r.supported&&this.options.useNative&&N(h),delete this._callbacks[h]}},41598:(b,S,c)=>{"use strict";var r=c(4902);try{r=r.top}catch(u){}S.request=r.requestAnimationFrame,S.cancel=r.cancelAnimationFrame||r.cancelRequestAnimationFrame,S.supported=!1;for(var e=["Webkit","Moz","ms","O"],p=0;p<e.length&&!S.request;p++)S.request=r[e[p]+"RequestAnimationFrame"],S.cancel=r[e[p]+"CancelAnimationFrame"]||r[e[p]+"CancelRequestAnimationFrame"];S.request&&S.request.call(null,function(){S.supported=!0})},13250:b=>{"use strict";b.exports=Date.now||function(){return(new Date).getTime()}},58383:(b,S,c)=>{"use strict";var r=c(13250);S.navigationStart=r()},78278:(b,S,c)=>{"use strict";var r=c(13250),e=c(58383),p=c(4902);S.now=function(){return p.performance&&p.performance.now?p.performance.now():r()-e.navigationStart}},4902:function(b){var S;S="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,b.exports=S},50336:(b,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={linearTween:function(r,e,p,u){return p*r/u+e},easeInQuad:function(r,e,p,u){return p*(r/=u)*r+e},easeOutQuad:function(r,e,p,u){return-p*(r/=u)*(r-2)+e},easeInOutQuad:function(r,e,p,u){return(r/=u/2)<1?p/2*r*r+e:-p/2*(--r*(r-2)-1)+e},easeInCubic:function(r,e,p,u){return p*(r/=u)*r*r+e},easeOutCubic:function(r,e,p,u){return r/=u,p*(--r*r*r+1)+e},easeInOutCubic:function(r,e,p,u){return(r/=u/2)<1?p/2*r*r*r+e:p/2*((r-=2)*r*r+2)+e},easeInQuart:function(r,e,p,u){return p*(r/=u)*r*r*r+e},easeOutQuart:function(r,e,p,u){return r/=u,-p*(--r*r*r*r-1)+e},easeInOutQuart:function(r,e,p,u){return(r/=u/2)<1?p/2*r*r*r*r+e:-p/2*((r-=2)*r*r*r-2)+e},easeInQuint:function(r,e,p,u){return p*(r/=u)*r*r*r*r+e},easeOutQuint:function(r,e,p,u){return r/=u,p*(--r*r*r*r*r+1)+e},easeInOutQuint:function(r,e,p,u){return(r/=u/2)<1?p/2*r*r*r*r*r+e:p/2*((r-=2)*r*r*r*r+2)+e},easeInSine:function(r,e,p,u){return-p*Math.cos(r/u*(Math.PI/2))+p+e},easeOutSine:function(r,e,p,u){return p*Math.sin(r/u*(Math.PI/2))+e},easeInOutSine:function(r,e,p,u){return-p/2*(Math.cos(Math.PI*r/u)-1)+e},easeInExpo:function(r,e,p,u){return p*Math.pow(2,10*(r/u-1))+e},easeOutExpo:function(r,e,p,u){return p*(1-Math.pow(2,-10*r/u))+e},easeInOutExpo:function(r,e,p,u){return(r/=u/2)<1?p/2*Math.pow(2,10*(r-1))+e:(r--,p/2*(2-Math.pow(2,-10*r))+e)},easeInCirc:function(r,e,p,u){return r/=u,-p*(Math.sqrt(1-r*r)-1)+e},easeOutCirc:function(r,e,p,u){return r/=u,r--,p*Math.sqrt(1-r*r)+e},easeInOutCirc:function(r,e,p,u){return(r/=u/2)<1?-p/2*(Math.sqrt(1-r*r)-1)+e:(r-=2,p/2*(Math.sqrt(1-r*r)+1)+e)}}},93732:(b,S,c)=>{"use strict";var p=N(c(29959)),P=N(c(50336));function N(O){return O&&O.__esModule?O:{default:O}}var __url="https://github.com/davesnx/scrollto-with-animation",h=new p.default,v="easeInQuad",I="scrollto-with-animation",w=I+": Transition not found - "+__url,$=I+": Transition isn't string or Function - "+__url,H="animation-cancel",D="animation-end",C="undefined"!=typeof document?document:{},z="undefined"!=typeof window?window:{},re=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,L=P.default[R];if(void 0===L)throw new Error(w);return L},K=function(R){if(4!==R.length)throw new Error("scrollto-with-animation: callback transition don't look like a valid equation - https://github.com/davesnx/scrollto-with-animation");return R},ae=function(R){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"scrollTop",B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,X=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,Q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v,A=arguments[5],J=void 0,ee="scrollTop"===L?R.scrollTop:R.scrollLeft,te=B-ee,ne=+new Date,y=!0,se=void 0,q=void 0;if(R||(R=C.documentElement),"string"==typeof Q||null===Q)q=re(Q);else{if("function"!=typeof Q)throw new Error($);q=K(Q)}var U=function j(){var W=+new Date,Z=Math.floor(q(W-ne,ee,te,X));se&&B===R[L]?(y=!1,A&&(A(H),h.cancel(J))):(se=Z,R[L]=Z),W>ne+X&&(R[L]=B,y=!1,A&&(A(D),h.cancel(J))),y&&(J=h.request(j))};J=h.request(U)};z!=={}&&(z.scrollToWithAnimation=ae),S.ZP=ae}}]);