"use strict";(self.webpackChunkchat21=self.webpackChunkchat21||[]).push([[5541],{15541:(_e,R,a)=>{a.r(R),a.d(R,{WsRequestsUnservedForPanelModule:()=>ue});var g=a(69808),n=a(5e3),O=a(62801),v=a(78446),M=a(99874),T=a(87341),p=a(7623),w=a(44034),q=a(59060),U=a(94961),X=a(65834),A=a(69089),N=a(26930),L=a(11796),J=a(45148),D=a(8929),u=a(7625),B=a(31307),y=a(84250),I=a(30407),Z=a(48616),Q=a(67451),x=a(54132),f=a(51062),j=a(21685),V=a(7069),z=a(15439),W=a.n(z),k=a(87238),F=a(30091),Y=a(78558),m=a(28348);const G=["scrollMe"];function $(o,i){if(1&o&&(n.TgZ(0,"a",63),n._uU(1),n.qZA()),2&o){const e=n.oxw();n.MGl("href","mailto:",null==e.request||null==e.request.lead?null:e.request.lead.email,"",n.LSH),n.xp6(1),n.hij(" ",null==e.request||null==e.request.lead?null:e.request.lead.email," ")}}function K(o,i){1&o&&(n.TgZ(0,"a",64),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Unavailable")," "))}function nn(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.hij(" ",null==e.request||null==e.request.dept?null:e.request.dept.name," ")}}function en(o,i){1&o&&(n.TgZ(0,"span",65),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"DepartmentsPage.NoDept")," "))}function tn(o,i){if(1&o&&(n.TgZ(0,"span",66),n._uU(1),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.hij(" ",null==e.request?null:e.request.language," ")}}function on(o,i){1&o&&(n.TgZ(0,"span",67),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Unavailable")," "))}function sn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",68),n.qZA())}function rn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",69),n.qZA())}function an(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",70),n.qZA())}function ln(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",71),n.qZA())}function cn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",72),n.qZA())}function gn(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.hij(" ",null==e.request?null:e.request.ua_os," ")}}function pn(o,i){1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Unavailable")," "))}function un(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",73),n.qZA())}function dn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",74),n.qZA())}function _n(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",75),n.qZA())}function hn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",76),n.qZA())}function fn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",77),n.qZA())}function mn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",78),n.qZA())}function bn(o,i){1&o&&(n.TgZ(0,"span"),n._UZ(1,"img",79),n.qZA())}function En(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.hij(" ",null==e.request?null:e.request.ua_browser," ")}}function xn(o,i){1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Unavailable")," "))}function Pn(o,i){if(1&o&&(n.TgZ(0,"span",80)(1,"a",81),n._uU(2),n.qZA()()),2&o){const e=n.oxw();n.xp6(1),n.s9C("href",null==e.request?null:e.request.sourcePage,n.LSH),n.xp6(1),n.Oqu(null==e.request?null:e.request.sourcePage)}}function Sn(o,i){1&o&&(n.TgZ(0,"span",82),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Unavailable")," "))}const Cn=function(o){return{"requester_fullname_initial-undefined-in-ws-request-dtl-for-panel":o}};function Rn(o,i){if(1&o&&(n.TgZ(0,"span",83),n._uU(1," N/A "),n.qZA()),2&o){const e=n.oxw();n.Q6J("ngClass",n.VKq(1,Cn,!(null!=e.request&&null!=e.request.lead&&e.request.lead.fullname)))}}function On(o,i){1&o&&(n.TgZ(0,"span",47),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VisitorsPage.Resolve")," "))}function vn(o,i){1&o&&(n.TgZ(0,"span",47),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"ActionNotAllowed")," "))}function Mn(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"amDateFormat"),n.ALo(3,"amDateFormat"),n.qZA()),2&o){const e=n.oxw(2).$implicit,t=n.oxw();n.xp6(1),n.hij(" ","en"===t.browserLang?n.xi3(2,1,e.createdAt,"MMM DD HH:mm"):n.xi3(3,4,e.createdAt,"DD MMM HH:mm")," ")}}function Tn(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"amDateFormat"),n.ALo(3,"amDateFormat"),n.qZA()),2&o){const e=n.oxw(2).$implicit,t=n.oxw();n.xp6(1),n.hij(" ","en"===t.browserLang?n.xi3(2,1,e.createdAt,"MMM DD YYYY HH:mm"):n.xi3(3,4,e.createdAt,"DD MMM YYYY HH:mm")," ")}}function wn(o,i){if(1&o&&(n.TgZ(0,"div",88),n.YNc(1,Mn,4,7,"span",18),n.ALo(2,"amDateFormat"),n.YNc(3,Tn,4,7,"span",18),n.ALo(4,"amDateFormat"),n.qZA()),2&o){const e=n.oxw().$implicit,t=n.oxw();n.xp6(1),n.Q6J("ngIf",n.xi3(2,2,e.createdAt,"YYYY")===t.currentYear),n.xp6(2),n.Q6J("ngIf",n.xi3(4,5,e.createdAt,"YYYY")!==t.currentYear)}}function qn(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"amDateFormat"),n.ALo(3,"amDateFormat"),n.qZA()),2&o){const e=n.oxw(2).$implicit,t=n.oxw();n.xp6(1),n.hij(" ","en"===t.browserLang?n.xi3(2,1,e.createdAt,"MMM DD HH:mm"):n.xi3(3,4,e.createdAt,"DD MMM HH:mm")," ")}}function Un(o,i){if(1&o&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"amDateFormat"),n.ALo(3,"amDateFormat"),n.qZA()),2&o){const e=n.oxw(2).$implicit,t=n.oxw();n.xp6(1),n.hij(" ","en"===t.browserLang?n.xi3(2,1,e.createdAt,"MMM DD YYYY HH:mm"):n.xi3(3,4,e.createdAt,"DD MMM YYYY HH:mm")," ")}}function An(o,i){if(1&o&&(n.TgZ(0,"div",88),n.YNc(1,qn,4,7,"span",18),n.ALo(2,"amDateFormat"),n.YNc(3,Un,4,7,"span",18),n.ALo(4,"amDateFormat"),n.TgZ(5,"span",89),n._uU(6),n.ALo(7,"translate"),n.qZA()()),2&o){const e=n.oxw().$implicit,t=n.oxw();n.xp6(1),n.Q6J("ngIf",n.xi3(2,4,e.createdAt,"YYYY")===t.currentYear),n.xp6(2),n.Q6J("ngIf",n.xi3(4,7,e.createdAt,"YYYY")!==t.currentYear),n.xp6(3),n.AsE(" ",n.lcZ(7,10,"SentBy")," ",e.senderFullname," ")}}const Nn=function(o,i,e,t,s,r){return{me:o,contact:i,"first-of-group":e,"last-of-group":t,info:s,"info-first":r}},Ln=function(o){return{first:o}};function Dn(o,i){if(1&o&&(n.TgZ(0,"div",84)(1,"div",85),n._UZ(2,"div",86),n.ALo(3,"marked"),n.ALo(4,"htmlEntitiesEncode"),n.YNc(5,wn,5,8,"div",87),n.YNc(6,An,8,12,"div",87),n.qZA()()),2&o){const e=i.$implicit,t=i.index,s=i.first,r=n.oxw();n.Q6J("ngClass",n.HTZ(9,Nn,r.requester_id!==e.sender&&"info"!==(null==e||null==e.attributes?null:e.attributes.subtype)&&"info/support"!==(null==e||null==e.attributes?null:e.attributes.subtype),r.requester_id===e.sender&&"info"!==(null==e||null==e.attributes?null:e.attributes.subtype)&&"info/support"!==(null==e||null==e.attributes?null:e.attributes.subtype),r.isFirstMessageOfGroup(e,t),r.isLastMessageOfGroup(e,t),r.isInfoMessage(e,t),r.isFirstInfoMessage(e,t))),n.xp6(1),n.Q6J("ngClass",n.VKq(16,Ln,s)),n.xp6(1),n.Q6J("innerHTML",n.lcZ(3,5,n.lcZ(4,7,null==e?null:e.text)),n.oJD),n.xp6(3),n.Q6J("ngIf",!r.shouldShowContactAvatar(e,t)),n.xp6(1),n.Q6J("ngIf",r.shouldShowContactAvatar(e,t))}}const yn=function(o){return{color:o}};function In(o,i){if(1&o){const e=n.EpF();n.TgZ(0,"div",96)(1,"div",97)(2,"p",98),n._uU(3),n.TgZ(4,"span",99),n.NdJ("click",function(){n.CHM(e);const s=n.oxw().$implicit,r=n.oxw(2);return n.KtG(r.openRightSideBar(null==s?null:s.text))}),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"p",100),n._uU(8),n.qZA(),n.TgZ(9,"span",101),n._uU(10),n.ALo(11,"date"),n.qZA()(),n._UZ(12,"div",102),n.qZA()}if(2&o){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.Q6J("ngStyle",n.VKq(10,yn,t.fillColour)),n.xp6(1),n.hij("",e.senderFullname," "),n.xp6(2),n.hij(" ",n.lcZ(6,5,"Train")," "),n.xp6(3),n.hij(" ",null==e?null:e.text," "),n.xp6(2),n.hij(" ",n.xi3(11,7,null==e?null:e.createdAt,"d/M/y HH:mm:ss")," ")}}function Zn(o,i){if(1&o&&(n.TgZ(0,"div",103)(1,"div",97)(2,"p",104),n._uU(3),n.qZA(),n.TgZ(4,"p",100),n._uU(5),n.qZA(),n.TgZ(6,"span",101),n._uU(7),n.ALo(8,"date"),n.qZA()(),n._UZ(9,"div",105),n.qZA()),2&o){const e=n.oxw().$implicit;n.xp6(3),n.hij(" ",e.senderFullname," "),n.xp6(2),n.Oqu(e.text),n.xp6(2),n.hij(" ",n.xi3(8,3,e.createdAt,"d/M/y HH:mm:ss"),"")}}const Qn=function(o){return{child:o}};function Wn(o,i){if(1&o&&(n.TgZ(0,"div")(1,"div",92)(2,"div",83)(3,"div",93),n.YNc(4,In,13,12,"div",94),n.YNc(5,Zn,10,6,"div",95),n.qZA()()()()),2&o){const e=i.$implicit,t=n.oxw(2);n.xp6(2),n.Q6J("ngClass",n.VKq(3,Qn,t.requester_id!==e.sender)),n.xp6(2),n.Q6J("ngIf",t.requester_id===e.sender),n.xp6(1),n.Q6J("ngIf",t.requester_id!==e.sender)}}function kn(o,i){if(1&o&&(n.TgZ(0,"div",90),n.YNc(1,Wn,6,5,"div",91),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.messagesList)}}const Fn=function(o){return{background:o}},Yn=function(o,i){return{requester_is_online:o,requester_is_offline:i}},Hn=function(o){return{left:o}},Xn=function(o){return{height:o}},Jn=function(o){return{display:o}};let Bn=(()=>{class o extends q.L{constructor(e,t,s,r,l,c,d,_,b,P,h,S,E,C){super(s,r,l,c,d,_,b,E,h),this.wsMsgsService=e,this.appConfigService=t,this.botLocalDbService=s,this.usersLocalDbService=r,this.router=l,this.wsRequestsService=c,this.faqKbService=d,this.usersService=_,this.notify=b,this.auth=P,this.translate=h,this.contactsService=S,this.logger=E,this.webSocketJs=C,this.unsubscribe$=new D.xQ,this.valueChange=new n.vpe,this.isOpenRightSidebar=!0,this.showSpinner=!0,this.displayBtnScrollToBottom="none",this.REQUESTER_IS_ONLINE=!1,this.MORE_INFO_ACCORDION_IS_OPENED=!1}ngOnInit(){this.getProfileImageStorage(),this.getLoggedUser(),this.logger.log("[REQUEST-DTLS-X-PANEL] SELECTED REQUEST ",this.selectedRequest),this.logger.log("[REQUEST-DTLS-X-PANEL] UNSERVED REQUESTS ",this.wsRequestsUnserved),this.request=this.selectedRequest,this.request&&(this.requestid=this.request.request_id,this.requester_id=this.request.lead.lead_id,this.getRequesterAvailabilityStatus(this.requester_id),this.request.lead&&this.request.lead.fullname?(this.request.requester_fullname_initial=(0,p.Pb)(this.request.lead.fullname),this.request.requester_fullname_fillColour=(0,p.e$)(this.request.lead.fullname)):(this.request.requester_fullname_initial="N/A",this.request.requester_fullname_fillColour="#6264a7")),this.requestid&&(this.logger.log("[REQUEST-DTLS-X-PANEL] - UNSUB-REQUEST-BY-ID - id_request ",this.requestid),this.logger.log("[REQUEST-DTLS-X-PANEL] - UNSUB-MSGS - id_request ",this.requestid),this.unsuscribeRequestById(this.requestid),this.unsuscribeMessages(this.requestid)),this.requestid&&(this.subscribeToWs_RequestById(this.requestid),this.subscribeToWs_MsgsByRequestId(this.requestid)),this.onInitChatContentHeight(),this.getTranslations(),this.setPerfectScrollbar(),this.listenToParentPostMessage(),this.getProjectUserRole(),this.setMomentLocale(),this.getCurrentYear(),this.manageMoreInfoAccordion()}getCurrentYear(){this.currentYear=W()().format("YYYY"),this.logger.log("[REQUEST-DTLS-X-PANEL] - currentYear ",this.currentYear)}setMomentLocale(){let e;this.browserLang=this.translate.getBrowserLang(),this.auth.user_bs&&this.auth.user_bs.value&&(e=localStorage.getItem(this.auth.user_bs.value._id+"_lang"));let t="";this.browserLang&&!e?t=this.browserLang:this.browserLang&&e&&(t=e),W().locale(t)}getProjectUserRole(){this.usersService.project_user_role_bs.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{this.logger.log("[REQUEST-DTLS-X-PANEL] USER ROLE ",e),e&&(this.ROLE_IS_AGENT="agent"===e)})}joinRequest(e){window.parent.postMessage({action:"openJoinConversationModal",parameter:e,calledBy:"ws_request_detail_for_panel"},"*"),this.logger.log("[REQUEST-DTLS-X-PANEL] JOIN-REQUEST - currentUserID ",this.currentUserID)}listenToParentPostMessage(){window.addEventListener("message",e=>{this.logger.log("[REQUEST-DTLS-X-PANEL] message event ",e),e&&e.data&&e.data.action&&e.data.parameter&&e.data.calledBy&&"joinConversation"===e.data.action&&"ws_request_detail_for_panel"===e.data.calledBy&&(this.logger.log("[REQUEST-DTLS-X-PANEL] message event ",e.data.action),this.logger.log("[REQUEST-DTLS-X-PANEL] message parameter ",e.data.parameter),this.logger.log("[REQUEST-DTLS-X-PANEL] currentUserID ",this.currentUserID),this.onJoinHandledinWsRequestDetailForPanel(e.data.parameter,this.currentUserID,"postMessage"))})}onJoinHandledinWsRequestDetailForPanel(e,t,s){this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - JOIN PRESSED"),this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - JOIN PRESSED postmessage",s),this.logger.log("[REQUEST-DTLS-X-PANEL] JOIN waiting for service-worker to be ready - current state",this.webSocketJs.ws.readyState),this.wsRequestsService.addParticipant(e,t).subscribe(r=>{this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - addParticipant TO CHAT GROUP ",r)},r=>{this.logger.error("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - addParticipant TO CHAT GROUP - ERROR ",r)},()=>{this.logger.log("[REQUEST-DTLS-X-PANEL] JOIN  * COMPLETE *"),void 0===s?this.getTranslationsDisplayInAppNotification():this.getTranslationsAndPostMessage()})}archiveRequest(e){this.logger.log("[REQUEST-DTLS-X-PANEL] - HAS CLICKED ARCHIVE REQUEST "),this._closeSupportGroupAndCloseConvsDeatail(e)}_closeSupportGroupAndCloseConvsDeatail(e){this.wsRequestsService.closeSupportGroup(e).subscribe(t=>{this.logger.log("[REQUEST-DTLS-X-PANEL] - CLOSE SUPPORT GROUP - DATA ",t)},t=>{this.logger.error("[REQUEST-DTLS-X-PANEL] - CLOSE SUPPORT GROUP - ERROR ",t)},()=>{this.logger.log("[REQUEST-DTLS-X-PANEL] CLOSE SUPPORT GROUP - COMPLETE")})}ngOnDestroy(){this.logger.log("[REQUEST-DTLS-X-PANEL] - ngOnDestroy"),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.unsuscribeRequesterPresence(this.requester_id),this.request._id&&(this.unsuscribeRequestById(this.requestid),this.unsuscribeMessages(this.requestid))}unsuscribeRequesterPresence(e){this.wsRequestsService.unsubscribeToWS_RequesterPresence(e)}setPerfectScrollbar(){const e=document.querySelector(".chat-messages-container");this.logger.log("[REQUEST-DTLS-X-PANEL] setPerfectScrollbar messages_container",e),new L.Z(e,{suppressScrollX:!0})}subscribeToWs_RequestById(e){this.logger.log("[REQUEST-DTLS-X-PANEL] CALLING SUBSCRIBE TO Request-By-Id: ",e),this.wsRequestsService.subscribeTo_wsRequestById(e),this.getWsRequestById$()}getWsRequestById$(){this.wsRequestsService.wsRequest$.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{e&&(this.logger.log("[REQUEST-DTLS-X-PANEL] - wsrequest FROM SUBSCRIPTION ",e),this.IS_CURRENT_USER_JOINED=this.currentUserIdIsInParticipants(e.participants,this.currentUserID,this.request.request_id),this.logger.log("[REQUEST-DTLS-X-PANEL] - wsrequest IS_CURRENT_USER_JOINED ",this.IS_CURRENT_USER_JOINED),this.request.currentUserIsJoined=this.IS_CURRENT_USER_JOINED,this.REQUEST_STATUS=e.status,this.logger.log("[REQUEST-DTLS-X-PANEL] - wsrequest REQUEST_STATUS ",this.REQUEST_STATUS))})}unsuscribeRequestById(e){this.wsRequestsService.unsubscribeTo_wsRequestById(e)}unsuscribeMessages(e){this.wsMsgsService.unsubsToWS_MsgsByRequestId(e)}getRequesterAvailabilityStatus(e){this.wsRequestsService.subscribeToWS_RequesterPresence(e),this.getWsRequesterPresence()}getWsRequesterPresence(){this.wsRequestsService.wsRequesterStatus$.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{const t=e;this.logger.log("[REQUEST-DTLS-X-PANEL] - getWsRequesterPresence user ",t),t&&t.presence&&(this.REQUESTER_IS_ONLINE="offline"!==t.presence.status)},e=>{this.logger.error("[REQUEST-DTLS-X-PANEL] - getWsRequesterPresence - ERROR",e)},()=>{this.logger.log("[REQUEST-DTLS-X-PANEL] - getWsRequesterPresence * COMPLETE * ")})}getTranslations(){this.translateArchivingRequestErrorMsg(),this.translateArchivingRequestMsg(),this.translateRequestHasBeenArchivedNoticationMsg_part1(),this.translateRequestHasBeenArchivedNoticationMsg_part2()}getLoggedUser(){this.auth.user_bs.subscribe(e=>{e&&(this.currentUserID=e._id,this.logger.log("[REQUEST-DTLS-X-PANEL] GET CURRENT USER  > currentUserID ",this.currentUserID))})}openMoreInfoAccordion(){this.MORE_INFO_ACCORDION_IS_OPENED=!this.MORE_INFO_ACCORDION_IS_OPENED,this.onInitChatContentHeight(),this.scrollCardContetToBottom()}manageMoreInfoAccordion(){var t,e=document.getElementsByClassName("accordion");for(t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("active");var s=this.nextElementSibling;s.style.maxHeight=s.style.maxHeight?null:s.scrollHeight+"px"})}onInitChatContentHeight(){const e=window.innerHeight;return this.logger.log("[REQUEST-DTLS-X-PANEL] - ACTUAL HEIGHT ",e),this.MORE_INFO_ACCORDION_IS_OPENED?this.chat_content_height=e-366:(this.chat_content_height=e-234,this.logger.log("[REQUEST-DTLS-X-PANEL] CHAT CONTENT HEIGHT ",this.chat_content_height)),this.logger.log("[REQUEST-DTLS-X-PANEL] chat_content_height",this.chat_content_height),{height:this.chat_content_height+="px"}}onResize(e){const t=e.target.innerHeight;return this.chat_content_height=this.MORE_INFO_ACCORDION_IS_OPENED?t-366:t-234,this.logger.log("[REQUEST-DTLS-X-PANEL] - ON-RESIZE NEW INNER HEIGHT ",t),this.logger.log("[REQUEST-DTLS-X-PANEL] - ON-RESIZE CHAT CONTENT HEIGHT ",this.chat_content_height),this.logger.log("[REQUEST-DTLS-X-PANEL] chat_content_height",this.chat_content_height),{height:this.chat_content_height+="px"}}getProfileImageStorage(){if("firebase"===this.appConfigService.getConfig().uploadEngine){this.UPLOAD_ENGINE_IS_FIREBASE=!0;const e=this.appConfigService.getConfig().firebase;this.storageBucket=e.storageBucket,this.logger.log("[REQUEST-DTLS-X-PANEL] IMAGE STOTAGE  ",this.storageBucket,"usecase firebase")}else this.UPLOAD_ENGINE_IS_FIREBASE=!1,this.baseUrl=this.appConfigService.getConfig().SERVER_BASE_URL,this.logger.log("[REQUEST-DTLS-X-PANEL] IMAGE STORAGE ",this.baseUrl,"usecase native")}subscribeToWs_MsgsByRequestId(e){this.logger.log("[REQUEST-DTLS-X-PANEL] subscribe To Ws Msgs ByRequestId ",e),this.wsMsgsService.subsToWS_MsgsByRequestId(e),this.getWsMsgs$()}onImageError(e,t){this.logger.log("[REQUEST-DTLS-X-PANEL] - onImageError  message ",e,"index ",t),e.avatar_url=e.sender.includes("bot_")?"assets/img/avatar_bot_tiledesk.svg":"assets/img/no_image_user.png"}getWsMsgs$(){this.wsMsgsService.wsMsgsList$.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{let t;for(this.messagesList=e,t=0;t<this.messagesList.length;t++)if("system"!==this.messagesList[t].sender){let s=this.messagesList[t].sender;this.messagesList[t].sender.includes("bot_")&&(s=this.messagesList[t].sender.slice(4),this.messagesList[t].avatar_url=!0===this.UPLOAD_ENGINE_IS_FIREBASE?"https://firebasestorage.googleapis.com/v0/b/"+this.storageBucket+"/o/profiles%2F"+s+"%2Fphoto.jpg?alt=media":this.baseUrl+"images?path=uploads%2Fusers%2F"+s+"%2Fimages%2Fthumbnails_200_200-photo.jpg")}this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.logger.log("[REQUEST-DTLS-X-PANEL] - getWsMsgs$ *** messagesList *** COMPLETED "),this.showSpinner=!1,this.scrollCardContetToBottom()},200)},e=>{this.showSpinner=!1,this.logger.error("[REQUEST-DTLS-X-PANEL]  - getWsMsgs$ - ERROR ",e)},()=>{this.logger.log("[REQUEST-DTLS-X-PANEL]  - getWsMsgs$ * COMPLETE * ")})}isFirstMessageOfGroup(e,t){let s="";return e&&e.attributes&&e.attributes.subtype&&(s=e.attributes.subtype),(0===t||this.messagesList[t-1]&&this.messagesList[t-1].sender!==e.sender)&&"info"!==s&&"info/support"!==s}isLastMessageOfGroup(e,t){let s="";return e&&e.attributes&&e.attributes.subtype&&(s=e.attributes.subtype),(t===this.messagesList.length-1||this.messagesList[t+1]&&this.messagesList[t+1].sender!==e.sender)&&"info"!==s&&"info/support"!==s}isInfoMessage(e,t){let s="";return e&&e.attributes&&e.attributes.subtype&&(s=e.attributes.subtype),(t===this.messagesList.length-1||this.messagesList[t+1])&&"info"===s||"info/support"===s}isFirstInfoMessage(e,t){let s="";return e&&e.attributes&&e.attributes.subtype&&(s=e.attributes.subtype),(0===t||this.messagesList[t-1])&&"info"===s}shouldShowContactAvatar(e,t){let s="";return e&&e.attributes&&e.attributes.subtype&&(s=e.attributes.subtype),e.sender!==this.requester_id&&"info"!==s&&(this.messagesList[t+1]&&this.messagesList[t+1].sender!==e.sender&&"info"!==s||!this.messagesList[t+1])}scrollCardContetToBottom(){setTimeout(()=>{const e=this.myScrollContainer.nativeElement;e.scrollTop=e.scrollHeight},100)}onScroll(e){const r=this.myScrollContainer.nativeElement.scrollHeight-this.myScrollContainer.nativeElement.scrollTop;this.logger.log("[REQUEST-DTLS-X-PANEL] ON SCROLL - SCROLL OVERFLOW ",r),this.displayBtnScrollToBottom=r>200?"block":"none"}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(e){this.logger.error("REQUEST-DTLS-X-PANEL - scrollToBottom ERROR ",e)}}closeRightSideBar(){this.logger.log("REQUEST-DETAIL-FOR-PANEL - closeRightSideBar this.valueChange ",this.valueChange),this.valueChange.emit(!1),this.isOpenRightSidebar=!1,[].forEach.call(document.querySelectorAll("footer ul li a"),function(e){e.setAttribute("style","text-transform: none")})}translateArchivingRequestMsg(){this.translate.get("ArchivingRequestNoticationMsg").subscribe(e=>{this.archivingRequestNoticationMsg=e})}translateArchivingRequestErrorMsg(){this.translate.get("ArchivingRequestErrorNoticationMsg").subscribe(e=>{this.archivingRequestErrorNoticationMsg=e})}translateRequestHasBeenArchivedNoticationMsg_part1(){this.translate.get("RequestSuccessfullyClosed").subscribe(e=>{this.requestHasBeenArchivedNoticationMsg_part1=e})}translateRequestHasBeenArchivedNoticationMsg_part2(){this.translate.get("RequestHasBeenArchivedNoticationMsg_part2").subscribe(e=>{this.requestHasBeenArchivedNoticationMsg_part2=e})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(V.N),n.Y36(N._),n.Y36(M.S),n.Y36(v.P),n.Y36(x.F0),n.Y36(O.z),n.Y36(A.M),n.Y36(U.f),n.Y36(w.c),n.Y36(T.e),n.Y36(f.sK),n.Y36(I.P),n.Y36(Z.m),n.Y36(Q.N))},o.\u0275cmp=n.Xpm({type:o,selectors:[["appdashboard-ws-request-detail-for-panel"]],viewQuery:function(e,t){if(1&e&&n.Gf(G,5),2&e){let s;n.iGM(s=n.CRH())&&(t.myScrollContainer=s.first)}},hostVars:1,hostBindings:function(e,t){1&e&&n.NdJ("resize",function(r){return t.onResize(r)},!1,n.Jf7),2&e&&n.d8E("@slideInOutForPanelAnimation",void 0)},inputs:{selectedRequest:"selectedRequest",wsRequestsUnserved:"wsRequestsUnserved"},outputs:{valueChange:"valueChange"},features:[n.qOj],decls:137,vars:86,consts:[[1,"right-side-bar","request-detail-for-panel-main-content"],[1,"request-detail-for-panel-container"],[1,"row","request-detail-for-panel-header"],[1,"col-xs-8","request-detail-for-panel-title-wpr"],[1,"request-detail-for-panel-title"],[1,"col-xs-4",2,"text-align","right"],["type","button","aria-label","Close",1,"close--round-btn",2,"margin-right","18px","margin-top","2px",3,"click"],["aria-hidden","true"],[1,"row",2,"margin-top","5px"],[1,"col-sm-12"],["matTooltipClass","conv-dtls-custom-mat-tooltip","matTooltipPosition","right","matTooltipHideDelay","100",2,"margin-bottom","0px",3,"matTooltip"],["tooltip","matTooltip"],[1,"material-icons","request-detail-for-panel-m-i"],[2,"position","relative","top","1px"],["class","avaible-email","target","_blank",3,"href",4,"ngIf"],["class","unavaible-property",4,"ngIf"],[1,"request-created-at"],[1,"avaible-dept"],[4,"ngIf"],["class","unavaible-property","style","text-transform: lowercase;padding-left: 0px;margin-left: 0px;",4,"ngIf"],[1,"accordion","more-info-accordion",3,"click"],[1,"more-info-panel"],["class","avaible-language",4,"ngIf"],["class","unavailable-language",4,"ngIf"],[1,"request--operating-system"],["matTooltipClass","conv-dtls-custom-mat-tooltip","matTooltip","Browser","matTooltipPosition","right","matTooltipHideDelay","100",2,"margin-bottom","0px"],[1,"request--browser"],[1,"tool_tip",2,"margin-bottom","0px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis","max-width","95%"],["src","assets/img/user_agent/source_page.svg",1,"request_details___ua_browser_icon",2,"width","26px","padding","6px","background","#e4e6eb","border-radius","50%","height","26px"],[2,"font-weight","400","font-size","12px"],["class","avalable-source-page",4,"ngIf"],["class","unavalable-source-page",4,"ngIf"],[1,"chat-messages-header"],[1,"contact-avatar---chat0-wrapper",2,"position","relative"],[1,"contact-avatar---chat1"],[1,"contact-avatar---chat2"],[1,"contact-avatar---chat3",3,"ngStyle"],[1,"contact-avatar---chat4"],[1,"contact-name"],[1,"requester-name--for-panel"],[3,"ngClass",4,"ngIf"],[1,"request-dtls---requester-status-icon",3,"ngClass"],[1,"action-btns--wpr"],["type","button","rel","tooltip",1,"btn","btn-tdblu","btn-simple","btn-xs","tool_tip","join-btn",3,"title","disabled","click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","link","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-link","fa-w-16",2,"height","15px","width","auto"],["fill","currentColor","d","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"],[1,"top",2,"min-width","fit-content","text-align","center","top","-8px","border-radius","3px","padding","3px 10px","font-size","10px","line-height","12px",3,"ngStyle"],[2,"text-transform","capitalize"],[2,"left","70%"],["type","button","rel","tooltip",1,"btn","btn-tdblu","btn-simple","btn-xs","tool_tip","archive-btn",3,"title","disabled","click"],[1,"material-icons"],[1,"top",2,"min-width","fit-content","text-align","center","top","-8px","border-radius","3px","padding","3px 10px","font-size","10px","line-height","12px"],["style","text-transform: capitalize;",4,"ngIf"],[1,"chat-messages-container",3,"ngStyle"],["scrollMe",""],["id","chat-content","fxFlex","1 1 auto","fusePerfectScrollbar",""],[1,"chat-messages"],["class","message-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-content",2,"height","500px","overflow-y","auto","padding","0px","padding-left","25px","padding-right","25px","display","none",3,"scroll"],["class","chat-body","style","vertical-align:baseline;",4,"ngIf"],["id","fixed-button",1,"button",3,"ngStyle","click"],[1,"icon","is-small"],[1,"fa","fa-chevron-down"],["target","_blank",1,"avaible-email",3,"href"],[1,"unavaible-property"],[1,"unavaible-property",2,"text-transform","lowercase","padding-left","0px","margin-left","0px"],[1,"avaible-language"],[1,"unavailable-language"],["src","assets/img/user_agent/laptop.svg",1,"ua-os-icon--right-sidebar",2,"margin-top","2px"],["src","assets/img/user_agent/android.svg",1,"ua-os-icon--right-sidebar"],["src","assets/img/user_agent/apple.svg",1,"ua-os-icon--right-sidebar",2,"margin-bottom","2px"],["src","assets/img/user_agent/windows.svg",1,"ua-os-icon--right-sidebar",2,"margin-top","2px"],["src","assets/img/user_agent/ubuntu.svg",1,"ua-os-icon--right-sidebar"],["src","assets/img/user_agent/globe.svg",1,"ua_browser_icon--right-sidebar"],["src","assets/img/user_agent/chrome.svg",1,"ua_browser_icon--right-sidebar"],["src","assets/img/user_agent/firefox.svg",1,"ua_browser_icon--right-sidebar"],["src","assets/img/user_agent/edge.svg",1,"ua_browser_icon--right-sidebar"],["src","assets/img/user_agent/opera.svg",1,"ua_browser_icon--right-sidebar"],["src","assets/img/user_agent/safari.svg",1,"ua_browser_icon--right-sidebar"],["src","assets/img/user_agent/explorer.svg",1,"ua_browser_icon--right-sidebar"],[1,"avalable-source-page"],["target","_blank",3,"href"],[1,"unavalable-source-page"],[3,"ngClass"],[1,"message-row",3,"ngClass"],[1,"bubble",3,"ngClass"],[1,"message",3,"innerHTML"],["class","time secondary-text",4,"ngIf"],[1,"time","secondary-text"],[2,"margin-left","3px"],[1,"chat-body",2,"vertical-align","baseline"],[4,"ngFor","ngForOf"],[1,"parent"],[1,"speech-wrapper"],["class","bubble",4,"ngIf"],["class","bubble alt",4,"ngIf"],[1,"bubble"],[1,"txt"],[1,"name",3,"ngStyle"],[2,"float","right","cursor","pointer","color","#00bcf8","text-decoration","underline",3,"click"],[1,"message","ow"],[1,"timestamp"],[1,"bubble-arrow"],[1,"bubble","alt"],[1,"name","alt"],[1,"bubble-arrow","alt"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return t.closeRightSideBar()}),n.TgZ(9,"span",7),n._uU(10,"\xd7"),n.qZA()()()()(),n.TgZ(11,"div",8)(12,"div",9)(13,"p",10,11),n.ALo(15,"translate"),n.TgZ(16,"i",12),n._uU(17,"email"),n.qZA(),n.TgZ(18,"span",13),n.YNc(19,$,2,2,"a",14),n.YNc(20,K,3,3,"a",15),n.qZA()()()(),n.TgZ(21,"div",8)(22,"div",9)(23,"p",10,11),n.ALo(25,"translate"),n.TgZ(26,"i",12),n._uU(27," watch_later "),n.qZA(),n.TgZ(28,"span",13)(29,"span",16),n._uU(30),n.ALo(31,"amTimeAgo"),n.TgZ(32,"span"),n._uU(33),n.ALo(34,"date"),n.qZA()()()()()(),n.TgZ(35,"div",8)(36,"div",9)(37,"p",10,11),n.ALo(39,"translate"),n.TgZ(40,"i",12),n._uU(41,"account_balance"),n.qZA(),n.TgZ(42,"span",13)(43,"span",17),n.YNc(44,nn,2,1,"span",18),n.YNc(45,en,3,3,"span",19),n.qZA()()()()(),n.TgZ(46,"button",20),n.NdJ("click",function(){return t.openMoreInfoAccordion()}),n._uU(47),n.ALo(48,"translate"),n.qZA(),n.TgZ(49,"div",21)(50,"div",8)(51,"div",9)(52,"p",10,11),n.ALo(54,"translate"),n.TgZ(55,"i",12),n._uU(56,"flag"),n.qZA(),n.TgZ(57,"span",13),n.YNc(58,tn,2,1,"span",22),n.YNc(59,on,3,3,"span",23),n.qZA()()()(),n.TgZ(60,"div",8)(61,"div",9)(62,"p",10,11),n.ALo(64,"translate"),n.YNc(65,sn,2,0,"span",18),n.YNc(66,rn,2,0,"span",18),n.YNc(67,an,2,0,"span",18),n.YNc(68,ln,2,0,"span",18),n.YNc(69,cn,2,0,"span",18),n.TgZ(70,"span",24),n.YNc(71,gn,2,1,"span",18),n.YNc(72,pn,3,3,"span",18),n.qZA()()()(),n.TgZ(73,"div",8)(74,"div",9)(75,"p",25,11),n.YNc(77,un,2,0,"span",18),n.YNc(78,dn,2,0,"span",18),n.YNc(79,_n,2,0,"span",18),n.YNc(80,hn,2,0,"span",18),n.YNc(81,fn,2,0,"span",18),n.YNc(82,mn,2,0,"span",18),n.YNc(83,bn,2,0,"span",18),n.TgZ(84,"span",26),n.YNc(85,En,2,1,"span",18),n.YNc(86,xn,3,3,"span",18),n.qZA()()()(),n.TgZ(87,"div",8)(88,"div",9)(89,"p",27)(90,"span"),n._UZ(91,"img",28),n.qZA(),n.TgZ(92,"span",13)(93,"span",29),n.YNc(94,Pn,3,2,"span",30),n.YNc(95,Sn,3,3,"span",31),n.qZA()()()()()(),n.TgZ(96,"div",32)(97,"div",33)(98,"div",34)(99,"div",35)(100,"div",36)(101,"span",37),n._uU(102),n.qZA()()()(),n.TgZ(103,"div",38)(104,"span",39),n._uU(105),n.qZA(),n.YNc(106,Rn,2,3,"span",40),n.qZA(),n._UZ(107,"div",41),n.qZA(),n.TgZ(108,"div",42)(109,"button",43),n.NdJ("click",function(){return t.joinRequest(null==t.request?null:t.request.request_id)}),n.ALo(110,"translate"),n.O4$(),n.TgZ(111,"svg",44),n._UZ(112,"path",45),n.qZA(),n.kcU(),n.TgZ(113,"span",46)(114,"span",47),n._uU(115),n.ALo(116,"translate"),n.qZA(),n._UZ(117,"i",48),n.qZA()(),n.TgZ(118,"button",49),n.NdJ("click",function(){return t.archiveRequest(null==t.request?null:t.request.request_id)}),n.ALo(119,"translate"),n.TgZ(120,"i",50),n._uU(121,"archive"),n.qZA(),n.TgZ(122,"span",51),n.YNc(123,On,3,3,"span",52),n.YNc(124,vn,3,3,"span",52),n._UZ(125,"i"),n.qZA()()()(),n.TgZ(126,"div",53,54)(128,"div",55)(129,"div",56),n.YNc(130,Dn,7,18,"div",57),n.qZA()()(),n.TgZ(131,"div",58,54),n.NdJ("scroll",function(r){return t.onScroll(r)}),n.YNc(133,kn,2,1,"div",59),n.TgZ(134,"a",60),n.NdJ("click",function(){return t.scrollToBottom()}),n.TgZ(135,"span",61),n._UZ(136,"i",62),n.qZA()()()()),2&e&&(n.xp6(5),n.hij(" ",n.lcZ(6,50,"RequestMsgsPage.Details")," "),n.xp6(8),n.s9C("matTooltip",n.lcZ(15,52,"ContactEmail")),n.xp6(6),n.Q6J("ngIf",null==t.request||null==t.request.lead?null:t.request.lead.email),n.xp6(1),n.Q6J("ngIf",!(null!=t.request&&null!=t.request.lead&&t.request.lead.email)),n.xp6(3),n.s9C("matTooltip",n.lcZ(25,54,"Created")),n.xp6(7),n.hij(" ",n.lcZ(31,56,null==t.request?null:t.request.createdAt)," "),n.xp6(3),n.hij(" (",n.xi3(34,58,null==t.request?null:t.request.createdAt,"d/M/y HH:mm"),") "),n.xp6(4),n.s9C("matTooltip",n.lcZ(39,61,"Department")),n.xp6(7),n.Q6J("ngIf",null==t.request?null:t.request.dept),n.xp6(1),n.Q6J("ngIf",!(null!=t.request&&t.request.dept)),n.xp6(2),n.hij(" ",n.lcZ(48,63,"MoreInfo")," "),n.xp6(5),n.s9C("matTooltip",n.lcZ(54,65,"Language")),n.xp6(6),n.Q6J("ngIf",null==t.request?null:t.request.language),n.xp6(1),n.Q6J("ngIf",!(null!=t.request&&t.request.language)),n.xp6(3),n.s9C("matTooltip",n.lcZ(64,67,"OperatingSystem")),n.xp6(3),n.Q6J("ngIf",-1===(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Android"))&&-1===(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Mac OS"))&&-1===(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("iOS"))&&-1===(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Windows"))&&-1===(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Ubuntu"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Android"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Mac OS"))||-1!==(null==t.request?null:t.request.ua_os.indexOf("iOS"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Windows"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_os?null:t.request.ua_os.indexOf("Ubuntu"))),n.xp6(2),n.Q6J("ngIf","undefined undefined"!==(null==t.request?null:t.request.ua_os)),n.xp6(1),n.Q6J("ngIf","undefined undefined"===(null==t.request?null:t.request.ua_os)),n.xp6(5),n.Q6J("ngIf",-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Chrome"))&&-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Chromium"))&&-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Firefox"))&&-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Edge"))&&-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Opera"))&&-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Safari"))&&-1===(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("IE"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Chrome"))||-1!==(null==t.request?null:t.request.ua_browser.indexOf("Chromium"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Firefox"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Edge"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Opera"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("Safari"))),n.xp6(1),n.Q6J("ngIf",-1!==(null==t.request||null==t.request.ua_browser?null:t.request.ua_browser.indexOf("IE"))),n.xp6(2),n.Q6J("ngIf","undefined undefined"!==(null==t.request?null:t.request.ua_browser)),n.xp6(1),n.Q6J("ngIf","undefined undefined"===(null==t.request?null:t.request.ua_browser)),n.xp6(8),n.Q6J("ngIf",null==t.request?null:t.request.sourcePage),n.xp6(1),n.Q6J("ngIf",!(null!=t.request&&t.request.sourcePage)),n.xp6(5),n.Q6J("ngStyle",n.VKq(75,Fn,"linear-gradient(rgb(255,255,255) -125%,"+(null==t.request?null:t.request.requester_fullname_fillColour)+")")),n.xp6(2),n.hij(" ",null==t.request?null:t.request.requester_fullname_initial," "),n.xp6(3),n.hij(" ",null==t.request||null==t.request.lead?null:t.request.lead.fullname," "),n.xp6(1),n.Q6J("ngIf",!(null!=t.request&&null!=t.request.lead&&t.request.lead.fullname)),n.xp6(1),n.Q6J("ngClass",n.WLB(77,Yn,t.REQUESTER_IS_ONLINE,!t.REQUESTER_IS_ONLINE)),n.xp6(2),n.s9C("title",n.lcZ(110,69,"RequestMsgsPage.Enter")),n.Q6J("disabled",!0===(null==t.request?null:t.request.currentUserIsJoined)||1e3===t.REQUEST_STATUS),n.xp6(4),n.Q6J("ngStyle",n.VKq(80,Hn,"it"===t.browserLang?"-29px":"-16px")),n.xp6(2),n.hij(" ",n.lcZ(116,71,"RequestMsgsPage.Enter")," "),n.xp6(3),n.s9C("title",n.lcZ(119,73,"VisitorsPage.tootipArchiveRequest")),n.Q6J("disabled",!1===(null==t.request?null:t.request.currentUserIsJoined)&&!0===t.ROLE_IS_AGENT||1e3===t.REQUEST_STATUS),n.xp6(5),n.Q6J("ngIf",!0!==t.ROLE_IS_AGENT),n.xp6(1),n.Q6J("ngIf",!0===t.ROLE_IS_AGENT),n.xp6(2),n.Q6J("ngStyle",n.VKq(82,Xn,t.chat_content_height)),n.xp6(4),n.Q6J("ngForOf",t.messagesList),n.xp6(3),n.Q6J("ngIf",!t.showSpinner),n.xp6(1),n.Q6J("ngStyle",n.VKq(84,Jn,t.displayBtnScrollToBottom)))},dependencies:[g.mk,g.sg,g.O5,g.PC,k.gM,g.uU,f.X$,F.r,Y.N,m.Ek,m.eG],styles:['.request-detail-for-panel-main-content[_ngcontent-%COMP%] {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background: var(--card-background-color);\n  padding-top: 10px;\n  padding-left: 15px;\n  padding-right: 0px;\n}\n\n.request-detail-for-panel-container[_ngcontent-%COMP%] {\n  border-bottom: var(--header-border-bottom);\n  height: 50px;\n}\n\n.request-detail-for-panel-title[_ngcontent-%COMP%] {\n  color: var(--text-color);\n  font-family: var(--header-font-family);\n}\n\n.request-detail-for-panel-m-i[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  color: var(--btn-color);\n  font-size: 14px;\n  padding: 6px;\n  background: var(--btn-background-color);\n  border-radius: 50%;\n}\n\n.avaible-email[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n  font-family: var(--content-font-family);\n  color: var(--accent-text-color) !important;\n}\n\n.unavaible-property[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  font-family: var(--content-font-family);\n}\n\n.request-created-at[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  font-family: var(--content-font-family);\n}\n\n.avaible-dept[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  font-family: var(--content-font-family);\n}\n\n.avaible-language[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  text-transform: uppercase;\n  font-family: var(--content-font-family);\n}\n\n.unavailable-language[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  text-transform: lowercase;\n  font-family: var(--content-font-family);\n}\n\n.request--operating-system[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  font-family: var(--content-font-family);\n}\n\n.request--browser[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  font-family: var(--content-font-family);\n}\n\n.avalable-source-page[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n  font-family: var(--content-font-family);\n  color: var(--accent-text-color) !important;\n  margin-left: 4px;\n}\n\n.unavalable-source-page[_ngcontent-%COMP%] {\n  color: var(--secondary-text-color);\n  font-weight: 400;\n  font-size: 12px;\n  font-family: var(--content-font-family);\n  margin-left: 4px;\n}\n\n.join-sidebar-btn[_ngcontent-%COMP%] {\n  cursor: pointer;\n  background-color: #e4e6eb;\n  padding: 8px;\n  border-radius: 50%;\n}\n\n.join-sidebar-btn[_ngcontent-%COMP%]:hover {\n  background-color: #cfd2d7;\n}\n\n.archive-sidebar-btn[_ngcontent-%COMP%] {\n  cursor: pointer;\n  background-color: #e4e6eb;\n  padding: 8px;\n  border-radius: 50%;\n}\n\n.archive-sidebar-btn[_ngcontent-%COMP%]:hover {\n  background-color: #cfd2d7;\n}\n\n.dept-avatar-detail-for-panel[_ngcontent-%COMP%] {\n  border-radius: 3px;\n  font-size: 10px;\n  font-weight: 400;\n  color: #fff;\n  margin-right: 3px;\n  min-width: 20px;\n  display: inline-block;\n  text-align: center;\n}\n\n.requester-avatar-request-detail-for-panel[_ngcontent-%COMP%] {\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n  line-height: 40px;\n  margin: 0 8px 0 8px;\n  border-radius: 50%;\n  font-weight: 600;\n  text-align: center;\n  padding: 9px 6px;\n}\n\n.chat-messages-header[_ngcontent-%COMP%] {\n  background: #e4e6eb;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  color: rgba(0, 0, 0, 0.87);\n  height: 47px;\n  margin-left: -15px;\n  margin-right: -15px;\n  display: flex;\n}\n\n.contact-avatar---chat0-wrapper[_ngcontent-%COMP%] {\n  flex-direction: row;\n  box-sizing: border-box;\n  display: flex;\n  place-content: center flex-start;\n  align-items: center;\n  padding: 8px;\n}\n\n.action-btns--wpr[_ngcontent-%COMP%] {\n  flex-direction: row;\n  box-sizing: border-box;\n  display: flex;\n  place-content: center flex-end;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  padding-right: 35px;\n  position: relative;\n  top: 2px;\n}\n\n.action-btns--wpr[_ngcontent-%COMP%]   .join-btn[_ngcontent-%COMP%] {\n  padding-left: 5px !important;\n  padding-right: 5px !important;\n}\n\n.action-btns--wpr[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%] {\n  padding-right: 5px !important;\n  padding-left: 5px !important;\n}\n\n.action-btns--wpr[_ngcontent-%COMP%]   .open-chat[_ngcontent-%COMP%] {\n  padding-left: 5px !important;\n  padding-right: 5px !important;\n}\n\n.contact-avatar---chat1[_ngcontent-%COMP%] {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  font-size: 12px;\n  flex: 0 0 auto;\n  overflow: hidden;\n}\n\n.contact-avatar---chat2[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-size: 100% 100%;\n  overflow: hidden;\n  border-radius: 50%;\n}\n\n.contact-avatar---chat3[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: rgb(255, 255, 255);\n  width: 100%;\n  height: 100%;\n}\n\n.contact-avatar---chat4[_ngcontent-%COMP%] {\n  color: rgb(255, 255, 255);\n  font-size: 16px;\n  font-weight: 400;\n  font-family: "Helvetica Neue", sans-serif;\n}\n\n.contact-name[_ngcontent-%COMP%] {\n  font-size: 16px;\n  font-weight: 400;\n  color: rgb(60, 65, 71);\n  margin-left: 8px;\n  width: 178px;\n}\n\n.requester-name--for-panel[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: inline-block;\n  position: relative;\n  top: 3px;\n}\n\n.contact-avatar---messages[_ngcontent-%COMP%] {\n  position: relative;\n  top: -7px;\n}\n\n.ua_browser_icon--right-sidebar[_ngcontent-%COMP%] {\n  width: 26px;\n  padding: 6px;\n  background: var(--btn-background-color);\n  border-radius: 50%;\n  height: 26px;\n}\n\n.ua-os-icon--right-sidebar[_ngcontent-%COMP%] {\n  width: 26px;\n  padding: 6px;\n  background: var(--btn-background-color);\n  border-radius: 50%;\n  height: 26px;\n}\n\nul[_ngcontent-%COMP%] {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  display: inline-block;\n  clear: both;\n  padding: 12px;\n  font-family: muli, Helvetica Neue, Arial, sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 1.4 !important;\n  letter-spacing: -0.1px !important;\n}\n\n.me-first-of-group[_ngcontent-%COMP%] {\n  float: right;\n  border-bottom-right-radius: 5px;\n  border-top-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  background: #3c4252;\n  color: #fff;\n  margin-left: 40px;\n  margin-top: 20px;\n  margin-bottom: 2px;\n}\n\n.me-last-of-group[_ngcontent-%COMP%] {\n  float: right;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  background: #3c4252;\n  color: #fff;\n  margin-left: 40px;\n  margin-bottom: 20px;\n}\n\n.him[_ngcontent-%COMP%] {\n  float: left;\n  border-radius: 20px;\n  background: #e0e0e0;\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.him-first-of-group[_ngcontent-%COMP%] {\n  float: left;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  background: #e0e0e0;\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.him-last-of-group[_ngcontent-%COMP%] {\n  float: left;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 20px;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  background: #e0e0e0;\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.him-in-group[_ngcontent-%COMP%] {\n  float: left;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background: #e0e0e0;\n  color: rgba(0, 0, 0, 0.87);\n}\n\n.chat-messages-container[_ngcontent-%COMP%] {\n  padding: 4px 4px 4px 4px;\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  overflow-y: auto;\n  position: relative;\n  margin-left: -12px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .message-row.contact[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  background-color: #3c4252;\n  color: #fff;\n}\n\n#chat-content[_ngcontent-%COMP%]   .message-row.me[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  color: rgba(0, 0, 0, 0.87);\n  background-color: #e0e0e0;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 240px;\n  margin: 0;\n}\n\n.avatar[_ngcontent-%COMP%] {\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n  line-height: 40px;\n  margin: 0 8px 0 0;\n  border-radius: 50%;\n  font-size: 17px;\n  font-weight: 600;\n  text-align: center;\n}\n\n.secondary-text[_ngcontent-%COMP%] {\n  color: rgba(0, 0, 0, 0.54);\n}\n\n#chat-content[_ngcontent-%COMP%] {\n  background: transparent;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  font-family: muli, Helvetica Neue, Arial, sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  overflow-x: hidden;\n  overflow-y: hidden;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%] {\n  position: relative;\n  padding: 16px 5px 8px 0px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.info[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.info[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 12px;\n  max-width: 100%;\n  background: #c9e4f6;\n  border-radius: 20px;\n  margin-top: 22px;\n  text-align: 0px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.info[_ngcontent-%COMP%]   .bubble.first[_ngcontent-%COMP%] {\n  margin-top: 0px !important;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.info[_ngcontent-%COMP%]    + .first-of-group.last-of-group[_ngcontent-%COMP%] {\n  margin-top: 12px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-end;\n  padding: 0 8px 4px 8px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 240px;\n  margin: 0;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n  max-width: 100%;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\n  line-height: 1.2;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\n  position: absolute;\n  display: none;\n  width: 100%;\n  font-size: 10px;\n  margin-top: -2px;\n  top: 100%;\n  left: 0;\n  white-space: nowrap;\n  font-weight: 400;\n  color: #aaaaaa;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.contact[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.contact[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\n  margin-left: 4px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.contact.first-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-top-left-radius: 20px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.contact.last-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-bottom-left-radius: 20px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me[_ngcontent-%COMP%] {\n  padding-left: 65px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%] {\n  order: 2;\n  margin: 0 0 0 16px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  margin-left: auto;\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n  right: 0;\n  margin-right: 12px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me.first-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-top-right-radius: 20px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me.last-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-bottom-right-radius: 20px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.contact[_ngcontent-%COMP%]    + .me[_ngcontent-%COMP%], #chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.me[_ngcontent-%COMP%]    + .contact[_ngcontent-%COMP%] {\n  padding-top: 20px;\n  margin-top: 20px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.first-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-top-left-radius: 20px;\n  padding-top: 13px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.last-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  border-bottom-left-radius: 20px;\n  padding-bottom: 13px;\n}\n\n#chat-content[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .message-row.last-of-group[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n#chat-content[_ngcontent-%COMP%]    > .chat-messages[_ngcontent-%COMP%]    > .system-info[_ngcontent-%COMP%] {\n  align-items: center !important;\n}\n\n#chat-content[_ngcontent-%COMP%]    > .chat-messages[_ngcontent-%COMP%]    > .system-info[_ngcontent-%COMP%]    > .first[_ngcontent-%COMP%] {\n  border-radius: 20px;\n  margin-top: 0px !important;\n  margin-bottom: 12px;\n  border-radius: 20px 20px;\n  background-color: #c9e4f6;\n  padding: 8px 12px;\n}\n\n#chat-content[_ngcontent-%COMP%]    > .chat-messages[_ngcontent-%COMP%]    > .system-info[_ngcontent-%COMP%]    > .bubble[_ngcontent-%COMP%] {\n  border-radius: 20px;\n  margin-top: 12px;\n  margin-bottom: 12px;\n  border-radius: 20px 20px;\n  background-color: #c9e4f6;\n  padding: 8px 12px;\n}\n\n.StickyFooter[_ngcontent-%COMP%] {\n  flex: 0 0 auto;\n  position: absolute;\n  bottom: 0;\n  background-color: rgb(242, 242, 242);\n  margin-left: -15px;\n  margin-right: -15px;\n  width: 100%;\n  padding-left: 15px;\n}\n\n.request-dtls---requester-status-icon[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  top: 29px;\n  left: 30px;\n  border: 1px solid #e4e6eb;\n  border-radius: 50%;\n}\n\n.requester_is_online[_ngcontent-%COMP%] {\n  background-color: #4caf50 !important;\n}\n\n.requester_is_offline[_ngcontent-%COMP%] {\n  background-color: #f44336 !important;\n}\n\n.btn-no-boxshadow[_ngcontent-%COMP%] {\n  box-shadow: unset;\n}\n\n.btn-no-boxshadow[_ngcontent-%COMP%]:hover {\n  box-shadow: unset;\n  opacity: 0.6;\n}\n\n.parent[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.child[_ngcontent-%COMP%] {\n  margin-left: auto;\n}\n\n.speech-wrapper[_ngcontent-%COMP%] {\n  padding: 20px 55px;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%] {\n  width: 240px;\n  height: auto;\n  display: block;\n  background: #f5f5f5;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\n  position: relative;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble.alt[_ngcontent-%COMP%] {\n  background: #75d5fd !important;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%] {\n  padding: 8px 14px 8px 14px;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] {\n  font-weight: 600;\n  font-size: 12px;\n  margin: 0 0 4px;\n  color: #3498db;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  font-weight: normal;\n  color: #b3b3b3;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .name.alt[_ngcontent-%COMP%] {\n  color: #039be5;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n  margin: 0;\n  color: #2b2b2b;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .ow[_ngcontent-%COMP%] {\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  -webkit-hyphens: auto;\n          hyphens: auto;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%] {\n  font-size: 11px;\n  position: absolute;\n  bottom: -22px;\n  right: 10px;\n  text-transform: uppercase;\n  color: #7695a5;\n  font-weight: 400;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .bubble-arrow[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 0;\n  bottom: 42px;\n  left: -16px;\n  height: 0;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .bubble-arrow.alt[_ngcontent-%COMP%] {\n  right: -2px;\n  bottom: 40px;\n  left: auto;\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .bubble-arrow[_ngcontent-%COMP%]:after {\n  content: "";\n  position: absolute;\n  border: 0 solid transparent;\n  border-top: 9px solid #f5f5f5;\n  border-radius: 0 20px 0;\n  width: 15px;\n  height: 30px;\n  transform: rotate(145deg);\n}\n\n.speech-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .bubble-arrow.alt[_ngcontent-%COMP%]:after {\n  transform: rotate(45deg) scaleY(-1);\n  border-top: 9px solid #75d5fd !important;\n}\n\n.action-tooltip[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.action-tooltip[_ngcontent-%COMP%]   .action-tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  width: 120px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 0;\n  position: absolute;\n  z-index: 1;\n  bottom: 150%;\n  left: 50%;\n  margin-left: -60px;\n}\n\n.action-tooltip[_ngcontent-%COMP%]   .action-tooltiptext[_ngcontent-%COMP%]::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: black transparent transparent transparent;\n}\n\n.action-tooltip[_ngcontent-%COMP%]:hover   .action-tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n\n.more-info-accordion[_ngcontent-%COMP%] {\n  background-color: var(--card-background-color);\n  color: var(--text-color);\n  cursor: pointer;\n  margin-top: 8px;\n  width: 100%;\n  border: none;\n  text-align: left;\n  outline: none;\n  transition: 0.4s;\n  font-weight: 400;\n  font-size: 12px;\n  position: relative;\n  left: -6px;\n  margin-bottom: 3px;\n}\n\n.active[_ngcontent-%COMP%], .more-info-accordion[_ngcontent-%COMP%]:hover {\n  background-color: var(--list-item-input-row-hover-background);\n}\n\n.more-info-accordion[_ngcontent-%COMP%]:after {\n  content: "\\f107";\n  font-family: FontAwesome;\n  color: var(--accent-text-color);\n  font-weight: bold;\n  float: right;\n  margin-left: 5px;\n  font-size: 18px;\n}\n\n.active[_ngcontent-%COMP%]:after {\n  content: "\\f106";\n  font-family: FontAwesome;\n}\n\n.more-info-panel[_ngcontent-%COMP%] {\n  background-color: var(--card-background-color);\n  max-height: 0;\n  overflow: hidden;\n}\n\n.requester_fullname_initial-undefined-in-ws-request-dtl-for-panel[_ngcontent-%COMP%] {\n  position: relative;\n  top: -10px;\n}\n\n  .conv-dtls-custom-mat-tooltip {\n  background-color: var(--dark-background);\n  color: var(--text-color-on-dark);\n  font-size: 12px !important;\n  border-radius: 2px !important;\n  font-family: var(--header-font-family);\n  padding-top: 8px !important;\n  padding-bottom: 8px !important;\n  white-space: pre-line !important;\n  text-align: center !important;\n  line-height: 17px !important;\n}'],data:{animation:[j.ti]}}),o})();const jn=["teamContent"],Vn=["testwidgetbtn"];function zn(o,i){if(1&o&&(n.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),n._uU(4),n.qZA()()()()),2&o){const e=n.oxw();n.xp6(4),n.hij(" ",e.projectName," ")}}function Gn(o,i){1&o&&(n.TgZ(0,"div",12),n._UZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),n.qZA())}function $n(o,i){1&o&&(n.TgZ(0,"div")(1,"div",18),n._UZ(2,"img",19),n.TgZ(3,"span",20),n._uU(4),n.ALo(5,"translate"),n.qZA()()()),2&o&&(n.xp6(4),n.hij(" ",n.lcZ(5,1,"NoRequests")," "))}function Kn(o,i){1&o&&(n.TgZ(0,"span"),n._uU(1," N/A "),n.qZA())}function ne(o,i){1&o&&(n.TgZ(0,"span",44),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VisitorsPage.Resolve")," "))}function ee(o,i){1&o&&(n.TgZ(0,"span",44),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"ActionNotAllowed")," "))}const te=function(o){return{background:o}},oe=function(o){return{"requester_fullname-undefined":o}},se=function(o,i){return{"requester-is-online":o,"requester-is-offline":i}};function ie(o,i){if(1&o){const e=n.EpF();n.TgZ(0,"div",25)(1,"div",26)(2,"div",27),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.displayDetails(r))}),n.TgZ(3,"div",28)(4,"div",29)(5,"div",30),n._uU(6),n.qZA(),n._UZ(7,"div",31),n.qZA()()(),n.TgZ(8,"div",32),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.displayDetails(r))}),n.TgZ(9,"div",33)(10,"div",34),n._uU(11),n.ALo(12,"slice"),n.YNc(13,Kn,2,0,"span",5),n.qZA()(),n.TgZ(14,"div",35)(15,"div",36),n._uU(16),n.ALo(17,"amTimeAgo"),n.qZA()(),n.TgZ(18,"div",37),n._UZ(19,"div",38),n.ALo(20,"marked"),n.ALo(21,"htmlEntitiesEncode"),n.qZA(),n.TgZ(22,"div",39)(23,"div",40)(24,"div",41)(25,"button",42),n.NdJ("click",function(s){const l=n.CHM(e).$implicit,c=n.oxw(2);return s.stopPropagation(),n.KtG(c.joinRequest(null==l?null:l.request_id))}),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.TgZ(28,"span",43)(29,"span",44),n._uU(30),n.ALo(31,"translate"),n.qZA(),n._UZ(32,"i"),n.qZA()()(),n.TgZ(33,"div",45)(34,"div",41)(35,"button",46),n.NdJ("click",function(s){const l=n.CHM(e).$implicit,c=n.oxw(2);return s.stopPropagation(),n.KtG(c.archiveRequest(null==l?null:l.request_id,l))}),n._uU(36),n.ALo(37,"translate"),n.qZA(),n.TgZ(38,"span",43),n.YNc(39,ne,3,3,"span",47),n.YNc(40,ee,3,3,"span",47),n._UZ(41,"i"),n.qZA()()()(),n.TgZ(42,"div",48),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.displayDetails(r))}),n.TgZ(43,"div",49)(44,"div",50),n._UZ(45,"span"),n.qZA()()()()()()}if(2&o){const e=i.$implicit,t=n.oxw(2);n.xp6(4),n.Q6J("ngStyle",n.VKq(30,te,"linear-gradient(rgb(255,255,255) -125%,"+(null==e?null:e.requester_fullname_fillColour)+")"))("ngClass",n.VKq(32,oe,!(null!=e&&null!=e.snapshot&&null!=e.snapshot.lead&&e.snapshot.lead.fullname))),n.xp6(2),n.hij(" ",null==e?null:e.requester_fullname_initial," "),n.xp6(1),n.Q6J("ngClass",n.WLB(34,se,null==e?null:e.REQUESTER_IS_ONLINE,!(null!=e&&e.REQUESTER_IS_ONLINE))),n.xp6(4),n.hij(" ",(null==e||null==e.lead||null==e.lead.fullname?null:e.lead.fullname.length)>40?n.Dn7(12,14,null==e||null==e.lead?null:e.lead.fullname,0,37)+"...":null==e||null==e.lead?null:e.lead.fullname," "),n.xp6(2),n.Q6J("ngIf",!(null!=e&&null!=e.lead&&e.lead.fullname)),n.xp6(3),n.hij(" ",n.lcZ(17,18,null==e?null:e.createdAt)," "),n.xp6(3),n.Q6J("innerHTML",n.lcZ(20,20,n.lcZ(21,22,null==e?null:e.first_text)),n.oJD),n.xp6(7),n.hij(" ",n.lcZ(27,24,"Join")," "),n.xp6(4),n.hij(" ",n.lcZ(31,26,"RequestMsgsPage.Enter")," "),n.xp6(5),n.Q6J("disabled",!1===(null==e?null:e.currentUserIsJoined)&&"agent"===t.USER_ROLE),n.xp6(1),n.hij(" ",n.lcZ(37,28,"VisitorsPage.Resolve")," "),n.xp6(3),n.Q6J("ngIf","agent"!==t.USER_ROLE),n.xp6(1),n.Q6J("ngIf","agent"===t.USER_ROLE)}}function re(o,i){if(1&o&&(n.TgZ(0,"div",21)(1,"div",3)(2,"div",22)(3,"h4",23),n._uU(4),n.ALo(5,"translate"),n.qZA()()(),n.YNc(6,ie,46,37,"div",24),n.qZA()),2&o){const e=n.oxw();n.xp6(4),n.AsE(" ",null==e.wsRequestsUnserved?null:e.wsRequestsUnserved.length," ",n.lcZ(5,3,"VisitorsPage.UnservedRequests")," "),n.xp6(2),n.Q6J("ngForOf",e.wsRequestsUnserved)}}const ae=function(o){return{height:o}};function le(o,i){if(1&o){const e=n.EpF();n.TgZ(0,"div",51)(1,"appdashboard-ws-request-detail-for-panel",52),n.NdJ("valueChange",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.handleCloseRightSidebar(s))}),n.qZA()()}if(2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngStyle",n.VKq(3,ae,e.train_bot_sidebar_height))("selectedRequest",e.selectedRequest)("wsRequestsUnserved",e.wsRequestsUnserved)}}a(11373);let ce=(()=>{class o extends q.L{constructor(e,t,s,r,l,c,d,_,b,P,h,S,E,C,H,de){super(r,s,t,e,_,d,h,H,c),this.wsRequestsService=e,this.router=t,this.usersLocalDbService=s,this.botLocalDbService=r,this.auth=l,this.translate=c,this.usersService=d,this.faqKbService=_,this.appConfigService=b,this.departmentService=P,this.notify=h,this.location=S,this.cdref=E,this.contactsService=C,this.logger=H,this.webSocketJs=de,this.unsubscribe$=new D.xQ,this.SHOW_SIMULATE_REQUEST_BTN=!1,this.showSpinner=!0,this.ONLY_MY_REQUESTS=!0,this.i=0,this.user_and_bot_array=[],this.team_ids_array=[],this.filter=[{deptId:null},{agentId:null}],this.hasFiltered=!1,this.displayInternalRequestModal="none",this.showSpinner_createInternalRequest=!1,this.hasClickedCreateNewInternalRequest=!1,this.display_dept_sidebar=!1,this.OPEN_REQUEST_DETAILS=!1,this.zone=new n.R0b({enableLongStackTrace:!1})}ngOnInit(){this.getImageStorage(),this.detectBrowserRefresh(),this.getCurrentProject(),this.getLoggedUser(),this.getTranslations(),this.setPerfectScrollbar(),this.getUserRole()}ngAfterViewInit(){this.getProjectUserRole(),this.cdref.detectChanges(),this.listenToParentPostMessage()}ngOnDestroy(){this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - ngOnDestroy"),this.subscription&&this.subscription.unsubscribe(),this.wsRequestsUnserved&&this.wsRequestsUnserved.forEach(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - ngOnDestroy request",e),e&&e.lead&&this.unsuscribeRequesterPresence(e.lead.lead_id)}),this.unsubscribe$.next(),this.unsubscribe$.complete()}getUserRole(){this.usersService.project_user_role_bs.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - SUBSCRIPTION TO USER ROLE \xbb\xbb\xbb ",e),this.USER_ROLE=e})}joinRequest(e){this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] JOIN-REQUEST request_id",e," - CURRENT-USER-ID ",this.currentUserID),window.parent.postMessage({action:"openJoinConversationModal",parameter:e,calledBy:"ws_unserved_for_panel"},"*")}listenToParentPostMessage(){window.addEventListener("message",e=>{if(this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] message event ",e),e&&e.data&&e.data.action&&e.data.parameter&&e.data.calledBy&&"joinConversation"===e.data.action&&"ws_unserved_for_panel"===e.data.calledBy&&(this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] message event ",e.data.action),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] message parameter ",e.data.parameter),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] currentUserID ",this.currentUserID),this.onJoinHandledinWsRequestsUnsevedForPanel(e.data.parameter,this.currentUserID,"postMessage")),e&&e.data&&e.data.action&&e.data.calledBy&&"hidewidget"===e.data.action&&"unassigned-convs"===e.data.calledBy)try{window&&window.Tiledesk&&(this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - HIDE WIDGET - HERE 1"),window.Tiledesk("onLoadParams",t=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] onLoadParams Initialized!"),window.Tiledesk("setParameter",{key:"autoStart",value:!1}),window.tiledesk_widget_hide(),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL]  window[Tiledesk]",window.Tiledesk)}))}catch(t){this.logger.error("[WS-REQUESTS-UNSERVED-X-PANEL] tiledesk_widget_hide ERROR",t)}})}onJoinHandledinWsRequestsUnsevedForPanel(e,t,s){this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - JOIN PRESSED"),this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - JOIN PRESSED postmessage",s),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] JOIN waiting for service-worker to be ready - current state",this.webSocketJs.ws.readyState),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] JOIN service-worker is ready ",this.webSocketJs.ws.readyState," - run ADD PARTCIPANT"),this.wsRequestsService.addParticipant(e,t).subscribe(r=>{this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - addParticipant TO CHAT GROUP ",r)},r=>{this.logger.error("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - addParticipant TO CHAT GROUP - ERROR ",r)},()=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] JOIN  * COMPLETE *"),this.logger.log("[WS-SHARED][REQUEST-DTLS-X-PANEL][WS-REQUESTS-UNSERVED-X-PANEL][WS-REQUESTS-LIST][SERVED][UNSERVED] - addParticipant TO CHAT GROUP * COMPLETE *"),void 0===s?this.getTranslationsDisplayInAppNotification():this.getTranslationsAndPostMessage()})}archiveRequest(e){this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - HAS CLICKED ARCHIVE REQUEST "),this._closeSupportGroup(e)}_closeSupportGroup(e){this.wsRequestsService.closeSupportGroup(e).subscribe(t=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - CLOSE SUPPORT GROUP - RES ",t)},t=>{this.logger.error("[WS-REQUESTS-UNSERVED-X-PANEL] - CLOSE SUPPORT GROUP - ERROR ",t)},()=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL]- CLOSE SUPPORT GROUP * COMPLETE *")})}unsuscribeRequesterPresence(e){this.wsRequestsService.unsubscribeToWS_RequesterPresence(e)}setPerfectScrollbar(){const e=document.querySelector(".main-content-projects-for-panel");this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] setPerfectScrollbar main-content-projects-for-panel",e),new L.Z(e,{suppressScrollX:!0})}displayDetails(e){this.OPEN_REQUEST_DETAILS=!0,e.lead.email&&!(0,p.vV)(e.lead.email)&&(e.lead.email=null),this.selectedRequest=e,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - displayDetails OPEN_REQUEST_DETAILS? ",this.OPEN_REQUEST_DETAILS,"SELECTED REQUEST ",this.selectedRequest)}handleCloseRightSidebar(e){this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] IS OPEN RIGHT SIDEBAR event",e),this.OPEN_REQUEST_DETAILS=e}getTranslations(){this.translateArchivingRequestErrorMsg(),this.translateArchivingRequestMsg(),this.translateRequestHasBeenArchivedNoticationMsg_part1(),this.translateRequestHasBeenArchivedNoticationMsg_part2()}translateArchivingRequestMsg(){this.translate.get("ArchivingRequestNoticationMsg").subscribe(e=>{this.archivingRequestNoticationMsg=e})}translateArchivingRequestErrorMsg(){this.translate.get("ArchivingRequestErrorNoticationMsg").subscribe(e=>{this.archivingRequestErrorNoticationMsg=e})}translateRequestHasBeenArchivedNoticationMsg_part1(){this.translate.get("RequestSuccessfullyClosed").subscribe(e=>{this.requestHasBeenArchivedNoticationMsg_part1=e})}translateRequestHasBeenArchivedNoticationMsg_part2(){this.translate.get("RequestHasBeenArchivedNoticationMsg_part2").subscribe(e=>{this.requestHasBeenArchivedNoticationMsg_part2=e})}detectBrowserRefresh(){this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - CALLING browserRefresh"),this.browserRefresh=y.JD,this.browserRefresh&&this.listenToRequestsLength()}getProjectUserRole(){this.usersService.project_user_role_bs.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - GET PROJECT-USER ROLE user_role ",e),this.ONLY_MY_REQUESTS=!0,this.getWsRequests$()})}getImageStorage(){if("firebase"===this.appConfigService.getConfig().uploadEngine){this.UPLOAD_ENGINE_IS_FIREBASE=!0;const e=this.appConfigService.getConfig().firebase;this.storageBucket=e.storageBucket,this.imageStorage=this.storageBucket,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] IMAGE STORAGE ",this.storageBucket,"usecase firebase")}else this.UPLOAD_ENGINE_IS_FIREBASE=!1,this.baseUrl=this.appConfigService.getConfig().SERVER_BASE_URL,this.imageStorage=this.baseUrl,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] IMAGE STORAGE ",this.baseUrl,"usecase native")}listenToRequestsLength(){this.subscription=this.wsRequestsService.ws_All_RequestsLength$.pipe((0,u.R)(this.unsubscribe$)).subscribe(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - listenToRequestsLength RECEIVED NEXT wsRequestsList LENGTH",e),0===e?(this.SHOW_SIMULATE_REQUEST_BTN=!0,this.showSpinner=!1,this.SHOW_NO_REQUEST_MSG=!0,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - listenToRequestsLength SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - listenToRequestsLength showSpinner ",this.showSpinner)):e>0&&(this.showSpinner=!1,this.SHOW_NO_REQUEST_MSG=!1,this.SHOW_SIMULATE_REQUEST_BTN=!1,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - listenToRequestsLength SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - listenToRequestsLength showSpinner ",this.showSpinner))})}generateFake(e){const t=[];for(let s=0;s<e;s++)t.push(s);return t}getLoggedUser(){this.auth.user_bs.subscribe(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - GET CURRENT USER ",e),e&&(this.currentUserID=e._id,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - GET CURRENT USER > currentUser ID",this.currentUserID))})}getCurrentProject(){this.auth.project_bs.subscribe(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - GET CURRENT PRJCT - project",e),e&&(this.projectNameFirstLetter=e.name.charAt(0),this.projectId=e._id,this.projectName=e.name)})}parseUserAgent(e){var t=new X.UAParser;return t.setUA(e),t.getResult()}hasmeInAgents(e,t){if(e)for(let s=0;s<e.length;s++)if(this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - hasmeInAgents currentUserID 2 ",this.currentUserID," - THE REQUEST ",t),this.currentUserID===e[s].id_user)return!0}hasmeInParticipants(e){let t=!1;return e.forEach(s=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - hasmeInParticipants  participant",s),s!==this.currentUserID||(t=!0)}),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - hasmeInParticipants",t),t}getWsRequests$(){this.wsRequestsService.wsRequestsList$.pipe((0,u.R)(this.unsubscribe$)).pipe((0,B.T)(1)).subscribe(e=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - subscribe getWsRequests$",e),e&&(this.addDeptObject(e),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - subscribe > if (wsrequests) ",e),this.browserRefresh=y.JD,(!1===this.browserRefresh||!0===this.browserRefresh&&this.wsRequestsService.wsRequestsList$.value.length>0)&&(e.length>0?(this.SHOW_SIMULATE_REQUEST_BTN=!1,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.showSpinner=!1,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - SHOW_SPINNER ",this.showSpinner)):0===e.length&&(this.SHOW_SIMULATE_REQUEST_BTN=!0,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - SHOW_SIMULATE_REQUEST_BTN ",this.SHOW_SIMULATE_REQUEST_BTN),this.showSpinner=!1,this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - SHOW_SPINNER ",this.showSpinner))),!1===this.ONLY_MY_REQUESTS&&(this.ws_requests=e),!0===this.ONLY_MY_REQUESTS&&(this.ws_requests=[],e.forEach(t=>{null!=t&&(!0===this.hasmeInAgents(t.agents,t)||!0===this.hasmeInParticipants(t.participants))&&this.ws_requests.push(t)}))),this.ws_requests&&this.ws_requests.forEach(t=>{const s=this.parseUserAgent(t.userAgent);t.ua_browser=s.browser.name+" "+s.browser.version,t.ua_os=s.os.name+" "+s.os.version,t.currentUserIsJoined=this.currentUserIdIsInParticipants(t.participants,this.auth.user_bs.value._id,t.request_id),200===t.status&&(t.participanting_Agents?this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - PARTICIPATING-AGENTS IS DEFINED"):(this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - PARTICIPATING-AGENTS IS ",t.participanting_Agents," - RUN DO "),t.participanting_Agents=this.doParticipatingAgentsArray(t.participants,t.first_text,this.imageStorage,this.UPLOAD_ENGINE_IS_FIREBASE))),t.lead&&t.lead.fullname?(t.requester_fullname_initial=(0,p.Pb)(t.lead.fullname),t.requester_fullname_fillColour=(0,p.e$)(t.lead.fullname)):(this.getContactById(t),t.requester_fullname_initial="N/A",t.requester_fullname_fillColour="#6264a7"),t.lead&&t.lead.lead_id&&100===t.status&&this.getRequesterAvailabilityStatus(t.lead.lead_id,t),t&&t.first_text&&(t.trimmedFirst_text=t.first_text.length>45?t.first_text.substring(0,42)+"...":t.first_text)}),this.ws_requests&&(this.wsRequestsUnserved=this.ws_requests.filter(t=>100===t.status).sort(function(s,r){return s.createdAt>r.createdAt?-1:s.createdAt<r.createdAt?1:0}),this.wsRequestsServed=this.ws_requests.filter(t=>100!==t.status).sort(function(s,r){return s.createdAt>r.createdAt?-1:s.createdAt<r.createdAt?1:0})),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - getWsRequests$ (served)",this.wsRequestsServed),this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - getWsRequests$ (unserved)",this.wsRequestsUnserved)},e=>{this.logger.error("[WS-REQUESTS-UNSERVED-X-PANEL] - getWsRequests$ - ERROR ",e)},()=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - getWsRequests$  */* COMPLETE */*")})}getContactById(e){this.contactsService.getLeadById(e.lead).subscribe(t=>{t?(this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - GET LEAD BY  ID ",t),e.lead={createdAt:t.createdAt,createdBy:t.createdBy,email:t.email,fullname:t.fullname,id_project:t.id_project,lead_id:t.lead_id,status:t.status,_id:t},e.requester_fullname_initial=(0,p.Pb)(t.fullname),e.requester_fullname_fillColour=(0,p.e$)(t.fullname)):(e.requester_fullname_initial="N/A",e.requester_fullname_fillColour="#6264a7")},t=>{this.logger.error("[WS-REQUESTS-UNSERVED-X-PANEL] - GET LEAD BY  ID - ERROR ",t),e.requester_fullname_initial="N/A",e.requester_fullname_fillColour="#6264a7"},()=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - GET LEAD BY  ID * COMPLETE *")})}getRequesterAvailabilityStatus(e,t){this.logger.log("WS-REQUEST-USVER-FOR-PANEL - GET REQUESTER AVAILABILITY STATUS --- requester_id ",e),this.wsRequestsService.subscribeToWS_RequesterPresence(e),this.getWsRequesterPresence(t,e)}getWsRequesterPresence(e,t){this.wsRequestsService.wsRequesterStatus$.pipe((0,u.R)(this.unsubscribe$)).subscribe(s=>{s&&s.presence&&t===s.uuid_user&&(e.REQUESTER_IS_ONLINE="offline"!==s.presence.status)},s=>{this.logger.error("[WS-REQUESTS-UNSERVED-X-PANEL] - wsRequesterPresence - getWsRequesterPresence user - ERROR ",s)},()=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - wsRequesterPresence - getWsRequesterPresence user *   complete * ")})}checkIfFinished(e){return e.length>0}goBackToProjectsList(){this.router.navigate(["/projects-for-panel"])}addDeptObject(e){this.departmentService.getDeptsByProjectIdToPromise().then(t=>{this.logger.log("[WS-REQUESTS-UNSERVED-X-PANEL] - X-> DEPTS <-X",t),e.forEach(s=>{if(s&&s.department){if(s.department.hasOwnProperty("name")){s.dept=s.department;let l="",c="";s.dept&&(s.dept.name?(l=(0,p.Pb)(s.dept.name),c=(0,p.e$)(s.dept.name)):(l="N/A",c="#eeeeee"),s.dept.dept_name_initial=l,s.dept.dept_name_fillcolour=c)}}else if(s&&s.department){s.dept=this.getDeptObj(s.department._id,t);let r="",l="";s.dept&&(s.dept.name?(r=(0,p.Pb)(s.dept.name),l=(0,p.e$)(s.dept.name)):(r="N/A",l="#eeeeee"),s.dept.dept_name_initial=r,s.dept.dept_name_fillcolour=l)}})})}getDeptObj(e,t){return t.filter(r=>r._id===e)[0]}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(O.z),n.Y36(x.F0),n.Y36(v.P),n.Y36(M.S),n.Y36(T.e),n.Y36(f.sK),n.Y36(U.f),n.Y36(A.M),n.Y36(N._),n.Y36(J.n),n.Y36(w.c),n.Y36(g.Ye),n.Y36(n.sBO),n.Y36(I.P),n.Y36(Z.m),n.Y36(Q.N))},o.\u0275cmp=n.Xpm({type:o,selectors:[["appdashboard-ws-requests-unserved-for-panel"]],viewQuery:function(e,t){if(1&e&&(n.Gf(jn,5),n.Gf(Vn,5)),2&e){let s;n.iGM(s=n.CRH())&&(t.teamContent=s.first),n.iGM(s=n.CRH())&&(t.testwidgetbtnRef=s.first)}},features:[n.qOj],decls:8,vars:5,consts:[["class","selected-project-bar",4,"ngIf"],[1,"main-content","main-content-projects-for-panel",2,"min-height","calc(100% - 40px)"],[1,"container-fluid","container-projects-for-panel"],[1,"row"],["class","stretchspinner",4,"ngIf"],[4,"ngIf"],["class","left-sidebar-unserved-requests-wrapper",4,"ngIf"],["class","view-side",4,"ngIf"],[1,"selected-project-bar"],[1,"flex-container"],[1,"flex-child-project-name"],[1,"project-name-in-unserved-top-bar"],[1,"stretchspinner"],[1,"rect1"],[1,"rect2"],[1,"rect3"],[1,"rect4"],[1,"rect5"],[1,"no-request-msg-wrapper"],["src","assets/img/disconnected from_social_media.svg",1,"img-fluid",2,"max-width","250px","height","auto"],[1,"no-request-msg"],[1,"left-sidebar-unserved-requests-wrapper"],[1,"col-xs-12"],[1,"unserved-for-panel-title"],["class","left-sidebar-unserved-requests",4,"ngFor","ngForOf"],[1,"left-sidebar-unserved-requests"],[1,"grid-container"],[1,"lead-avatar-column",3,"click"],[1,"lead--avatar-wrap"],[1,"lead--avatar",3,"ngStyle","ngClass"],[2,"color","#ffffff"],[1,"requester-status-in-unserved-list",3,"ngClass"],[1,"right-column",3,"click"],[1,"lead-name"],[1,"lead--name"],[1,"time"],[1,"request--creation-time"],[1,"first-msg"],[1,"request--first-message","text-truncated",3,"innerHTML"],[1,"actions-btns"],[1,"join-btn-col"],[1,"tool_tip",2,"width","100%"],[1,"btn","btn-block","btn-primary","action--btn",3,"click"],[1,"top",2,"min-width","fit-content","top","-8px","border-radius","3px","padding","3px 10px","white-space","nowrap"],[2,"text-transform","capitalize"],[1,"archive-btn-col"],[1,"btn","btn-block","btn-primary","action--btn",2,"background-color","#e4e6eb","color","#050505",3,"disabled","click"],["style","text-transform: capitalize;",4,"ngIf"],[1,"arrow-container",2,"display","none",3,"click"],["id","arrow_3",1,"arrow-wrapper"],[1,"arrow","arrow--right"],[1,"view-side"],[3,"ngStyle","selectedRequest","wsRequestsUnserved","valueChange"]],template:function(e,t){1&e&&(n.YNc(0,zn,5,1,"div",0),n.TgZ(1,"div",1)(2,"div",2)(3,"div",3),n.YNc(4,Gn,6,0,"div",4),n.YNc(5,$n,6,3,"div",5),n.YNc(6,re,7,5,"div",6),n.qZA()()(),n.YNc(7,le,2,5,"div",7)),2&e&&(n.Q6J("ngIf",!1===t.OPEN_REQUEST_DETAILS),n.xp6(4),n.Q6J("ngIf",t.showSpinner&&!t.SHOW_NO_REQUEST_MSG),n.xp6(1),n.Q6J("ngIf",!(t.showSpinner||0!==(null==t.wsRequestsUnserved?null:t.wsRequestsUnserved.length)&&t.wsRequestsUnserved)),n.xp6(1),n.Q6J("ngIf",!t.showSpinner&&(null==t.wsRequestsUnserved?null:t.wsRequestsUnserved.length)>0),n.xp6(1),n.Q6J("ngIf",!0===t.OPEN_REQUEST_DETAILS))},dependencies:[g.mk,g.sg,g.O5,g.PC,Bn,g.OU,f.X$,F.r,Y.N,m.eG],styles:['button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  max-width: 0;\n  transition: max-width 0.5s;\n  display: inline-block;\n  vertical-align: top;\n  white-space: nowrap;\n  overflow: hidden;\n}\nbutton[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%] {\n  max-width: 7rem;\n}\n.main-content-projects-for-panel[_ngcontent-%COMP%] {\n  padding-top: 0px;\n  margin-top: 0px !important;\n  padding-bottom: 0px !important;\n  background: var(--card-background-color);\n  position: relative;\n  height: 400px;\n}\n.container-projects-for-panel[_ngcontent-%COMP%] {\n  padding: 0px !important;\n}\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n}\n.msgcontainer[_ngcontent-%COMP%] {\n  border: 2px solid #dedede;\n  background-color: #f1f1f1;\n  border-radius: 5px;\n  padding: 5px;\n  margin: 5px 0;\n  display: inline-block;\n  min-width: 150px;\n  max-width: 350px;\n}\n.msgcontainer[_ngcontent-%COMP%]::after {\n  content: "";\n  clear: both;\n  display: table;\n}\n\n.time-right[_ngcontent-%COMP%] {\n  float: right;\n  color: #aaa;\n}\n.msg_sender[_ngcontent-%COMP%] {\n  position: relative;\n  display: block;\n  z-index: 2;\n  float: left;\n  padding-top: 10px;\n  padding-right: 10px;\n}\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n\n*[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n#fixed-button[_ngcontent-%COMP%] {\n  bottom: 10px;\n  right: 20px;\n  position: absolute;\n}\n.member[_ngcontent-%COMP%] {\n  font-weight: 400;\n}\n.current-user-member[_ngcontent-%COMP%] {\n  font-weight: 400;\n  color: #4caf50;\n}\np.member[_ngcontent-%COMP%]:hover {\n  background-color: #58c1d6;\n  color: #fff;\n  border-radius: 4px;\n}\n.customh4[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.54) !important;\n}\n.customh5[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n  color: #505458;\n  font-size: 14px;\n  font-weight: 600;\n  display: inline-block;\n  margin-right: 10px;\n  line-height: 1.4;\n}\n.card-header[_ngcontent-%COMP%] {\n  background-color: #fff !important;\n  padding-top: 12px !important;\n  padding-bottom: 10px !important;\n  box-shadow: 0 10px 0px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 5px 10px -5px rgba(0, 0, 0, 0.2) !important;\n}\n.dept-request-count[_ngcontent-%COMP%] {\n  border: 2px solid #fff;\n  width: 52px;\n  height: 52px;\n  line-height: 52px;\n  font-size: 26px;\n  margin: 0 auto;\n  border-radius: 5px;\n  display: inline-block;\n  vertical-align: middle;\n  text-transform: uppercase;\n  background-color: #999;\n  color: #fff;\n  text-align: center;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n}\nspan[_ngcontent-%COMP%]   .switch-agent-admin-requests-btn[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-right: 15px;\n  margin-right: 15px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border-radius: 15px;\n}\n.table-head-span[_ngcontent-%COMP%] {\n  color: #566787;\n  font-weight: 700;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 13px;\n}\n.table-body-span[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  color: rgb(118, 149, 165);\n}\n.all-agents-requests-btn[_ngcontent-%COMP%] {\n  background-color: #00bcd4;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.all-agents-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #00bcd4;\n}\n.your-requests-btn[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n  color: #fff;\n  font-size: 11px;\n  padding: 2px 8px;\n  border-radius: 15px;\n  text-transform: uppercase;\n}\n.your-requests-btn[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #4caf50;\n}\n.requester-avatar-for-panel[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  font-size: 16px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  \n  width: 40px;\n  height: 40px;\n  line-height: 31px;\n  position: relative;\n  top: -2px;\n}\n.lead_data-for-panel[_ngcontent-%COMP%] {\n  position: relative;\n  top: -2px;\n  margin-left: 8px;\n  font-size: 14px;\n  font-weight: 400;\n}\n.first-messages-for-panel[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 12px;\n  display: block;\n  margin-left: 52px;\n  margin-top: -21px;\n}\n.text-truncated[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.requester-name--for-panel[_ngcontent-%COMP%] {\n  top: -13px;\n  position: relative;\n}\n.user-agent-wrapper--for-panel[_ngcontent-%COMP%] {\n  position: relative;\n  top: -14px;\n  padding-left: 12px;\n}\n.unserved-request-for-panel-icon[_ngcontent-%COMP%] {\n  font-size: 14px;\n  color: #394f5a;\n  vertical-align: middle;\n  margin-left: 8px;\n}\n.dept-avatar--for-panel[_ngcontent-%COMP%] {\n  padding: 2px;\n  border-radius: 3px;\n  font-size: 10px;\n  font-weight: 400;\n  color: #fff;\n  letter-spacing: 1px;\n}\n.requester_avatar_not_has_email[_ngcontent-%COMP%] {\n  top: -5px;\n}\n.requester_not_has_email[_ngcontent-%COMP%] {\n  top: -2px;\n  position: relative;\n}\n.requester-email[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  line-height: 18px;\n  font-size: 11px;\n  display: block;\n  margin-left: 34px;\n  margin-top: -10px;\n}\n.requester-verified-email[_ngcontent-%COMP%] {\n  position: relative;\n  left: 20px;\n}\n.user-agent-icon[_ngcontent-%COMP%] {\n  color: #7695a5 !important;\n  cursor: pointer !important;\n  font-size: 16px !important;\n  vertical-align: middle !important;\n  margin-right: 5px;\n}\n.requester_fullname-undefined[_ngcontent-%COMP%] {\n  padding: 5px 4px;\n  top: -4px;\n  font-size: 11px;\n}\n.requester_fullname_initial-undefined[_ngcontent-%COMP%] {\n  position: relative;\n  top: -3px;\n}\n.verified-icon-requester-undefined[_ngcontent-%COMP%] {\n  top: -8px !important;\n}\n.requester-verified[_ngcontent-%COMP%] {\n  position: relative;\n  left: -20px;\n}\n\n.tooltipx[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltipx[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  color: #fff;\n  text-align: center;\n  padding: 5px 5px;\n  border-radius: 5px;\n  font-size: 12px !important;\n  \n  position: absolute;\n  z-index: 1;\n  \n  bottom: 100%;\n  left: 50%;\n  margin-left: -60px; \n  box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35);\n  background-color: #394f5a;\n}\n\n.tooltipx[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n}\n.nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%], .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:focus, .nav-pills.nav-pills-info.custom[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover {\n  background-color: #039be5 !important;\n  box-shadow: 0 12px 20px -10px rgba(3, 115, 229, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(3, 115, 229, 0.2) !important;\n}\n.pulse[_ngcontent-%COMP%] {\n  display: block;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 0 rgba(204, 169, 44, 0.4);\n  animation: pulse 2s infinite;\n}\n.pulse[_ngcontent-%COMP%]:hover {\n  animation: none;\n}\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(204, 169, 44, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(204, 169, 44, 0);\n  }\n}\n.huge[_ngcontent-%COMP%] {\n  font-family: "Lato", sans-serif;\n  font-weight: 400;\n}\n.column-th-span[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 500;\n  color: #353f45;\n}\n.card-header-custom[_ngcontent-%COMP%] {\n  box-shadow: none !important;\n  margin-left: 0px;\n  margin-right: 0px;\n  border-bottom: 1px solid #eff3f5;\n}\n.column-td[_ngcontent-%COMP%] {\n  font-size: 12px;\n  font-weight: 400;\n}\n@media (max-width: 991px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    top: -2px !important;\n  }\n}\n@media (max-width: 370px) {\n  .bottom-nav[_ngcontent-%COMP%] {\n    height: 37px !important;\n  }\n  .bottom-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    padding: 6px !important;\n    height: 39px;\n  }\n}\n.tab-active[_ngcontent-%COMP%] {\n  color: #3ea9f5;\n  border-bottom: 3px solid #3ea9f5;\n}\n.ws-requests-list-servedby-avatar[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-top: 1px;\n  margin-bottom: 1px;\n  object-fit: cover;\n}\n.team-container[_ngcontent-%COMP%] {\n  display: flex;\n}\n.team-agent[_ngcontent-%COMP%] {\n  display: inline-block;\n  position: relative;\n  align-items: center;\n  -webkit-box-pack: center;\n  padding: 8px 16px;\n  cursor: pointer;\n}\n.middle[_ngcontent-%COMP%] {\n  float: left;\n  width: 100%;\n  overflow: auto;\n  \n  white-space: nowrap;\n}\n.side[_ngcontent-%COMP%] {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n}\n.right-li[_ngcontent-%COMP%] {\n  float: right !important;\n  padding-top: 10px !important;\n}\n.no_visitor__placeeholder[_ngcontent-%COMP%] {\n  font-size: 1em;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  margin: auto;\n  flex-direction: column;\n  width: 100%;\n  padding: 63px;\n  text-align: center;\n}\n.ua_browser_icon[_ngcontent-%COMP%] {\n  width: 12px;\n}\n.ua-os-icon[_ngcontent-%COMP%] {\n  width: 12px;\n}\n.padding_5[_ngcontent-%COMP%] {\n  padding-top: 8px !important;\n  padding-bottom: 8px !important;\n}\n.project-avatar[_ngcontent-%COMP%] {\n  border-radius: 5px;\n  font-size: 18px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  width: 42px;\n  height: 42px;\n  line-height: 33px;\n  position: relative;\n  color: #1e2129;\n  background-color: #a9abad;\n  text-transform: uppercase;\n  font-family: "Montserrat", sans-serif;\n  font-weight: 500;\n}\n.flex-container[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n}\n.flex-child-project-avatar[_ngcontent-%COMP%] {\n  width: 60px;\n  text-align: center;\n  padding: 8px 0px;\n}\n.flex-child-project-name[_ngcontent-%COMP%] {\n  flex: 1;\n  padding: 8px 0px;\n}\n.flex-child-go-back[_ngcontent-%COMP%] {\n  width: 45px;\n  padding: 8px 0px;\n}\n.project-name-in-unserved-top-bar[_ngcontent-%COMP%] {\n  color: var(--text-color-on-dark);\n  font-family: var(--header-font-family);\n  font-weight: 400;\n  margin-left: 20px;\n}\n.no-request-msg-wrapper[_ngcontent-%COMP%] {\n  flex-direction: column;\n  box-sizing: border-box;\n  display: flex;\n  place-content: center;\n  align-items: center;\n  height: 160px;\n  line-height: 40px;\n  margin: 100px auto;\n}\n.no-request-msg[_ngcontent-%COMP%] {\n  font-size: 18px;\n  color: var(--secondary-text-color);\n  text-align: center;\n  font-family: var(--content-font-family);\n}\n.left-sidebar-unserved-requests-wrapper[_ngcontent-%COMP%] {\n  flex-direction: column;\n  box-sizing: border-box;\n  display: flex;\n}\n.left-sidebar-unserved-requests[_ngcontent-%COMP%] {\n  white-space: normal;\n  text-align: left;\n  letter-spacing: 0.01em;\n  min-height: 88px;\n  padding: 8px 6px;\n  font-weight: 400;\n  border-radius: 0;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n}\n.left-sidebar-unserved-requests[_ngcontent-%COMP%]:hover {\n  background: var(--list-item-input-row-hover-background);\n}\n.left-sidebar-unserved-requests-row[_ngcontent-%COMP%] {\n  flex-direction: row;\n  box-sizing: border-box;\n  display: flex;\n  place-content: center flex-start;\n  align-items: center;\n}\n.left-sidebar-requester-avatar-wrapper[_ngcontent-%COMP%] {\n  place-content: center;\n  align-items: center;\n  flex-direction: row;\n  box-sizing: border-box;\n  display: flex;\n  flex: 0 1 auto;\n  position: relative;\n}\n.left-sidebar-requester-avatar[_ngcontent-%COMP%] {\n  width: 50px;\n  min-width: 50px;\n  height: 50px;\n  line-height: 53px;\n  margin: 0 8px 0 0;\n  border-radius: 50%;\n  font-size: 17px;\n  font-weight: 400;\n  text-align: center;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n}\n.left-sidebar--lead-name-and-request-wrapper[_ngcontent-%COMP%] {\n  flex-direction: row;\n  box-sizing: border-box;\n  display: flex;\n  flex: 1 1 0%;\n  margin-top: -17px;\n}\n.left-sidebar--lead-name-and-request[_ngcontent-%COMP%] {\n  flex-direction: column;\n  box-sizing: border-box;\n  display: flex;\n  place-content: flex-start center;\n  align-items: flex-start;\n  flex: 1 1 0%;\n  padding-right: 4px !important;\n}\n.left-sidebar--lead-name[_ngcontent-%COMP%] {\n  font-size: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n}\n.requester-status-in-unserved-list[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  bottom: 4px;\n  left: 38px;\n  border: 1px solid #fff;\n  border-radius: 50%;\n}\n.requester-is-online[_ngcontent-%COMP%] {\n  background-color: #4caf50;\n}\n.requester-is-offline[_ngcontent-%COMP%] {\n  background-color: #f44336;\n}\n.left-sidebar--request-first-message[_ngcontent-%COMP%] {\n  line-height: normal;\n  font-size: 12px;\n  color: #7695a5;\n  margin-top: 4px;\n  width: 150px;\n}\n.left-sidebar--request-time-wrapper[_ngcontent-%COMP%] {\n  flex-direction: column;\n  box-sizing: border-box;\n  display: flex;\n  place-content: flex-end flex-start;\n  align-items: flex-end;\n}\n.left-sidebar--request-time[_ngcontent-%COMP%] {\n  font-size: 12px;\n  margin-right: 7px;\n}\n.left-sidebar--btns-container[_ngcontent-%COMP%] {\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  margin-top: -3px;\n}\n.left-sidebar--btns-left-column[_ngcontent-%COMP%] {\n  width: 55px;\n  text-align: center;\n  padding: 8px 0px;\n}\n.left-sidebar--btns-center-column[_ngcontent-%COMP%] {\n  flex: 1;\n  padding: 0px 0px;\n}\n.left-sidebar--btns-right-column[_ngcontent-%COMP%] {\n  width: 65px;\n}\n.left-sidebar-btn[_ngcontent-%COMP%] {\n  margin: 0px;\n  box-shadow: unset;\n  text-transform: none;\n  min-width: 75px;\n  padding: 6px;\n}\n.left-sidebar-btn[_ngcontent-%COMP%]:hover {\n  box-shadow: unset;\n  opacity: 0.6;\n}\n.unserved-for-panel-title[_ngcontent-%COMP%] {\n  font-family: var(--header-font-family);\n  font-size: 16px;\n  font-weight: 500;\n  text-transform: lowercase;\n  color: var(--text-color);\n  text-align: center;\n}\n.left-sidebar--btns-right-column[_ngcontent-%COMP%]:hover   #arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  width: 22.624px;\n}\n.selected-project-bar[_ngcontent-%COMP%] {\n  padding-right: 10px;\n  padding-bottom: 0px !important;\n  background: var(--dark-background);\n}\n.arrow-wrapper[_ngcontent-%COMP%] {\n  flex-direction: column;\n  box-sizing: border-box;\n  display: flex;\n  place-content: flex-end flex-start;\n  align-items: flex-end;\n  margin-right: 7px;\n}\n.block[_ngcontent-%COMP%] {\n  margin: 0px 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.arrow-wrapper[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%] {\n  opacity: 1;\n}\n.arrow-container[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover {\n  width: 22.624px !important;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: block;\n  width: 11.315417256px;\n  height: 22.630834512px;\n  position: relative;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before, #arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:after {\n  background: var(--secondary-text-color);\n  content: "";\n  display: block;\n  width: 16px;\n  height: 2px;\n  position: absolute;\n  top: calc(50% - (2px / 2));\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before {\n  transform: rotate(-45deg);\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:after {\n  transform: rotate(45deg);\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  width: 0;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%] {\n  width: 22.624px;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow.arrow--left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #arrow_3[_ngcontent-%COMP%]   .arrow.arrow--left[_ngcontent-%COMP%]:before, #arrow_3[_ngcontent-%COMP%]   .arrow.arrow--left[_ngcontent-%COMP%]:after {\n  left: 0;\n  transform-origin: left 50%;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow.arrow--left[_ngcontent-%COMP%]:before, #arrow_3[_ngcontent-%COMP%]   .arrow.arrow--left[_ngcontent-%COMP%]:after {\n  transition: left 0.3s 0.05s;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow.arrow--left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  transition: width 0.3s, left 0.3s 0.05s;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow.arrow--right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #arrow_3[_ngcontent-%COMP%]   .arrow.arrow--right[_ngcontent-%COMP%]:before, #arrow_3[_ngcontent-%COMP%]   .arrow.arrow--right[_ngcontent-%COMP%]:after {\n  right: 0;\n  transform-origin: right 50%;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow.arrow--right[_ngcontent-%COMP%]:before, #arrow_3[_ngcontent-%COMP%]   .arrow.arrow--right[_ngcontent-%COMP%]:after {\n  transition: right 0.3s 0.05s;\n}\n#arrow_3[_ngcontent-%COMP%]   .arrow.arrow--right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  transition: width 0.3s, right 0.3s 0.05s;\n}\n\n.stretchspinner[_ngcontent-%COMP%] {\n  margin: 100px auto;\n  width: 50px;\n  height: 40px;\n  text-align: center;\n  font-size: 10px;\n  position: absolute;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.stretchspinner[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n  background-color: #3ea9f5;\n  height: 100%;\n  width: 6px;\n  display: inline-block;\n  animation: sk-stretchdelay 1.2s infinite ease-in-out;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%] {\n  animation-delay: -1.1s;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%] {\n  animation-delay: -1s;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%] {\n  animation-delay: -0.9s;\n}\n.stretchspinner[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%] {\n  animation-delay: -0.8s;\n}\n@keyframes sk-stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1);\n    -webkit-transform: scaleY(1);\n  }\n}\n.White__Tooltip[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n.White__Tooltip[_ngcontent-%COMP%]   .White__Tooltiptext[_ngcontent-%COMP%] {\n  visibility: hidden;\n  width: -moz-fit-content;\n  width: fit-content;\n  text-align: center;\n  border-radius: 6px;\n  padding: 4px 6px;\n  position: absolute;\n  z-index: 1;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -60px;\n  line-height: 1.9;\n  \n  opacity: 0;\n  transition: opacity 1s;\n  color: #fff;\n  font-size: 14px;\n  box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35);\n  background-color: #394f5a;\n}\n.White__Tooltip[_ngcontent-%COMP%]:hover   .White__Tooltiptext[_ngcontent-%COMP%] {\n  visibility: visible;\n  opacity: 1;\n}\n.grid-container[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: 60px 1fr;\n  grid-template-rows: 1fr;\n  gap: 1px 1px;\n  grid-template-areas: "lead-avatar-column right-column";\n}\n.lead-avatar-column[_ngcontent-%COMP%] {\n  grid-area: lead-avatar-column;\n}\n.right-column[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  gap: 1px 1px;\n  grid-template-areas: "lead-name lead-name time" "first-msg first-msg first-msg" "actions-btns actions-btns arrow-container";\n  grid-area: right-column;\n  height: 80px;\n}\n.lead-name[_ngcontent-%COMP%] {\n  grid-area: lead-name;\n}\n.time[_ngcontent-%COMP%] {\n  grid-area: time;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.first-msg[_ngcontent-%COMP%] {\n  grid-area: first-msg;\n}\n.actions-btns[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  grid-template-rows: 1fr;\n  gap: 1px 1px;\n  grid-template-areas: "join-btn-col join-btn-col archive-btn-col archive-btn-col";\n  grid-area: actions-btns;\n}\n.join-btn-col[_ngcontent-%COMP%] {\n  grid-area: join-btn-col;\n  padding-right: 18px;\n}\n.archive-btn-col[_ngcontent-%COMP%] {\n  grid-area: archive-btn-col;\n  padding-right: 18px;\n}\n.arrow-container[_ngcontent-%COMP%] {\n  grid-area: arrow-container;\n}\n.lead--avatar-wrap[_ngcontent-%COMP%] {\n  position: relative;\n}\n.lead--avatar[_ngcontent-%COMP%] {\n  width: 50px;\n  min-width: 50px;\n  height: 50px;\n  \n  \n  border-radius: 50%;\n  font-size: 20px;\n  font-weight: 400;\n  \n  font-family: Helvetica Neue, sans-serif;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.lead--name[_ngcontent-%COMP%] {\n  font-size: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: 400;\n  font-family: Helvetica, Helvetica, Arial, sans-serif;\n  margin-top: 4px;\n  color: var(--text-color);\n}\n.request--creation-time[_ngcontent-%COMP%] {\n  font-size: 10px;\n  margin-right: 7px;\n  text-align: right;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: var(--secondary-text-color);\n  font-family: "Helvetica Neue", sans-serif;\n}\n.action--btn[_ngcontent-%COMP%] {\n  margin: 0px;\n  box-shadow: unset;\n  text-transform: none;\n  min-width: 70px;\n  padding: 6px;\n}\n.action--btn[_ngcontent-%COMP%]:hover {\n  box-shadow: unset;\n}\n.action--btn[_ngcontent-%COMP%]:disabled, .action--btn[disabled][_ngcontent-%COMP%] {\n  color: rgba(0, 0, 0, 0.4) !important;\n}\n.request--first-message[_ngcontent-%COMP%] {\n  line-height: normal;\n  color: var(--secondary-text-color);\n  font-size: 12px;\n  font-weight: 400;\n  max-width: 95%;\n}\n@media (max-width: 285px) {\n  .action--btn[_ngcontent-%COMP%] {\n    min-width: 52px;\n  }\n}\n\n.tooltip-ufp[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltip-ufp[_ngcontent-%COMP%]   .tooltiptext-ufp[_ngcontent-%COMP%] {\n  visibility: hidden;\n  width: 150px;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.06);\n  color: #000 !important;\n  text-align: center;\n  padding: 3px 3px;\n  border-radius: 4px;\n  \n  position: absolute;\n  z-index: 1;\n  top: 8px;\n  left: 105%;\n  \n  opacity: 0;\n  transition: opacity 0.3s;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 1.2;\n}\n\n.tooltip-ufp[_ngcontent-%COMP%]   .tooltiptext-ufp[_ngcontent-%COMP%]::after {\n  content: " ";\n  position: absolute;\n  top: 50%;\n  right: 100%; \n  margin-top: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: transparent #fff transparent transparent;\n}\n\n.tooltip-ufp[_ngcontent-%COMP%]:hover   .tooltiptext-ufp[_ngcontent-%COMP%] {\n  visibility: visible;\n  opacity: 1;\n}']}),o})();var ge=a(31449);const pe=[{path:"",component:ce}];let ue=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[x.Bz.forChild(pe),g.ez,ge.m,k.AV,m._G]}),o})()}}]);