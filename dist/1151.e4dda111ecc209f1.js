"use strict";(self.webpackChunkchat21=self.webpackChunkchat21||[]).push([[1151],{61151:(me,b,a)=>{a.r(b),a.d(b,{DepartmentEditAddModule:()=>_e});var p=a(69808),L=a(45148),k=a(69089),A=a(87341),x=a(21805),I=a(44034),C=a(94961),l=a(7623),E=a(26930),T=a(48616),F=a(8929),P=a(7625),H=a(27544),j=a(59444),J=a(66888),O=a(17744),t=a(5e3),D=a(54132),_=a(51062),q=a(1533),v=a(39850),g=a(93075),u=a(24376),S=a(21685);function Y(n,s){1&n&&(t.TgZ(0,"label",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"GroupName")," "))}function Q(n,s){1&n&&(t.TgZ(0,"label",22),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"GroupName")," (",t.lcZ(3,4,"suggested"),") "))}function z(n,s){1&n&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"GroupWithThisNameAlreadyExists")," "))}function V(n,s){1&n&&t._UZ(0,"loading-spinner")}function W(n,s){if(1&n&&t._UZ(0,"img",39),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==e||null==e.id_user?null:e.id_user._id,"%2Fphoto.jpg?alt=media",t.LSH)}}function K(n,s){if(1&n&&t._UZ(0,"img",39),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==e||null==e.id_user?null:e.id_user._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",t.LSH)}}function $(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",26)(2,"div",31)(3,"label")(4,"input",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.addMembersToArray(null==r||null==r.id_user?null:r.id_user._id))}),t.qZA()()()(),t.TgZ(5,"td",33),t.YNc(6,W,1,2,"img",34),t.YNc(7,K,1,2,"img",34),t.TgZ(8,"span",35)(9,"span"),t._uU(10),t.qZA(),t.TgZ(11,"span",36),t._uU(12),t.qZA()()(),t.TgZ(13,"td",37),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"td",38),t._uU(17),t.qZA()()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.xp6(4),t.s9C("value",null==e||null==e.id_user?null:e.id_user._id),t.Q6J("disabled",null==e?null:e.is_group_member)("checked",null==e?null:e.is_group_member),t.xp6(1),t.s9C("title",null==e||null==e.id_user?null:e.id_user._id),t.xp6(1),t.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(1),t.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(3),t.hij(" ",null==e||null==e.id_user?null:e.id_user.firstname," "),t.xp6(2),t.hij(" ",null==e||null==e.id_user?null:e.id_user.lastname," "),t.xp6(2),t.hij(" ",t.lcZ(15,10,null==e?null:e.role)," "),t.xp6(3),t.hij(" ",null==e||null==e.id_user?null:e.id_user.email," ")}}function X(n,s){if(1&n&&(t.TgZ(0,"div",24)(1,"table",25)(2,"thead")(3,"tr")(4,"th",26)(5,"span",27),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"th")(9,"span",28),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"th")(13,"span",27),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"th")(17,"span",27),t._uU(18," Email "),t.qZA()()()(),t.TgZ(19,"tbody",29),t.YNc(20,$,18,12,"tr",30),t.qZA()()()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,4,"GroupsAddEditPage.Select")," "),t.xp6(4),t.hij(" ",t.lcZ(11,6,"Teammate")," "),t.xp6(4),t.hij(" ",t.lcZ(15,8,"GroupsAddEditPage.Role")," "),t.xp6(6),t.Q6J("ngForOf",e.projectUsersList)}}let tt=(()=>{class n{constructor(e,i,o,r,d,c){this.usersService=e,this.groupsService=i,this.appConfigService=o,this.notify=r,this.translate=d,this.logger=c,this.valueChange=new t.vpe,this.groupcreated=new t.vpe,this.showSpinner=!0,this.groupMembersArray=[],this.create_group_and_add_members_btn_disabled=!0,this.group_name_already_exist=!1}ngOnInit(){void 0!==this.deptName_toUpdate&&(this.group_name=this.deptName_toUpdate+" group"),this.getProfileImageStorage(),this.getAllUsersOfCurrentProject(),this.translateCreateGroupMsgs(),this.getGroupsByProjectId()}getGroupsByProjectId(){this.groupsService.getGroupsByProjectId().subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - GET GROUPS RES ",e),e.forEach(i=>{this.deptName_toUpdate+" group"===i.name&&(this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - GET GROUPS - this group name already exist ",this.deptName_toUpdate+" group"),this.group_name_already_exist=!0)})},e=>{this.logger.error("[DEPT-EDIT-ADD - CREATE-GROUP] - GET GROUPS - ERROR ",e)},()=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - GET GROUPS * COMPLETE")})}translateCreateGroupMsgs(){this.translate.get("CreatedGroupSuccessMsg").subscribe(e=>{this.group_created_success_msg=e}),this.translate.get("CreatedGroupErrorMsg").subscribe(e=>{this.group_created_error_msg=e})}ngAfterViewInit(){}getProfileImageStorage(){if("firebase"===this.appConfigService.getConfig().uploadEngine){this.UPLOAD_ENGINE_IS_FIREBASE=!0;const e=this.appConfigService.getConfig().firebase;this.storageBucket=e.storageBucket,this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - IMAGE STORAGE",this.storageBucket,"usecase firebase")}else this.UPLOAD_ENGINE_IS_FIREBASE=!1,this.baseUrl=this.appConfigService.getConfig().SERVER_BASE_URL,this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - IMAGE STORAGE ",this.baseUrl,"usecase native")}closeCreateGroupRightSideBar(){this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - CALLING CLOSE "),this.valueChange.emit(!1)}getAllUsersOfCurrentProject(){this.usersService.getProjectUsersByProjectId().subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - PROJECT-USERS (FILTERED FOR PROJECT ID)",e),e&&(this.projectUsersList=e)},e=>{this.showSpinner=!1,this.logger.error("[DEPT-EDIT-ADD - CREATE-GROUP] - PROJECT USERS (FILTERED FOR PROJECT ID) - ERROR",e)},()=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - PROJECT USERS (FILTERED FOR PROJECT ID) - COMPLETE"),this.showSpinner=!1})}addMembersToArray(e){this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - change - userid",e);let i=this.groupMembersArray.findIndex(o=>o===e);this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] USERID INDEX ",i),-1===i?(this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] here yes 1 push item"),this.groupMembersArray.push(e)):(this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] here yes 2 splice item"),this.groupMembersArray.splice(i,1)),this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - ARRAY OF SELECTED USERS ",this.groupMembersArray),this.groupMembersArray&&(0===this.groupMembersArray.length?(this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP]  - ARRAY OF SELECTED USERS lenght ",this.groupMembersArray.length),this.create_group_and_add_members_btn_disabled=!0):(this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP]  - ARRAY OF SELECTED USERS lenght ",this.groupMembersArray.length),this.create_group_and_add_members_btn_disabled=!1))}onChangeGroupName(e){this.group_name=e,this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - onChangeGroupName ",this.group_name)}createGroupAndAddMembers(){this.groupsService.createGroup(this.group_name).subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP]  - RES ",e),e&&(this.group_name=e.name,this.new_group_id=e._id,this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP]  - new_group_id ",this.new_group_id))},e=>{this.logger.error("[DEPT-EDIT-ADD - CREATE-GROUP]  - ERROR ",e),this.notify.showWidgetStyleUpdateNotification(this.group_created_error_msg,4,"report_problem")},()=>{this.logger.log("CREATE GROUP SIDEBAR  * COMPLETE *"),this.updatedGroupWithSelectedMembers()})}updatedGroupWithSelectedMembers(){this.groupsService.updateGroup(this.new_group_id,this.groupMembersArray).subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - UPDATED GROUP WITH THE USER SELECTED",e),this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - # OF MEMBERS ADDED ",e.members.length)},e=>{this.logger.error("[DEPT-EDIT-ADD - CREATE-GROUP] - UPDATED GROUP WITH THE USER SELECTED - ERROR ",e),this.notify.showWidgetStyleUpdateNotification(this.group_created_error_msg,4,"report_problem")},()=>{this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP]  - UPDATED GROUP WITH THE USER SELECTED * COMPLETE *"),this.notify.showWidgetStyleUpdateNotification(this.group_created_success_msg,2,"done"),this.closeCreateGroupRightSideBarAndEmitGroupCreated()})}closeCreateGroupRightSideBarAndEmitGroupCreated(){this.logger.log("[DEPT-EDIT-ADD - CREATE-GROUP] - CALLING CLOSE "),this.valueChange.emit(!1),this.groupcreated.emit(this.new_group_id)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.f),t.Y36(x.l),t.Y36(E._),t.Y36(I.c),t.Y36(_.sK),t.Y36(T.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["appdashboard-create-group"]],hostVars:1,hostBindings:function(e,i){2&e&&t.d8E("@slideInOutAnimation",void 0)},inputs:{newInnerWidth:"newInnerWidth",deptName_toUpdate:"deptName_toUpdate"},outputs:{valueChange:"valueChange",groupcreated:"groupcreated"},decls:34,vars:19,consts:[[1,"create-group-right-side-bar"],[1,"create-group-right-side-bar-title-wrap"],[1,"create-group-right-side-bar-title"],[1,"material-icons","close-right-side-bar",3,"click"],["lass","create-new-group-note-wpr",2,"margin-top","6px"],[1,"create-new-group-note"],[1,"material-icons",2,"color","#3ea9f5","font-size","18px","position","relative","top","4px"],[2,"font-size","13px","font-weight","400","color","rgba(0,0,0,0.5)"],[1,"row",2,"margin-bottom","15px"],["class","col-xs-12 custom-label-in-sidebar","style","margin-bottom: 0px;",4,"ngIf"],[1,"col-xs-12"],[1,"group-name-input-wrap"],["type","text",1,"input",2,"margin-top","2px","margin-bottom","0px",3,"ngModel","placeholder","ngModelChange"],["class","warning-msg",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"card",2,"margin-top","10px","margin-bottom","0px"],[4,"ngIf"],["class","card-content table-responsive ","style","padding: 10px 10px;",4,"ngIf"],[1,"add-teammates-to-group-wrap"],["type","submit",1,"btn","btn-tdblu-no-boxshadow","pull-right",2,"padding","9px 30px","width","100%",3,"disabled","click"],["searchbtnbottom",""],[1,"col-xs-12","custom-label-in-sidebar",2,"margin-bottom","0px"],[1,"warning-msg"],[1,"card-content","table-responsive",2,"padding","10px 10px"],[1,"table","table-hover","teammates-list-table"],[2,"text-align","center"],[1,"th-right-sidebar-col-title"],[1,"th-right-sidebar-col-title",2,"text-transform","capitalize"],[2,"font-weight","400"],[4,"ngFor","ngForOf"],[1,"checkbox",2,"margin","auto !important"],["type","checkbox",1,"form-check-input",2,"width","16px","height","16px",3,"disabled","checked","value","click"],["rel","tooltip",2,"padding-left","10px",3,"title"],["class","user-img-in-create-group-right-sidebar","onerror","this.src='assets/img/no_image_user.png'",3,"src",4,"ngIf"],[1,"teammate-fullname",2,"font-size","12px"],[2,"text-transform","uppercase"],[2,"padding-left","10px","max-width","150px","font-size","12px"],[2,"padding-left","10px","font-size","12px"],["onerror","this.src='assets/img/no_image_user.png'",1,"user-img-in-create-group-right-sidebar",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"i",3),t.NdJ("click",function(){return i.closeCreateGroupRightSideBar()}),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",4)(8,"div",5)(9,"span",6),t._uU(10," info "),t.qZA(),t.TgZ(11,"h5",7),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"div",8),t.YNc(15,Y,3,3,"label",9),t.YNc(16,Q,4,6,"label",9),t.TgZ(17,"div",10)(18,"div",11)(19,"input",12),t.NdJ("ngModelChange",function(r){return i.group_name=r})("ngModelChange",function(r){return i.onChangeGroupName(r)}),t.ALo(20,"translate"),t.qZA(),t.YNc(21,z,3,3,"span",13),t.qZA()()(),t.TgZ(22,"div",14)(23,"div",15)(24,"div",16),t.YNc(25,V,1,0,"loading-spinner",17),t.YNc(26,X,21,10,"div",18),t.qZA()()(),t.TgZ(27,"div",14)(28,"div",15)(29,"div",19)(30,"button",20,21),t.NdJ("click",function(){return i.createGroupAndAddMembers()}),t._uU(32),t.ALo(33,"translate"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,11,"DeptsAddEditPage.orCreateAGroup")," "),t.xp6(9),t.hij("",t.lcZ(13,13,"TheNewGroupCreatedCanAlso")," "),t.xp6(3),t.Q6J("ngIf",!i.deptName_toUpdate),t.xp6(1),t.Q6J("ngIf",i.deptName_toUpdate),t.xp6(3),t.s9C("placeholder",t.lcZ(20,15,"EnterTheGroupName")),t.Q6J("ngModel",i.group_name),t.xp6(2),t.Q6J("ngIf",i.group_name_already_exist),t.xp6(4),t.Q6J("ngIf",i.showSpinner),t.xp6(1),t.Q6J("ngIf",!i.showSpinner),t.xp6(4),t.Q6J("disabled",i.create_group_and_add_members_btn_disabled||!i.group_name||0===(null==i.group_name?null:i.group_name.length)),t.xp6(2),t.hij(" ",t.lcZ(33,17,"GroupsAddEditPage.CreateGroup")," "))},dependencies:[p.sg,p.O5,v.g,g.Fj,g.JJ,g.On,_.X$],styles:['.group-name-input-wrap[_ngcontent-%COMP%]    > input[type=text][_ngcontent-%COMP%] {\n  height: 36px;\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #fff;\n  border: 1px solid #e5effe !important;\n  padding: 0 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 3px;\n  background-color: #fff !important;\n}\n\n.create-group-right-side-bar[_ngcontent-%COMP%] {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  max-width: 90%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background: #fff;\n  padding-top: 15px;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-bottom: 15px;\n}\n\n.create-group-right-side-bar-title-wrap[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #eeeeee;\n  background-color: #3c4252 !important;\n  color: #fff !important;\n  margin-left: -20px;\n  margin-right: -20px;\n  margin-top: -15px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.create-group-right-side-bar-title[_ngcontent-%COMP%] {\n  font-weight: 400;\n  text-transform: none;\n  margin-top: 0px;\n  font-size: 16px;\n  padding-top: 15px;\n  padding-left: 8px;\n  text-transform: uppercase;\n}\n\n.close-right-side-bar[_ngcontent-%COMP%] {\n  float: right;\n  cursor: pointer;\n  background-color: rgba(255, 255, 255, 0.1);\n  margin-right: 11px;\n  border-radius: 50%;\n  padding: 5px;\n  position: relative;\n  top: -5px;\n}\n\n.close-right-side-bar[_ngcontent-%COMP%]:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\n.th-right-sidebar-col-title[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n@media screen and (max-width: 767px) {\n  .table-responsive[_ngcontent-%COMP%] {\n    border: unset !important;\n  }\n}\n\n.teammates-list-table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n  padding-top: 6px;\n  padding-bottom: 6px !important;\n}\n\n.custom-label-in-sidebar[_ngcontent-%COMP%] {\n  color: #303f9f;\n  padding-top: 16px;\n}\n\n.warning-msg[_ngcontent-%COMP%] {\n  color: #f44336;\n  font-size: 12px;\n}\n\n.create-new-group-note[_ngcontent-%COMP%] {\n  display: table;\n}\n\n.create-new-group-note[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .create-new-group-note[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\n  display: table-cell;\n}\n\n.user-img-in-create-group-right-sidebar[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-right: 3px;\n  object-fit: cover;\n}'],data:{animation:[S.Jx]}}),n})();const R=function(n,s,e){return{"col-sm-12 col-md-3":n,"col-sm-12 col-md-4":s,is_hidden:e}},Z=function(n,s,e){return{"col-sm-12 col-md-3":n,"col-sm-12 col-md-4":s,"col-sm-6 col-md-6":e}};let et=(()=>{class n{constructor(e,i,o,r){this.appConfigService=e,this.brandService=i,this.auth=o,this.logger=r,this.valueChange=new t.vpe;const d=i.getBrand();this.tparams=d}ngOnInit(){this.getCurrentProject(),this.getOSCODE()}getCurrentProject(){this.auth.project_bs.subscribe(e=>{e&&(this.projectId=e._id)})}getOSCODE(){this.public_Key=this.appConfigService.getConfig().t2y12PruGU9wUtEGzBJfolMIgK,this.logger.log("[DEPT-EDIT-ADD - CREATE-BOT] AppConfigService getAppConfig public_Key",this.public_Key),this.public_Key.split("-").forEach(i=>{i.includes("DGF")&&(this.dgfIsVisible="F"!==i.split(":")[1]),i.includes("NAT")&&(this.natIsVisible="F"!==i.split(":")[1])})}openExternalBotIntegrationTutorial(){window.open("https://developer.tiledesk.com/apis/tutorials/connect-your-own-chatbot","_blank")}closeCreateBotRightSideBar(){this.logger.log("[DEPT-EDIT-ADD - CREATE-BOT] - CALLING CLOSE "),this.valueChange.emit(!1)}goToCreateBot(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E._),t.Y36(O.c),t.Y36(A.e),t.Y36(T.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["appdashboard-create-bot"]],hostVars:1,hostBindings:function(e,i){2&e&&t.d8E("@slideInOutAnimation",void 0)},outputs:{valueChange:"valueChange"},decls:113,vars:49,consts:[[1,"create-bot-right-side-bar"],[1,"create-bot-right-side-bar-title-wrap"],[1,"create-bot-right-side-bar-title"],[1,"material-icons","close-right-side-bar",3,"click"],[1,"row"],[1,"col-sm-12"],[2,"font-size","16px","line-height","28px","color","rgba(0,0,0,.54)","margin-bottom","0px","font-weight","400"],[1,"col-xs-6"],[1,"card","bot-card","tool_tip",3,"click"],[1,"card-content",2,"text-align","center"],[1,"bot-image"],["version","1.1","id","Livello_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 189.9 189.9",0,"xml","space","preserve",2,"enable-background","new 0 0 189.9 189.9","width","60px","height","60px"],["type","text/css"],["d","M78.5,86h24v24h-24V86z",1,"extlogo_st0"],["d","M114.6,76.4c16.6,16.6,16.4,43.3,0.1,59.6c0,0-0.1,0.1-0.1,0.1l-18.7,18.7c-16.5,16.5-43.3,16.5-59.7,0\n              c-16.5-16.5-16.5-43.3,0-59.7l10.3-10.3c2.7-2.7,7.4-0.9,7.6,2.9c0.2,4.9,1.1,9.9,2.7,14.7c0.6,1.6,0.2,3.4-1.1,4.6l-3.6,3.6\n              c-7.8,7.8-8,20.5-0.3,28.3c7.8,7.9,20.6,8,28.4,0.1l18.7-18.7c7.8-7.8,7.8-20.5,0-28.3c-1-1-2.1-1.8-2.9-2.4\n              c-1.2-0.8-1.9-2.1-1.9-3.5c-0.1-2.9,0.9-6,3.3-8.3l5.9-5.9c1.5-1.5,3.9-1.7,5.7-0.5C111,73,112.9,74.6,114.6,76.4L114.6,76.4z",1,"extlogo_st1"],["d","M153.8,37.2c-16.5-16.5-43.3-16.5-59.7,0L75.4,55.9c0,0-0.1,0.1-0.1,0.1C59,72.4,58.8,99,75.4,115.6\n              c1.8,1.8,3.7,3.4,5.7,4.8c1.8,1.2,4.2,1.1,5.7-0.5l5.9-5.9c2.3-2.3,3.4-5.3,3.3-8.3c-0.1-1.4-0.8-2.7-1.9-3.5\n              c-0.8-0.6-1.8-1.4-2.9-2.4c-7.8-7.8-7.8-20.5,0-28.3l18.7-18.7c7.8-7.8,20.7-7.8,28.4,0.1c7.7,7.9,7.5,20.5-0.3,28.3l-3.6,3.6\n              c-1.2,1.2-1.6,3-1.1,4.6c1.6,4.8,2.5,9.7,2.7,14.7c0.1,3.9,4.9,5.7,7.6,2.9l10.3-10.3C170.3,80.5,170.3,53.7,153.8,37.2L153.8,37.2\n              z",1,"extlogo_st1"],[1,"bot-type-title"],[1,"bottom",2,"top","125px","min-width","145px"],[2,"color","#03a5e8","text-decoration","underline","cursor","pointer",3,"click"],[3,"ngClass"],["points","94.9,23.8 23.8,23.8 23.8,166.1 166.1,166.1 166.1,94.9 94.9,94.9 ",1,"tdlogo_st0"],["id","SVGID_1_","d","M159.9,40.5L101.1,6.5c-3.8-2.2-8.5-2.2-12.3,0L30,40.5c-3.8,2.2-6.1,6.3-6.2,10.7V119\n                  c0,4.4,2.3,8.5,6.2,10.7l29.4,17v34.7c0,2,1.7,3.7,3.7,3.7c0.6,0,1.3-0.2,1.8-0.5l95-54.8c3.8-2.2,6.2-6.3,6.1-10.7V51.1\n                  C166.1,46.7,163.7,42.7,159.9,40.5L159.9,40.5z"],["id","SVGID_2_"],[0,"xlink","href","#SVGID_1_",2,"overflow","visible"],[1,"dflogo_st0"],["d","M166,44L95,85.1L23.8,44v82.1l35.6,20.5v41.1L166,126.1V44z",1,"dflogo_st1"],["d","M95,85.1L23.8,44L95,3L166,44L95,85.1z",1,"dflogo_st2"],["d","M93.7,83.8L24.3,43.8L23.8,44l71.1,41L166,44l-1.7-1L93.7,83.8z",1,"dflogo_st2"],["d","M95,85.6v-0.5L24.3,44.3l-0.5,0.3L95,85.6z",1,"dflogo_st2"],["version","1.1","id","Livello_1","focusable","false","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 640 512",0,"xml","space","preserve",2,"enable-background","new 0 0 640 512","width","60px","height","60px"],["x","192","y","384","width","64","height","32"],["x","288","y","384","width","64","height","32"],["x","384","y","384","width","64","height","32"],["d","M576,224h-32v-48c0,0,0,0,0-0.1c0-44.2-35.8-80-80-79.9H352V32c0-17.7-14.3-32-32-32c-17.7,0-32,14.3-32,32v64H176\n            c0,0,0,0-0.1,0c-44.2,0-80,35.8-79.9,80v48H64c0,0-0.1,0-0.1,0C46.3,224,32,238.3,32,256v128c0,0,0,0.1,0,0.1\n            c0,17.7,14.3,31.9,32,31.9h32v32c0,35.3,28.7,64,64,64h320c35.3,0,64-28.7,64-64v-32h32c0,0,0.1,0,0.1,0c17.7,0,31.9-14.3,31.9-32\n            V256c0,0,0-0.1,0-0.1C608,238.3,593.7,224,576,224z M264,256c0,22.1-17.9,40-40,40c-22.1,0-40-17.9-40-40s17.9-40,40-40\n            S264,233.9,264,256C264,256,264,256,264,256z M456,256c0,22.1-17.9,40-40,40c-22.1,0-40-17.9-40-40s17.9-40,40-40\n            C438.1,216,456,233.9,456,256C456,256,456,256,456,256z",1,"identitybot_st0"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"i",3),t.NdJ("click",function(){return i.closeCreateBotRightSideBar()}),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",4)(8,"div",5)(9,"h1",6),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",4)(13,"div",7)(14,"div",8),t.NdJ("click",function(){return i.goToCreateBot("external")}),t.TgZ(15,"div",9)(16,"div",10),t.O4$(),t.TgZ(17,"svg",11)(18,"style",12),t._uU(19," .extlogo_st0 { fill: none; } .extlogo_st1 { fill: #03A5E8; } "),t.qZA(),t._UZ(20,"path",13),t.TgZ(21,"g"),t._UZ(22,"path",14)(23,"path",15),t.qZA()()(),t.kcU(),t.TgZ(24,"h4",16),t._uU(25," External "),t.qZA()(),t.TgZ(26,"div",17),t._uU(27),t.ALo(28,"translate"),t.TgZ(29,"span",18),t.NdJ("click",function(r){return r.stopPropagation(),i.openExternalBotIntegrationTutorial()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"i"),t.qZA()()(),t._UZ(33,"div",7),t.qZA(),t.TgZ(34,"div",4),t._UZ(35,"div",7)(36,"div",7),t.qZA(),t.TgZ(37,"div",4)(38,"div",19)(39,"div",8),t.NdJ("click",function(){return i.goToCreateBot("native")}),t.TgZ(40,"div",9)(41,"div",10),t.O4$(),t.TgZ(42,"svg",11)(43,"style",12),t._uU(44," .tdlogo_st0 { fill: #EF806E; } "),t.qZA(),t._UZ(45,"polygon",20),t.qZA()(),t.kcU(),t.TgZ(46,"h4",16),t._uU(47," Native "),t.qZA()(),t.TgZ(48,"div",17),t._uU(49),t.ALo(50,"translate"),t._UZ(51,"i"),t.qZA()()(),t.TgZ(52,"div",19)(53,"div",8),t.NdJ("click",function(){return i.goToCreateBot("dialogflow")}),t.TgZ(54,"div",9)(55,"div",10),t.O4$(),t.TgZ(56,"svg",11)(57,"style",12),t._uU(58," .dflogo_st0 { clip-path: url(#SVGID_2_); } .dflogo_st1 { fill: #EF6C00; } .dflogo_st2 { fill: #FF9800; } "),t.qZA(),t.TgZ(59,"g")(60,"defs"),t._UZ(61,"path",21),t.qZA(),t.TgZ(62,"clipPath",22),t._UZ(63,"use",23),t.qZA(),t.TgZ(64,"g",24),t._UZ(65,"path",25),t.TgZ(66,"g"),t._UZ(67,"path",26)(68,"path",27)(69,"path",28),t.qZA()()()()(),t.kcU(),t.TgZ(70,"h4",16),t._uU(71," Dialogflow "),t.qZA()(),t.TgZ(72,"div",17),t._uU(73),t.ALo(74,"translate"),t._UZ(75,"i"),t.qZA()()(),t.TgZ(76,"div",19)(77,"div",8),t.NdJ("click",function(){return i.goToCreateBot("external")}),t.TgZ(78,"div",9)(79,"div",10),t.O4$(),t.TgZ(80,"svg",11)(81,"style",12),t._uU(82," .extlogo_st0 { fill: none; } .extlogo_st1 { fill: #03A5E8; } "),t.qZA(),t._UZ(83,"path",13),t.TgZ(84,"g"),t._UZ(85,"path",14)(86,"path",15),t.qZA()()(),t.kcU(),t.TgZ(87,"h4",16),t._uU(88," External "),t.qZA()(),t.TgZ(89,"div",17),t._uU(90),t.ALo(91,"translate"),t.TgZ(92,"span",18),t.NdJ("click",function(r){return r.stopPropagation(),i.openExternalBotIntegrationTutorial()}),t._uU(93),t.ALo(94,"translate"),t.qZA(),t._UZ(95,"i"),t.qZA()()(),t.TgZ(96,"div",19)(97,"div",8),t.NdJ("click",function(){return i.goToCreateBot("identity")}),t.TgZ(98,"div",9)(99,"div",10),t.O4$(),t.TgZ(100,"svg",29)(101,"style",12),t._uU(102," .identitybot_st0 { fill: #DF5509; } "),t.qZA(),t._UZ(103,"rect",30)(104,"rect",31)(105,"rect",32)(106,"path",33),t.qZA()(),t.kcU(),t.TgZ(107,"h4",16),t._uU(108," Identity Bot "),t.qZA()(),t.TgZ(109,"div",17),t._uU(110),t.ALo(111,"translate"),t._UZ(112,"i"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,13,"DeptsAddEditPage.orCreateABot")," "),t.xp6(7),t.hij(" ",t.lcZ(11,15,"ChooseBotType")," "),t.xp6(17),t.hij(" ",t.xi3(28,17,"UseYourFavouriteTechnology...",i.tparams)," "),t.xp6(3),t.hij(" ",t.lcZ(31,20,"GetStartedTutorial")," "),t.xp6(8),t.Q6J("ngClass",t.kEZ(33,R,!0===i.dgfIsVisible&&!0===i.natIsVisible,!1===i.dgfIsVisible&&!0===i.natIsVisible,!1===i.natIsVisible)),t.xp6(11),t.hij(" ",t.lcZ(50,22,"OurNativeEasyAndPowerfulNLPChatbot")," "),t.xp6(3),t.Q6J("ngClass",t.kEZ(37,R,!0===i.dgfIsVisible&&!0===i.natIsVisible,!0===i.dgfIsVisible&&!1===i.natIsVisible,!1===i.dgfIsVisible)),t.xp6(21),t.hij(" ",t.lcZ(74,24,"UseDialogflowToTrainYourBot...")," "),t.xp6(3),t.Q6J("ngClass",t.kEZ(41,Z,!0===i.dgfIsVisible&&!0===i.natIsVisible,!1===i.natIsVisible&&!0===i.dgfIsVisible||!0===i.natIsVisible&&!1===i.dgfIsVisible,!1===i.dgfIsVisible&&!1===i.natIsVisible)),t.xp6(14),t.hij(" ",t.xi3(91,26,"UseYourFavouriteTechnology...",i.tparams)," "),t.xp6(3),t.hij(" ",t.lcZ(94,29,"GetStartedTutorial")," "),t.xp6(3),t.Q6J("ngClass",t.kEZ(45,Z,!0===i.dgfIsVisible&&!0===i.natIsVisible,!1===i.natIsVisible&&!0===i.dgfIsVisible||!0===i.natIsVisible&&!1===i.dgfIsVisible,!1===i.dgfIsVisible&&!1===i.natIsVisible)),t.xp6(14),t.hij(" ",t.lcZ(111,31,"AnIdentityBotRepresents")," "))},dependencies:[p.mk,_.X$],styles:['.create-bot-right-side-bar[_ngcontent-%COMP%] {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  max-width: 90%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background: #fff;\n  padding-top: 15px;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-bottom: 15px;\n}\n\n.create-bot-right-side-bar-title-wrap[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #eeeeee;\n  background-color: #3c4252 !important;\n  color: #fff !important;\n  margin-left: -20px;\n  margin-right: -20px;\n  margin-top: -15px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.create-bot-right-side-bar-title[_ngcontent-%COMP%] {\n  font-weight: 400;\n  text-transform: none;\n  margin-top: 0px;\n  font-size: 16px;\n  padding-top: 15px;\n  padding-left: 8px;\n  text-transform: uppercase;\n}\n\n.close-right-side-bar[_ngcontent-%COMP%] {\n  float: right;\n  cursor: pointer;\n  background-color: rgba(255, 255, 255, 0.1);\n  margin-right: 11px;\n  border-radius: 50%;\n  padding: 5px;\n  position: relative;\n  top: -5px;\n}\n\n.close-right-side-bar[_ngcontent-%COMP%]:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\n.bot-type-title[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-weight: 400;\n  margin-top: 8px;\n  font-size: 16px;\n}\n\n.is_hidden[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.bot-card[_ngcontent-%COMP%] {\n  width: 130px;\n}'],data:{animation:[S.Jx]}}),n})();var U=a(28348);const nt=["navbarbrand"];function it(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Settings")," "))}function ot(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DeptsAddEditPage.AddDept")," "))}function st(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DeptsAddEditPage.EditDept")," "))}function rt(n,s){1&n&&t._UZ(0,"loading-spinner")}const at=function(n){return{"input-dept-name-disbled":n}};function lt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"section")(1,"div",66)(2,"label",33),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",67)(6,"input",68),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.deptName_toUpdate=o)})("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onChangeDeptName(o))}),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",10)(9,"label",33),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",34)(13,"textarea",69),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.dept_description_toUpdate=o)})("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onChangeDeptDescription(o))}),t.ALo(14,"translate"),t._uU(15," "),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,8,"Name")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(7,10,"DeptsAddEditPage.DeptName")),t.Q6J("ngModel",e.deptName_toUpdate)("ngClass",t.VKq(16,at,!0===e.IS_DEFAULT_DEPT))("disabled",!0===e.IS_DEFAULT_DEPT),t.xp6(4),t.hij(" ",t.lcZ(11,12,"DeptsAddEditPage.Description")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(14,14,"DeptsAddEditPage.Description")),t.Q6J("ngModel",e.dept_description_toUpdate)}}function dt(n,s){1&n&&(t.TgZ(0,"section")(1,"div",10)(2,"div",28)(3,"h4",70),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",10)(7,"div",28)(8,"div",71)(9,"i",2),t._uU(10,"info "),t.qZA(),t.TgZ(11,"span",72),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,2,"RoutingPage.SettingUpTileDeskRoutingRules_2")," "),t.xp6(8),t.hij(" ",t.lcZ(13,4,"RoutingPage.TheFollowingRules"),""))}function pt(n,s){1&n&&t._uU(0),2&n&&t.hij(" ",s.item.name," ")}function gt(n,s){if(1&n&&(t.TgZ(0,"div",74),t._uU(1),t.qZA()),2&n){const e=t.oxw().item;t.xp6(1),t.hij(" ",e.description," ")}}function ct(n,s){if(1&n&&(t.TgZ(0,"b"),t._uU(1),t.qZA(),t.YNc(2,gt,2,1,"div",73)),2&n){const e=s.item;t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.description)}}function _t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openCreateGroupRightSideBar())}),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"DeptsAddEditPage.SelectAnExistingOne")," "),t.xp6(3),t.hij(" ",t.lcZ(5,4,"DeptsAddEditPage.orCreateAGroup")," "))}function ht(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span")(1,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.createDepartment())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",(null==e.deptName_toUpdate?null:e.deptName_toUpdate.length)<2||!0===e.BOT_NOT_SELECTED),t.xp6(1),t.hij(" ",t.lcZ(3,2,"DeptsAddEditPage.CreateDept")," ")}}function ut(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span")(1,"button",78),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.createDepartment())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",(null==e.deptName_toUpdate?null:e.deptName_toUpdate.length)<2),t.xp6(1),t.hij(" ",t.lcZ(3,2,"DeptsAddEditPage.CreateDept")," ")}}function Et(n,s){if(1&n&&(t.TgZ(0,"div",10)(1,"div",30),t.YNc(2,ht,4,4,"span",3),t.YNc(3,ut,4,4,"span",3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!0===e.has_selected_bot),t.xp6(1),t.Q6J("ngIf",!0!==e.has_selected_bot)}}function Tt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span")(1,"button",79),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.edit())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",!0===e.BOT_NOT_SELECTED),t.xp6(1),t.hij(" ",t.lcZ(3,2,"DeptsAddEditPage.UpdateDept")," ")}}function Dt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span")(1,"button",79),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.edit())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.GROUP_ID_NOT_EXIST),t.xp6(1),t.hij(" ",t.lcZ(3,2,"DeptsAddEditPage.UpdateDept")," ")}}function mt(n,s){if(1&n&&(t.TgZ(0,"div",10)(1,"div",30),t.YNc(2,Tt,4,4,"span",3),t.YNc(3,Dt,4,4,"span",3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!0===e.has_selected_bot),t.xp6(1),t.Q6J("ngIf",!0!==e.has_selected_bot)}}const w=function(n){return{"rule-active":n}};function ft(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.YNc(1,lt,16,18,"section",3),t.YNc(2,dt,14,6,"section",3),t.TgZ(3,"div",10)(4,"div",18)(5,"div",10)(6,"div",19)(7,"h3",20)(8,"span",21),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",22)(12,"div",23)(13,"input",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.has_clicked_bot(o.has_selected_bot=!o.has_selected_bot))}),t.qZA(),t.TgZ(14,"label",25),t._UZ(15,"span",26)(16,"span",27),t.qZA()()(),t.TgZ(17,"div",28),t._UZ(18,"div",29),t.qZA()(),t.TgZ(19,"div",10)(20,"div",30)(21,"div",31)(22,"span",32),t._uU(23),t.ALo(24,"translate"),t.qZA()()()(),t.TgZ(25,"div",10)(26,"label",33),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",34)(30,"ng-select",35),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedBotId=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._setSelectedBot())}),t.ALo(31,"translate"),t.YNc(32,pt,1,1,"ng-template",36),t.YNc(33,ct,3,2,"ng-template",37),t.qZA(),t.TgZ(34,"span",38),t._uU(35),t.ALo(36,"translate"),t.TgZ(37,"span",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goTo_BotEditAddPage_CREATE())}),t._uU(38),t.ALo(39,"translate"),t.qZA()()()(),t.TgZ(40,"div",10)(41,"div",28)(42,"h3",40)(43,"span",21),t._uU(44),t.ALo(45,"translate"),t.qZA()()(),t.TgZ(46,"div",28),t._UZ(47,"div",29),t.qZA()(),t.TgZ(48,"section")(49,"div",10)(50,"div",30)(51,"div",31)(52,"span",41),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",42)(56,"span",43),t._uU(57," Assigned: "),t.qZA(),t.TgZ(58,"span",44),t._uU(59),t.ALo(60,"translate"),t.qZA()(),t.TgZ(61,"div",45)(62,"span",43),t._uU(63," Pooled: "),t.qZA(),t.TgZ(64,"span",44),t._uU(65),t.ALo(66,"translate"),t.TgZ(67,"span",46),t._uU(68),t.ALo(69,"translate"),t.qZA()()()()()(),t.TgZ(70,"div",47)(71,"div",28)(72,"div",48)(73,"div",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.has_clicked_assigned(o.show_group_option_form="true",o.show_option_form="false",o.routing="assigned"))}),t.TgZ(74,"div",50)(75,"div",51),t.O4$(),t.TgZ(76,"svg",52),t._UZ(77,"path",53)(78,"path",54),t.qZA()(),t.kcU(),t.TgZ(79,"div",55),t._uU(80," Assigned "),t.qZA(),t.TgZ(81,"div",56),t._uU(82),t.ALo(83,"translate"),t.qZA()()(),t.TgZ(84,"div",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.has_clicked_pooled(o.show_group_option_form="true",o.show_option_form="false",o.routing="pooled"))}),t.TgZ(85,"div",50)(86,"div",51),t.O4$(),t.TgZ(87,"svg",57)(88,"g"),t._UZ(89,"rect",58),t.qZA(),t.TgZ(90,"g")(91,"g"),t._UZ(92,"path",59),t.qZA()()()(),t.kcU(),t.TgZ(93,"div",55),t._uU(94," Pooled "),t.qZA(),t.TgZ(95,"div",56),t._uU(96),t.ALo(97,"translate"),t.qZA()()()()()(),t.TgZ(98,"div",60)(99,"label",61),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"div",34)(103,"ng-select",62),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._setSelectedGroup())})("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedGroupId=o)}),t.ALo(104,"translate"),t.qZA(),t.YNc(105,_t,6,6,"span",63),t.qZA()()()()(),t.TgZ(106,"div",10),t._UZ(107,"div",64),t.qZA(),t.YNc(108,Et,4,2,"div",65),t.YNc(109,mt,4,2,"div",65),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!0!==e.IS_DEFAULT_DEPT),t.xp6(1),t.Q6J("ngIf",!0===e.IS_DEFAULT_DEPT),t.xp6(7),t.hij(" ",t.lcZ(10,33,"RoutingPage.ActivateBOT")," "),t.xp6(4),t.Q6J("checked",e.has_selected_bot),t.xp6(10),t.hij(" ",t.lcZ(24,35,"DeptsAddEditPage.SelectABotThatWill")," "),t.xp6(4),t.hij(" ",t.lcZ(28,37,"AIAgent")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(31,39,"DeptsAddEditPage.SelectABot")),t.Q6J("items",e.botsList)("ngModel",e.selectedBotId)("searchable",!1)("clearable",!1)("loading",e.loadingBot)("disabled",!1===e.has_selected_bot),t.xp6(5),t.hij(" ",t.lcZ(36,41,"DeptsAddEditPage.SelectAnExistingOne")," "),t.xp6(3),t.hij(" ",t.lcZ(39,43,"DeptsAddEditPage.orCreateABot")," "),t.xp6(6),t.hij(" ",t.lcZ(45,45,"RoutingPage.RoutingRules")," "),t.xp6(9),t.hij(" ",t.lcZ(54,47,"DeptsAddEditPage.SetRoutingRules")," "),t.xp6(6),t.hij(" ",t.lcZ(60,49,"QuickTipsAssigned")," "),t.xp6(6),t.hij(" ",t.lcZ(66,51,"QuickTipsPooled_1")," "),t.xp6(3),t.hij(" ",t.lcZ(69,53,"QuickTipsPooled_2")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(63,w,"assigned"===e.dept_routing)),t.xp6(9),t.hij(" ",t.lcZ(83,55,"DeptsAddEditPage.AutomaticallyAssign")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(65,w,"pooled"===e.dept_routing)),t.xp6(12),t.hij(" ",t.lcZ(97,57,"DeptsAddEditPage.AgentsAreNotified")," "),t.xp6(4),t.hij(" ",t.lcZ(101,59,"DeptsAddEditPage.AssignTo")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(104,61,"DeptsAddEditPage.AllUsers")),t.Q6J("ngModel",e.selectedGroupId)("items",e.groupsList)("searchable",!1)("clearable",!0),t.xp6(2),t.Q6J("ngIf",e.isVisibleGroups),t.xp6(3),t.Q6J("ngIf",e.CREATE_VIEW),t.xp6(1),t.Q6J("ngIf",e.EDIT_VIEW)}}const M=function(n){return{"sidebar-hidden-767":n}};function bt(n,s){if(1&n&&(t.TgZ(0,"div",80)(1,"div",12)(2,"div",81)(3,"div",10)(4,"div",82)(5,"h3",83)(6,"span",21),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",82),t._UZ(10,"div",84),t.qZA()(),t.TgZ(11,"p",85),t._uU(12," Assigned "),t.qZA(),t.TgZ(13,"p",86),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"p",85),t._uU(17," Pooled "),t.qZA(),t.TgZ(18,"p",86),t._uU(19),t.ALo(20,"translate"),t.TgZ(21,"span",46),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(13,M,e.OPEN_CREATE_GROUP_RIGHT_SIDEBAR)),t.xp6(7),t.hij(" ",t.lcZ(8,5,"QuickTips")," "),t.xp6(7),t.hij(" ",t.lcZ(15,7,"QuickTipsAssigned")," "),t.xp6(5),t.hij(" ",t.lcZ(20,9,"QuickTipsPooled_1")," "),t.xp6(3),t.hij(" ",t.lcZ(23,11,"QuickTipsPooled_2")," ")}}function At(n,s){1&n&&t._UZ(0,"loading-spinner")}function xt(n,s){if(1&n&&(t.TgZ(0,"section")(1,"span",111)(2,"span",112),t._uU(3," DD "),t.qZA()(),t.TgZ(4,"span",113),t._uU(5),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",e.deptName_toUpdate," ")}}const It=function(n){return{"background-color":n}};function Ct(n,s){if(1&n&&(t.TgZ(0,"section")(1,"span",111)(2,"span",114),t._uU(3),t.qZA()(),t.TgZ(4,"span",113),t._uU(5),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngStyle",t.VKq(3,It,e.dept_name_fillcolour)),t.xp6(1),t.hij(" ",e.dept_name_initial," "),t.xp6(2),t.hij(" ",e.deptName_toUpdate," ")}}function Pt(n,s){1&n&&(t.TgZ(0,"div",115)(1,"div",116),t._UZ(2,"img",117),t.qZA(),t.TgZ(3,"span",118),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"DepartmentsPage.NoBotActivated")," "))}function Ot(n,s){if(1&n&&t._UZ(0,"img",123),2&n){const e=t.oxw(4);t.hYB("src","https://firebasestorage.googleapis.com/v0/b/",e.storageBucket,"/o/profiles%2F",e.selectedId,"%2Fphoto.jpg?alt=media",t.LSH)}}function vt(n,s){if(1&n&&t._UZ(0,"img",123),2&n){const e=t.oxw(4);t.hYB("src","",e.baseUrl,"images?path=uploads%2Fusers%2F",e.selectedId,"%2Fimages%2Fthumbnails_200_200-photo.jpg",t.LSH)}}function St(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"img",124),t.qZA())}function Rt(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"img",125),t.qZA())}function Zt(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"img",126),t.qZA())}function Ut(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"img",127),t.qZA())}function wt(n,s){if(1&n&&t._UZ(0,"img",133),2&n){const e=t.oxw(5);t.Q6J("src",e.botLogo,t.LSH)}}function Mt(n,s){if(1&n&&t._UZ(0,"img",134),2&n){const e=t.oxw(5);t.Q6J("src",e.botLogo,t.LSH)}}function Gt(n,s){1&n&&t._UZ(0,"img",135)}function Nt(n,s){1&n&&t._UZ(0,"img",136)}function Bt(n,s){1&n&&t._UZ(0,"img",137)}function yt(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,wt,1,1,"img",128),t.YNc(2,Mt,1,1,"img",129),t.YNc(3,Gt,1,0,"img",130),t.YNc(4,Nt,1,0,"img",131),t.YNc(5,Bt,1,0,"img",132),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.bot_subtype),t.xp6(1),t.Q6J("ngIf",e.bot_subtype&&"chatbot"===e.bot_subtype),t.xp6(1),t.Q6J("ngIf",e.bot_subtype&&"copilot"===e.bot_subtype),t.xp6(1),t.Q6J("ngIf",e.bot_subtype&&"webhook"===e.bot_subtype),t.xp6(1),t.Q6J("ngIf",e.bot_subtype&&("voice"===e.bot_subtype||"voice_twilio"===e.bot_subtype))}}function Lt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",119)(1,"div",120),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToBotDetails())}),t.YNc(2,Ot,1,2,"img",121),t.YNc(3,vt,1,2,"img",121),t.YNc(4,St,2,0,"span",3),t.YNc(5,Rt,2,0,"span",3),t.YNc(6,Zt,2,0,"span",3),t.YNc(7,Ut,2,0,"span",3),t.YNc(8,yt,6,5,"div",3),t.qZA(),t.TgZ(9,"span",122),t._uU(10),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.selectedId&&e.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(1),t.Q6J("ngIf",e.selectedId&&!e.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(1),t.Q6J("ngIf","internal"===e.bot_type),t.xp6(1),t.Q6J("ngIf","external"===e.bot_type),t.xp6(1),t.Q6J("ngIf","dialogflow"===e.bot_type),t.xp6(1),t.Q6J("ngIf","rasa"===e.bot_type),t.xp6(1),t.Q6J("ngIf","tilebot"===e.bot_type),t.xp6(2),t.hij(" ",e.selectedValue," ")}}function kt(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1," Read all "),t.qZA())}function Ft(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1," Read less "),t.qZA())}function Ht(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",30)(1,"a",144),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.toggleDescriptionReadAll())}),t.YNc(2,kt,2,0,"span",3),t.YNc(3,Ft,2,0,"span",3),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("ngIf",!0===e.read_all),t.xp6(1),t.Q6J("ngIf",!1===e.read_all)}}function jt(n,s){if(1&n&&(t.TgZ(0,"div",100)(1,"div",30)(2,"div",138)(3,"span",139)(4,"i",140),t._uU(5,"subject"),t.qZA(),t.TgZ(6,"span",141),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",142),t._uU(10),t.qZA()()()(),t.YNc(11,Ht,4,2,"div",143),t.qZA()),2&n){const e=t.oxw(3);t.xp6(7),t.hij(" ",t.lcZ(8,3,"DeptsAddEditPage.Description")," "),t.xp6(3),t.hij(" ",e.bot_description," "),t.xp6(1),t.Q6J("ngIf",!0===e.display_btn_read_all_descr)}}function Jt(n,s){1&n&&(t.TgZ(0,"span",145),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DeptsAddEditPage.AllUsers")," "))}function qt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",146),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",147),t._uU(4),t.TgZ(5,"span",148),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToEditGroup())}),t.TgZ(6,"span",149),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",150)(10,"span",151),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"span",152),t._uU(14),t.qZA(),t._UZ(15,"i"),t.qZA()()()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,5,"DepartmentsPage.Group")," "),t.xp6(3),t.hij(" ",e.group_name," "),t.xp6(3),t.hij("(",t.lcZ(8,7,"Edit"),") "),t.xp6(4),t.hij(" ",t.lcZ(12,9,"GroupsPage.tooltipEditGroup")," "),t.xp6(3),t.hij("",e.group_name," ")}}function Yt(n,s){if(1&n&&t._UZ(0,"img",159),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==e||null==e.id_user?null:e.id_user._id,"%2Fphoto.jpg?alt=media",t.LSH)}}function Qt(n,s){if(1&n&&t._UZ(0,"img",159),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==e||null==e.id_user?null:e.id_user._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",t.LSH)}}function zt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",155)(1,"span",156),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.goToMemberProfile(null==r||null==r.id_user?null:r.id_user._id))}),t.YNc(2,Yt,1,2,"img",157),t.YNc(3,Qt,1,2,"img",157),t.TgZ(4,"span",158),t._uU(5),t.qZA()()()}if(2&n){const e=s.$implicit,i=t.oxw(4);t.xp6(2),t.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(1),t.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(2),t.AsE(" ",null==e||null==e.id_user?null:e.id_user.firstname," ",null==e||null==e.id_user?null:e.id_user.lastname," ")}}function Vt(n,s){if(1&n&&(t.TgZ(0,"div",115)(1,"div",153),t.YNc(2,zt,6,4,"div",154),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.projectUsers)}}function Wt(n,s){1&n&&(t.TgZ(0,"div")(1,"p",162)(2,"i",163),t._uU(3," info "),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"ThisGroupHasNoMembers")," "))}function Kt(n,s){if(1&n&&t._UZ(0,"img",159),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.hYB("src","https://firebasestorage.googleapis.com/v0/b/",i.storageBucket,"/o/profiles%2F",null==e?null:e._id,"%2Fphoto.jpg?alt=media",t.LSH)}}function $t(n,s){if(1&n&&t._UZ(0,"img",159),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.hYB("src","",i.baseUrl,"images?path=uploads%2Fusers%2F",null==e?null:e._id,"%2Fimages%2Fthumbnails_200_200-photo.jpg",t.LSH)}}function Xt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",155)(1,"span",156),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.goToMemberProfile(null==r?null:r._id))}),t.YNc(2,Kt,1,2,"img",157),t.YNc(3,$t,1,2,"img",157),t.TgZ(4,"span",158),t._uU(5),t.qZA()()()}if(2&n){const e=s.$implicit,i=t.oxw(4);t.xp6(2),t.Q6J("ngIf",i.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(1),t.Q6J("ngIf",!i.UPLOAD_ENGINE_IS_FIREBASE),t.xp6(2),t.AsE(" ",null==e?null:e.firstname," ",null==e?null:e.lastname," ")}}function te(n,s){if(1&n&&(t.TgZ(0,"div",160)(1,"div",161),t.YNc(2,Wt,6,3,"div",3),t.YNc(3,Xt,6,4,"div",154),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",0===(null==e.projectUsersInGroup?null:e.projectUsersInGroup.length)),t.xp6(1),t.Q6J("ngForOf",e.projectUsersInGroup)}}function ee(n,s){if(1&n&&(t.TgZ(0,"div",81)(1,"div",10)(2,"div",82)(3,"h3",90)(4,"span",21),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",82),t._UZ(8,"div",84),t.qZA()(),t.TgZ(9,"div",91)(10,"div",28),t.YNc(11,xt,6,1,"section",3),t.YNc(12,Ct,6,5,"section",3),t.qZA()(),t.TgZ(13,"div",92)(14,"div",93)(15,"p",94)(16,"span",95)(17,"i",96),t._uU(18,"calendar_today"),t.qZA(),t.TgZ(19,"span",97),t._uU(20),t.ALo(21,"translate"),t._UZ(22,"i",98),t.qZA()(),t.TgZ(23,"span",99),t._uU(24),t.ALo(25,"amTimeAgo"),t.TgZ(26,"span"),t._uU(27),t.ALo(28,"date"),t.qZA()()()()(),t.TgZ(29,"div",100)(30,"div",30)(31,"p",94)(32,"span",95)(33,"i",96),t._uU(34,"code"),t.qZA(),t.TgZ(35,"span",97),t._uU(36),t.ALo(37,"translate"),t._UZ(38,"i",98),t.qZA()(),t.TgZ(39,"span",99),t._uU(40),t.qZA()()()(),t.TgZ(41,"div",100)(42,"div",30)(43,"p",101)(44,"span",102),t._uU(45),t.ALo(46,"translate"),t.qZA()(),t.TgZ(47,"div",103),t.YNc(48,Pt,6,3,"div",104),t.YNc(49,Lt,11,8,"div",105),t.qZA()()(),t.YNc(50,jt,12,5,"div",106),t.TgZ(51,"div",107)(52,"div",30)(53,"p",101)(54,"span",102),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.YNc(57,Jt,3,3,"span",108),t.YNc(58,qt,16,11,"span",109),t.qZA(),t.YNc(59,Vt,3,1,"div",104),t.YNc(60,te,4,2,"div",110),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,17,"RequestMsgsPage.Details")," "),t.xp6(6),t.Q6J("ngIf",!0===e.IS_DEFAULT_DEPT),t.xp6(1),t.Q6J("ngIf",!1===e.IS_DEFAULT_DEPT),t.xp6(8),t.hij(" ",t.lcZ(21,19,"Created")," "),t.xp6(4),t.hij(" ",t.lcZ(25,21,e.dept_created_at)," "),t.xp6(3),t.hij("(",t.xi3(28,23,e.dept_created_at,"d/M/y HH:mm:ss"),") "),t.xp6(9),t.hij(" ",t.lcZ(37,26,"DeptsAddEditPage.DeptId")," "),t.xp6(4),t.hij(" ",e.dept_ID," "),t.xp6(5),t.hij(" ",t.lcZ(46,28,"DeptsAddEditPage.DeptBot")," "),t.xp6(3),t.Q6J("ngIf",!0===e.BOT_NOT_SELECTED),t.xp6(1),t.Q6J("ngIf",!1===e.BOT_NOT_SELECTED),t.xp6(1),t.Q6J("ngIf",!1===e.BOT_NOT_SELECTED),t.xp6(5),t.hij(" ",t.lcZ(56,30,"DeptsAddEditPage.DeptAgents")," "),t.xp6(2),t.Q6J("ngIf",!e.selectedGroupId),t.xp6(1),t.Q6J("ngIf",e.selectedGroupId),t.xp6(1),t.Q6J("ngIf",!e.selectedGroupId),t.xp6(1),t.Q6J("ngIf",e.selectedGroupId)}}function ne(n,s){if(1&n&&(t.TgZ(0,"div",87)(1,"div",88),t.YNc(2,At,1,0,"loading-spinner",3),t.YNc(3,ee,61,32,"div",89),t.qZA()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,M,e.OPEN_CREATE_GROUP_RIGHT_SIDEBAR)),t.xp6(2),t.Q6J("ngIf",e.showSpinner),t.xp6(1),t.Q6J("ngIf",!e.showSpinner)}}const G=function(n){return{height:n}};function ie(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",164)(1,"appdashboard-create-group",165),t.NdJ("valueChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleCloseCreateGroupSidebar(o))})("groupcreated",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleNewGroupCreatedFromSidebar(o))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(3,G,e.train_bot_sidebar_height))("newInnerWidth",e.newInnerWidth)("deptName_toUpdate",e.deptName_toUpdate)}}function oe(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",164)(1,"appdashboard-create-bot",166),t.NdJ("valueChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleCloseCreateBotSidebar(o))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(1,G,e.train_bot_sidebar_height))}}const se=function(n){return{"margin-top":n}},re=function(n,s){return{is_opened:n,is_closed:s}},ae=function(n,s){return{"page-title--sidebar-settings_opened":n,"page-title--sidebar-settings_closed":s}},m=(a(11373),a(35226));let le=(()=>{class n extends j.m{constructor(e,i,o,r,d,c,f,N,h,he,ue,Ee,B,Te,y){super(B,h),this.router=e,this.route=i,this.deptService=o,this.faqKbService=r,this.auth=d,this.groupService=c,this.location=f,this.translate=N,this.notify=h,this.usersService=he,this.appConfigService=ue,this.logger=Ee,this.prjctPlanService=B,this.roleService=Te,this.brandService=y,this.unsubscribe$=new F.xQ,this.CREATE_VIEW=!1,this.EDIT_VIEW=!1,this.showSpinner=!1,this.OPEN_CREATE_GROUP_RIGHT_SIDEBAR=!1,this.OPEN_CREATE_BOT_RIGHT_SIDEBAR=!1,this.SELECT_GROUP_CREATED_FROM_CREATE_GROUP_SIDEBAR=!1,this.NOT_HAS_EDITED=!0;const De=y.getBrand();this.botLogo=De.BASE_LOGO_NO_TEXT}onbeforeunload(e){!1===this.NOT_HAS_EDITED&&(e.preventDefault(),e.returnValue=!1)}canDeactivate(){return!0===this.NOT_HAS_EDITED||(!1===this.NOT_HAS_EDITED?m.fire({title:this.areYouSureMsg,text:this.areTouSureYouWantToNavigateAwayFromThisPageWithoutSaving,icon:"warning",showCloseButton:!1,showCancelButton:!0,confirmButtonText:this.translate.instant("YesImSure"),focusConfirm:!1,reverseButtons:!0}).then(e=>e.isConfirmed?(this.logger.log("[DEPT-EDIT-ADD] showExitFromComponentConfirmation willRemain pressed OK"),!0):(this.logger.log("[DEPT-EDIT-ADD] showExitFromComponentConfirmation willRemain else"),!1)):void 0)}onResize(e){this.newInnerWidth=e.target.innerWidth,this.logger.log("[DEPT-EDIT-ADD] - ON RESIZE -> WINDOW WITH ",this.newInnerWidth),this.newInnerHeight=e.target.innerHeight,this.logger.log("[DEPT-EDIT-ADD] - ON RESIZE -> WINDOW HEIGHT ",this.newInnerHeight);const i=document.querySelector(".main-content");this.main_content_height=i.clientHeight,this.logger.log("[DEPT-EDIT-ADD] - ON RESIZE -> MAIN CONTENT HEIGHT",this.main_content_height),this.train_bot_sidebar_height=i.clientHeight+"px"}ngOnInit(){this.roleService.checkRoleForCurrentProject("dept-edit-add"),this.getProfileImageStorage(),this.listenSidebarIsOpened(),this.logger.log("[DEPT-EDIT-ADD] selectedDeptId FROM @INPUT: ",this.ws_requestslist_deptIdSelected),this.logger.log("[DEPT-EDIT-ADD] display_dept_sidebar FROM @INPUT: ",this.display_dept_sidebar),-1!==this.router.url.indexOf("/create")?(this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS HAS CLICKED CREATE "),this.CREATE_VIEW=!0,this.ROUTING_SELECTED="assigned",this.dept_routing="assigned",this.SHOW_OPTION_FORM=!1,this.BOT_NOT_SELECTED=!0,this.has_selected_bot=!1,this.selectedBotId=null,this.logger.log("[DEPT-EDIT-ADD] ON INIT (IF HAS SELECT CREATE) SHOW OPTION FORM ",this.SHOW_OPTION_FORM,"ROUTING SELECTED ",this.ROUTING_SELECTED),this.ROUTING_PAGE_MODE=!1):-1!==this.router.url.indexOf("/edit")?(this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - HAS CLICKED EDIT DEPT"),this.EDIT_VIEW=!0,this.showSpinner=!0,this.SHOW_OPTION_FORM=!1,this.ROUTING_PAGE_MODE=!1,this.getParamsAndDeptById()):-1!==this.router.url.indexOf("/routing")&&(this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS HAS CLICKED ROUTING FROM SIDEBAR"),this.EDIT_VIEW=!0,this.SHOW_OPTION_FORM=!1,this.showSpinner=!0,this.ROUTING_PAGE_MODE=!0,this.getParamsAndDeptById()),this.getCurrentProject(),this.getFaqKbByProjecId(),this.getUsersAndGroup(),this.translateLabels(),this.getBrowserVersion(),this.getProjectPlan(),this.getOSCODE()}listenSidebarIsOpened(){this.auth.settingSidebarIsOpned.subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] SETTNGS-SIDEBAR isopened (FROM SUBSCRIPTION) ",e),this.IS_OPEN_SETTINGS_SIDEBAR=e})}getOSCODE(){this.public_Key=this.appConfigService.getConfig().t2y12PruGU9wUtEGzBJfolMIgK,this.logger.log("[DEPT-EDIT-ADD] getAppConfig - public_Key",this.public_Key),this.public_Key.split("-").forEach(i=>{i.includes("GRO")&&(this.isVisibleGroups="F"!==i.split(":")[1]),i.includes("PAY")&&(this.isVisiblePAY="F"!==i.split(":")[1]),i.includes("OVP")&&(this.overridePay="F"!==i.split(":")[1])}),this.public_Key.includes("GRO")||(this.isVisibleGroups=!1),this.public_Key.includes("PAY")||(this.isVisiblePAY=!1),this.public_Key.includes("OVP")||(this.overridePay=!1)}getUserRole(){this.usersService.project_user_role_bs.pipe((0,P.R)(this.unsubscribe$)).subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] - SUBSCRIPTION TO USER ROLE \xbb\xbb\xbb ",e),this.USER_ROLE=e})}getBrowserVersion(){this.auth.isChromeVerGreaterThan100.subscribe(e=>{this.isChromeVerGreaterThan100=e})}onChangeDeptName(e){this.logger.log("[DEPT-EDIT-ADD] - onChangeDeptName ",e),this.NOT_HAS_EDITED=!1}onChangeDeptDescription(e){this.logger.log("[DEPT-EDIT-ADD] - onChangeDeptDescription ",e),this.NOT_HAS_EDITED=!1}checkPlanAndPresentModal(){return this.profile_name===l.II.A||this.profile_name===l.II.B&&!1===this.subscription_is_active||this.profile_name===l.II.C&&!1===this.subscription_is_active||"free"===this.profile_name&&!0===this.trial_expired?this.appSumoProfile?(this.presentModalAppSumoFeautureAvailableFromBPlan(),!1):(this.presentModalFeautureAvailableFromTier2Plan(this.featureAvailableFromEPlan),!1):(this.profile_name===l.II.D||this.profile_name===l.II.E&&!1===this.subscription_is_active||this.profile_name===l.II.EE&&!1===this.subscription_is_active||this.profile_name===l.II.F&&!1===this.subscription_is_active||"Sandbox"===this.profile_name&&!0===this.trial_expired)&&!this.appSumoProfile?(this.presentModalFeautureAvailableFromTier2Plan(this.featureAvailableFromEPlan),!1):void 0}presentModalFeautureAvailableFromTier2Plan(e){this.logger.log("[DEPT-EDIT-ADD] presentModalFeautureAvailableFromTier2Plan projectId",this.projectId),this.isVisiblePAY?m.fire({title:this.upgradePlan,text:e,icon:"info",showCloseButton:!1,showCancelButton:!0,confirmButtonText:this.upgradePlan,cancelButtonText:this.cancel,focusConfirm:!0,reverseButtons:!0}).then(i=>{i.isConfirmed&&(this.isVisiblePAY?(this.logger.log("[DEPT-EDIT-ADD] HERE 1"),"owner"===this.USER_ROLE?(this.logger.log("[DEPT-EDIT-ADD] HERE 2"),"payment"===this.prjct_profile_type&&!1===this.subscription_is_active?(this.logger.log("[DEPT-EDIT-ADD] HERE 3"),this.notify._displayContactUsModal(!0,"upgrade_plan")):"payment"!==this.prjct_profile_type||!0!==this.subscription_is_active||this.profile_name!==l.II.A&&this.profile_name!==l.II.D?"free"===this.prjct_profile_type&&!0===this.trial_expired&&(this.logger.log("[DEPT-EDIT-ADD] HERE 4"),this.router.navigate(["project/"+this.projectId+"/pricing"])):this.notify._displayContactUsModal(!0,"upgrade_plan")):(this.logger.log("[DEPT-EDIT-ADD] HERE 5"),this.presentModalAgentCannotManageAvancedSettings())):(this.logger.log("[DEPT-EDIT-ADD] HERE 6"),this.notify._displayContactUsModal(!0,"upgrade_plan")))}):this.notify._displayContactUsModal(!0,"upgrade_plan")}presentModalAppSumoFeautureAvailableFromBPlan(){m.fire({icon:"info",title:this.upgradePlan,text:"Available from "+this.appSumoProfilefeatureAvailableFromBPlan,showCloseButton:!1,showCancelButton:!0,confirmButtonText:this.upgradePlan,cancelButtonText:this.cancel,focusConfirm:!0,reverseButtons:!0}).then(e=>{e.isConfirmed&&("owner"===this.USER_ROLE?this.router.navigate(["project/"+this.projectId+"/project-settings/payments"]):this.presentModalOnlyOwnerCanManageTheAccountPlan())})}presentModalOnlyOwnerCanManageTheAccountPlan(){this.notify.presentModalOnlyOwnerCanManageTheAccountPlan(this.onlyOwnerCanManageTheAccountPlanMsg,this.learnMoreAboutDefaultRoles)}presentModalAgentCannotManageAvancedSettings(){this.notify.presentModalOnlyOwnerCanManageTheAccountPlan(this.agentCannotManageAdvancedOptions,this.learnMoreAboutDefaultRoles)}openCreateGroupRightSideBar(){const e=this.checkPlanAndPresentModal();if(this.logger.log("[DEPT-EDIT-ADD] isAvaibleFromPlan ",e),!1===e)return;this.navbarbrandRef.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),this.OPEN_CREATE_GROUP_RIGHT_SIDEBAR=!0,this.logger.log("[DEPT-EDIT-ADD] - OPEN CREATE GROUP SIDEBAR ",this.OPEN_CREATE_GROUP_RIGHT_SIDEBAR);const i=document.querySelector(".main-content");this.train_bot_sidebar_height=i.clientHeight+10+"px",this.logger.log("[DEPT-EDIT-ADD] - OPEN CREATE GROUP SIDEBAR -> RIGHT SIDEBAR HEIGHT",this.train_bot_sidebar_height)}handleCloseCreateGroupSidebar(e){this.OPEN_CREATE_GROUP_RIGHT_SIDEBAR=e,this.logger.log("[DEPT-EDIT-ADD] - CLOSE CREATE GROUP SIDEBAR ",this.OPEN_CREATE_GROUP_RIGHT_SIDEBAR)}handleNewGroupCreatedFromSidebar(e){this.logger.log("[DEPT-EDIT-ADD] - handleNewGroupCreatedFromSidebar ID GROUP ",e),e&&(this.new_group_created_id=e,this.SELECT_GROUP_CREATED_FROM_CREATE_GROUP_SIDEBAR=!0,this.NOT_HAS_EDITED=!1,this.getGroupsByProjectId())}openCreateBotRightSideBar(){this.navbarbrandRef.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),this.OPEN_CREATE_BOT_RIGHT_SIDEBAR=!0,this.logger.log("[DEPT-EDIT-ADD] - OPEN CREATE BOT SIDEBAR ",this.OPEN_CREATE_BOT_RIGHT_SIDEBAR);const e=document.querySelector(".main-content");this.train_bot_sidebar_height=e.clientHeight+10+"px",this.logger.log("[DEPT-EDIT-ADD]  - OPEN CREATE BOT SIDEBAR -> RIGHT SIDEBAR HEIGHT",this.train_bot_sidebar_height),document.querySelector("footer").setAttribute("style","display:none;")}handleCloseCreateBotSidebar(e){this.OPEN_CREATE_BOT_RIGHT_SIDEBAR=e,this.logger.log("[DEPT-EDIT-ADD]- CLOSE CREATE BOT SIDEBAR ",this.OPEN_CREATE_BOT_RIGHT_SIDEBAR),document.querySelector("footer").setAttribute("style","")}getParamsAndDeptById(){this.id_dept=this.route.snapshot.params.deptid,this.logger.log("[DEPT-EDIT-ADD] - DEPATMENT COMPONENT HAS PASSED id_DEPT ",this.id_dept),this.id_dept&&this.getDeptById()}ngAfterViewInit(){}getProfileImageStorage(){if("firebase"===this.appConfigService.getConfig().uploadEngine){this.UPLOAD_ENGINE_IS_FIREBASE=!0;const e=this.appConfigService.getConfig().firebase;this.storageBucket=e.storageBucket,this.logger.log("[DEPT-EDIT-ADD] IMAGE STORAGE ",this.storageBucket,"usecase firebase")}else this.UPLOAD_ENGINE_IS_FIREBASE=!1,this.baseUrl=this.appConfigService.getConfig().baseImageUrl,this.logger.log("[DEPT-EDIT-ADD] IMAGE STORAGE ",this.baseUrl,"usecase native")}getUsersAndGroup(){this.getProjectUsers()}getProjectUsers(){this.usersService.getProjectUsersByProjectId().subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] - GET PROJECT USERS - RES ",e),e&&(this.projectUsers=e)},e=>{this.logger.error("[DEPT-EDIT-ADD] - GET PROJECT USERS - ERROR",e)},()=>{this.logger.log("[DEPT-EDIT-ADD] - GET PROJECT USERS - COMPLETE"),this.getGroupsByProjectId()})}translateLabels(){this.translate.get("DeptsAddEditPage.NotificationMsgs").subscribe(e=>{this.createSuccessMsg=e.CreateDeptSuccess,this.createErrorMsg=e.CreateDeptError,this.updateSuccessMsg=e.UpdateDeptSuccess,this.updateErrorMsg=e.UpdateDeptError}),this.translate.get("CanDeactivateModalText").subscribe(e=>{this.areYouSureMsg=e.AreYouSure,this.youHaveUnsavedChangesMsg=e.YouHaveUnsavedChanges,this.cancelMsg=e.Cancel,this.areTouSureYouWantToNavigateAwayFromThisPageWithoutSaving=e.AreTouSureYouWantToNavigateAwayFromThisPageWithoutSaving}),this.translate.get("AvailableFromThePlan",{plan_name:l.II.B}).subscribe(e=>{this.featureAvailableFromBPlan=e}),this.translate.get("AvailableFromThePlans",{plan_name_1:l.II.E,plan_name_2:l.II.EE}).subscribe(e=>{this.featureAvailableFromEPlan=e}),this.translate.get("Cancel").subscribe(e=>{this.cancel=e}),this.translate.get("Pricing.UpgradePlan").subscribe(e=>{this.upgradePlan=e}),this.translate.get("UsersWiththeAgentroleCannotManageTheAdvancedOptionsOfTheProject").subscribe(e=>{this.agentCannotManageAdvancedOptions=e}),this.translate.get("OnlyUsersWithTheOwnerRoleCanManageTheAccountPlan").subscribe(e=>{this.onlyOwnerCanManageTheAccountPlanMsg=e}),this.translate.get("LearnMoreAboutDefaultRoles").subscribe(e=>{this.learnMoreAboutDefaultRoles=e})}has_clicked_bot(e){this.logger.log("[DEPT-EDIT-ADD] HAS CLICKED BOT - SHOW DROPDOWN ",e),this.NOT_HAS_EDITED=!1,!1===e&&(this.BOT_NOT_SELECTED=!0,this.logger.log("[DEPT-EDIT-ADD] - HAS CLICKED BOT - BOT NOT SELECTED ",this.BOT_NOT_SELECTED),this.selectedBotId=null,this.logger.log("[DEPT-EDIT-ADD] - SELECTED BOT ID ",this.selectedBotId),this.has_selected_only_bot=!1,this.onlybot_disable_routing=!1,this.bot_only=!1)}toggleActivateBot(e){this.logger.log("[DEPT-EDIT-ADD] toggleActivateBot event",e)}has_clicked_only_bot(e){this.logger.log("[DEPT-EDIT-ADD] - HAS CLICKED ONLY BOT ",e),!0===e?(this.onlybot_disable_routing=!0,this.bot_only=!0):(this.onlybot_disable_routing=!1,this.bot_only=!1)}setSelectedBot(e){this.selectedBotId=e,this.logger.log("[DEPT-EDIT-ADD] BOT ID SELECTED: ",this.selectedBotId),null!==this.selectedBotId&&(this.NOT_HAS_EDITED=!1),"BOT_NOT_SELECTED"!==this.selectedBotId&&(this.BOT_NOT_SELECTED=!1,this.botId=this.selectedBotId,this.getBotById()),"BOT_NOT_SELECTED"===this.selectedBotId&&(this.BOT_NOT_SELECTED=!0)}_setSelectedBot(){this.logger.log("[DEPT-EDIT-ADD] BOT ID SELECTED 2 selectedId: ",this.selectedId),this.logger.log("[DEPT-EDIT-ADD] BOT ID SELECTED 2 selectedBotId: ",this.selectedBotId),null!==this.selectedBotId&&(this.NOT_HAS_EDITED=!1,this.logger.log("[DEPT-EDIT-ADD] NOT_HAS_EDITED ",this.NOT_HAS_EDITED)),null!==this.selectedBotId&&(this.BOT_NOT_SELECTED=!1,this.botId=this.selectedBotId,this.getBotById()),null===this.selectedBotId&&(this.BOT_NOT_SELECTED=!0)}getGroupsByProjectId(){!0===this.SELECT_GROUP_CREATED_FROM_CREATE_GROUP_SIDEBAR&&(this.logger.log("[DEPT-EDIT-ADD] - GET GROUPS  SELECT_GROUP_CREATED_FROM_CREATE_GROUP_SIDEBAR",this.new_group_created_id),this.selectedGroupId=this.new_group_created_id),this.groupService.getGroupsByProjectId().subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] - GROUPS GET BY PROJECT ID",e),e&&(this.groupsList=e.filter(i=>!1!==i.enabled),this.logger.log("[DEPT-EDIT-ADD] - GROUPS GET BY PROJECT ID",this.groupsList),this.logger.log("[DEPT-EDIT-ADD] - GROUP ID SELECTED",this.selectedGroupId),this.groupsList.forEach(i=>{this.selectedGroupId?i._id===this.selectedGroupId&&(this.logger.log("[DEPT-EDIT-ADD] - GROUP ASSIGNED TO THIS DEPT",i),this.group_name=i.name,this.projectUsersInGroup=[],i.members.forEach(o=>{this.logger.log("[DEPT-EDIT-ADD] - MEMBER OF THE GROUP ASSIGNED TO THIS DEPT",o),this.projectUsers.forEach(r=>{o===r.id_user._id&&this.projectUsersInGroup.push(r.id_user)})}),this.logger.log("[DEPT-EDIT-ADD] - PROJECT USERS IN GROUP ",this.projectUsersInGroup)):this.logger.log("[DEPT-EDIT-ADD] - NO GROUP ASSIGNED TO THIS DEPT - GROUP ID",this.selectedGroupId)}),null!=this.selectedGroupId&&this.checkGroupId(this.selectedGroupId,this.groupsList))},e=>{this.logger.error("[DEPT-EDIT-ADD] - GET GROUPS - ERROR ",e)},()=>{this.logger.log("[DEPT-EDIT-ADD] - GET GROUPS * COMPLETE")})}checkGroupId(e,i){this.logger.log("[DEPT-EDIT-ADD] - CHECK FOR GROUP ID: groupIdSelected",this.selectedGroupId,"groups_list ",i),this.GROUP_ID_NOT_EXIST=!0;for(let o=0;o<i.length;o++)if(i[o]._id===e){this.GROUP_ID_NOT_EXIST=!1;break}return this.logger.log("[DEPT-EDIT-ADD] - CHECK FOR GROUP ID - NOT EXIST?: ",this.GROUP_ID_NOT_EXIST),this.GROUP_ID_NOT_EXIST}setSelectedGroup(e){this.SELECT_GROUP_CREATED_FROM_CREATE_GROUP_SIDEBAR=!1,this.NOT_HAS_EDITED=!1,this.selectedGroupId=e,this.logger.log("[DEPT-EDIT-ADD] - GROUP ID SELECTED: ",this.selectedGroupId),this.logger.log("[DEPT-EDIT-ADD] - GROUP_ID_NOT_EXIST: ",this.GROUP_ID_NOT_EXIST),"Group error"!==this.selectedGroupId&&(this.GROUP_ID_NOT_EXIST=!1,this.getGroupsByProjectId(),this.logger.log("[DEPT-EDIT-ADD] - setSelectedGroup this.selectedGroupId !== Group error")),"ALL_USERS_SELECTED"===this.selectedGroupId&&(this.selectedGroupId=null)}_setSelectedGroup(){this.logger.log("[DEPT-EDIT-ADD] - GROUP ID SELECTED: ",this.selectedGroupId),this.SELECT_GROUP_CREATED_FROM_CREATE_GROUP_SIDEBAR=!1,this.NOT_HAS_EDITED=!1,this.getGroupsByProjectId()}getCurrentProject(){this.auth.project_bs.pipe((0,P.R)(this.unsubscribe$)).subscribe(e=>{e&&(this.project=e,this.projectId=e._id)})}getFaqKbByProjecId(){this.loadingBot=!0,this.faqKbService.getFaqKbByProjectId().subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] - GET BOTS (TO SHOW IN SELECTION FIELD) ",e),e.sort(function(o,r){return o.name.toLowerCase()<r.name.toLowerCase()?-1:o.name.toLowerCase()>r.name.toLowerCase()?1:0}),this.botsList=e.filter(i=>!i.subtype||"chatbot"===i.subtype||"voice"===i.subtype||"voice_twilio"===i.subtype),this.logger.log("[DEPT-EDIT-ADD] - GET BOTS botsList ",this.botsList)},e=>{this.loadingBot=!1,this.logger.error("[DEPT-EDIT-ADD] GET BOTS - ERROR ",e)},()=>{this.logger.log("[DEPT-EDIT-ADD] GET BOTS - COMPLETE "),this.loadingBot=!1})}goBackToDeptsList(){this.router.navigate(["project/"+this.project._id+"/departments"])}has_clicked_assigned(e,i,o){"assigned"!==this.dept_routing&&(this.NOT_HAS_EDITED=!1),this.SHOW_GROUP_OPTION_FORM=e,this.SHOW_OPTION_FORM=i,this.ROUTING_SELECTED=o,this.logger.log("[DEPT-EDIT-ADD] HAS CLICKED ASSIGNABLE - SHOW GROUP OPTION ",this.SHOW_GROUP_OPTION_FORM," SHOW BOT OPTION: ",this.SHOW_OPTION_FORM," ROUTING SELECTED ",this.ROUTING_SELECTED),this.dept_routing="assigned"}has_clicked_pooled(e,i,o){"pooled"!==this.dept_routing&&(this.NOT_HAS_EDITED=!1),this.SHOW_GROUP_OPTION_FORM=e,this.SHOW_OPTION_FORM=i,this.ROUTING_SELECTED=o,this.logger.log("[DEPT-EDIT-ADD] HAS CLICKED POOLED  - SHOW GROUP OPTION ",this.SHOW_GROUP_OPTION_FORM," SHOW BOT OPTION: ",this.SHOW_OPTION_FORM," ROUTING SELECTED ",this.ROUTING_SELECTED),this.dept_routing="pooled"}getDeptById(){this.deptService.getDeptById(this.id_dept).subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] ++ > GET DEPT (DETAILS) BY ID - DEPT OBJECT: ",e),e&&(this.IS_DEFAULT_DEPT=e.default,this.deptName_toUpdate=e.name,this.dept_description_toUpdate=e.description,this.botId=e.id_bot,this.dept_routing=e.routing,this.selectedGroupId=e.id_group,this.dept_created_at=e.createdAt,this.dept_ID=e.id,this.bot_only=e.bot_only),"pooled"===this.dept_routing?(this.SHOW_OPTION_FORM=!1,this.dept_routing="pooled",this.BOT_NOT_SELECTED=!0):"assigned"===this.dept_routing&&(this.SHOW_OPTION_FORM=!1,this.dept_routing="assigned",this.BOT_NOT_SELECTED=!0),!1===this.bot_only||null==this.bot_only?this.has_selected_only_bot=!1:(this.has_selected_only_bot=!0,this.onlybot_disable_routing=!0),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - DEPT FULLNAME TO UPDATE: ",this.deptName_toUpdate),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - DEPT DESCRIPTION TO UPDATE: ",this.dept_description_toUpdate),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - BOT ID (IT IS ACTUALLY FAQ-KB ID) GET FROM DEPT OBJECT: ",this.botId),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - ONLY BOT: ",this.bot_only),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - DEPT ROUTING GET FROM DEPT OBJECT: ",this.dept_routing),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS - GROUP ID GET FROM DEPT OBJECT: ",this.selectedGroupId);let i="",o="";e.name?(i=(0,l.Pb)(e.name),o=(0,l.e$)(e.name)):(i="N/A",o="#eeeeee"),this.dept_name_initial=i,this.dept_name_fillcolour=o},e=>{this.logger.error("[DEPT-EDIT-ADD] GET DEPT BY ID - ERROR ",e),this.showSpinner=!1},()=>{this.logger.log("[DEPT-EDIT-ADD] GET DEPT BY ID - COMPLETE "),this.showSpinner=!1,void 0===this.botId?(this.selectedBotId=null,this.BOT_NOT_SELECTED=!0,this.has_selected_bot=!1,this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS getDeptById has_selected_bot ",this.has_selected_bot),this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS !!! BOT ID UNDEFINED ",this.botId,", BOT NOT SELECTED: ",this.BOT_NOT_SELECTED)):null==this.botId?(this.selectedBotId=null,this.BOT_NOT_SELECTED=!0,this.has_selected_bot=!1,this.logger.log("[DEPT-EDIT-ADD] ++ DEPT DTLS getDeptById has_selected_bot ",this.has_selected_bot),this.logger.log("[DEPT-EDIT-ADD] ++ BOT ID NULL ",this.botId,", BOT NOT SELECTED: ",this.BOT_NOT_SELECTED)):(this.has_selected_bot=!0,this.BOT_NOT_SELECTED=!1,this.getBotById(),this.logger.log("[DEPT-EDIT-ADD] ++ BOT ID DEFINED ",this.botId))})}getBotById(){this.faqKbService.getFaqKbById(this.botId).subscribe(e=>{if(this.logger.log("[DEPT-EDIT-ADD] ++ GET BOT (DETAILS) BY ID ",e),e)if(this.selectedBot=e,this.selectedId=e._id,this.selectedBotId=e._id,this.bot_type=e.type,this.bot_subtype=e.subtype,this.selectedValue=e.name,e.description){this.bot_description=e.description;const i=document.querySelector(".sidebar-description");let o;this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description",i),this.bot_description&&i&&setTimeout(()=>{const r=i.offsetHeight,d=parseInt(i.style.lineHeight);this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description divHeight",r),this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description lineHeight",d),r&&d&&(o=Math.round(r/d),this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description lines",o));const c=i.textContent.replace(/(<.*?>)|\s+/g,(N,h)=>h||" ");this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description elemDescription text",c);const f=c.substr(c.length-3);this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description elemDescription text lastThree",f),o&&o>3?(this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID - elem Sidebar Description lines is > 3",o),i.classList.add("sidebar-description-cropped"),this.display_btn_read_all_descr=!0,this.read_all=!0):this.display_btn_read_all_descr=!1},300)}else this.bot_description="n/a";this.logger.log("[DEPT-EDIT-ADD] GET BOT BY ID - BOT NAME  ",this.selectedValue)},e=>{this.logger.error("[DEPT-EDIT-ADD] - GET BOT BY ID - ERROR ",e)},()=>{this.logger.log("[DEPT-EDIT-ADD] - GET BOT BY ID  - COMPLETE ")})}toggleDescriptionReadAll(){const e=document.querySelector(".sidebar-description");if(this.logger.log("[DEPT-EDIT-ADD] elem Sidebar Description toggleDescriptionReadAll",e),e.classList){e.classList.toggle("sidebar-description-cropped");const r=e.classList.contains("sidebar-description-cropped");this.logger.log("[DEPT-EDIT-ADD] elem Sidebar Description toggleDescriptionReadAll hasClassCropped",r),this.read_all=!1!==r}else{var i=e.className.split(" "),o=i.indexOf("sidebar-description-cropped");o>=0?i.splice(o,1):i.push("sidebar-description-cropped"),e.className=i.join(" ")}}goToBotDetails(){let e="";"internal"===this.bot_type?(e="native","agent"!==this.USER_ROLE&&this.router.navigate(["project/"+this.project._id+"/bots/intents/",this.selectedId,e])):"tilebot"===this.bot_type?(e="tilebot","agent"!==this.USER_ROLE&&(0,l.ZM)(this.router,this.selectedBot,this.project._id,this.appConfigService.getConfig().cdsBaseUrl)):"tiledesk-ai"===this.bot_type?(e="tiledesk-ai","agent"!==this.USER_ROLE&&(0,l.ZM)(this.router,this.selectedBot,this.project._id,this.appConfigService.getConfig().cdsBaseUrl)):(e=this.bot_type,"agent"!==this.USER_ROLE&&this.router.navigate(["project/"+this.project._id+"/bots",this.selectedId,e]))}goToMemberProfile(e){this.getProjectuserbyUseridAndGoToEditProjectuser(e)}goToEditGroup(){this.router.navigate(["project/"+this.project._id+"/group/edit/"+this.selectedGroupId])}getProjectuserbyUseridAndGoToEditProjectuser(e){this.usersService.getProjectUserByUserId(e).subscribe(i=>{this.logger.log("[DEPT-EDIT-ADD] GET projectUser by USER-ID ",i),i&&(this.logger.log("[DEPT-EDIT-ADD] - GET projectUser by USER-ID > projectUser id",i[0]._id),this.router.navigate(["project/"+this.project._id+"/user/edit/"+i[0]._id]))},i=>{this.logger.error("[DEPT-EDIT-ADD] GET projectUser by USER-ID - ERROR ",i)},()=>{this.logger.log("[DEPT-EDIT-ADD]GET projectUser by USER-ID * COMPLETE *")})}createDepartment(){this.NOT_HAS_EDITED=!0,this.logger.log("[DEPT-EDIT-ADD] createDepartment DEPT NAME  ",this.deptName_toUpdate),this.logger.log("[DEPT-EDIT-ADD] createDepartment DEPT DESCRIPTION DIGIT BY USER ",this.dept_description_toUpdate),this.logger.log("[DEPT-EDIT-ADD] createDepartment GROUP ID WHEN CREATE IS PRESSED ",this.selectedGroupId),this.logger.log("[DEPT-EDIT-ADD] ROUTING_SELECTED ",this.ROUTING_SELECTED),this.deptService.addDept(this.deptName_toUpdate,this.dept_description_toUpdate,this.selectedBotId,this.bot_only,this.selectedGroupId,this.ROUTING_SELECTED).subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] - createDepartment - POST DATA DEPT",e)},e=>{this.logger.error("[DEPT-EDIT-ADD] createDepartment - ERROR ",e),this.notify.showWidgetStyleUpdateNotification(this.createErrorMsg,4,"report_problem")},()=>{this.notify.showWidgetStyleUpdateNotification(this.createSuccessMsg,2,"done"),this.logger.log("[DEPT-EDIT-ADD] - createDepartment * COMPLETE *"),this.router.navigate(["project/"+this.project._id+"/departments"])})}edit(){this.NOT_HAS_EDITED=!0;const e=document.querySelector(".update-dept-btn");e.blur(),this.logger.log("[DEPT-EDIT-ADD] - EDIT - updated_btn ",e),this.logger.log("[DEPT-EDIT-ADD] - EDIT - ID WHEN EDIT IS PRESSED ",this.id_dept),this.logger.log("[DEPT-EDIT-ADD] - EDIT - FULL-NAME WHEN EDIT IS PRESSED ",this.deptName_toUpdate),this.logger.log("[DEPT-EDIT-ADD] - EDIT - DESCRIPTION WHEN EDIT IS PRESSED ",this.dept_description_toUpdate),this.logger.log("[DEPT-EDIT-ADD]- EDIT - BOT ID WHEN EDIT IS PRESSED IF USER HAS SELECT ANOTHER BOT",this.selectedBotId),this.logger.log("[DEPT-EDIT-ADD] - EDIT - BOT ID WHEN EDIT IS PRESSED IF USER ! DOES NOT SELECT A ANOTHER BOT",this.botId),this.logger.log("[DEPT-EDIT-ADD] - EDIT - DEPT_ROUTING WHEN EDIT IS PRESSED ",this.dept_routing),this.logger.log("[DEPT-EDIT-ADD] - EDIT - ROUTING_SELECTED WHEN EDIT IS PRESSED ",this.ROUTING_SELECTED),this.botIdEdit=void 0===this.selectedBotId?this.botId:this.selectedBotId,this.deptService.updateDept(this.id_dept,this.deptName_toUpdate,this.dept_description_toUpdate,this.botIdEdit,this.bot_only,this.selectedGroupId,this.dept_routing).subscribe(i=>{this.logger.log("[DEPT-EDIT-ADD] - EDIT DEPT - RES ",i)},i=>{this.logger.error("[DEPT-EDIT-ADD] - EDIT DEPT - ERROR ",i),this.notify.showWidgetStyleUpdateNotification(this.updateErrorMsg,4,"report_problem")},()=>{this.logger.log("[DEPT-EDIT-ADD] - EDIT * COMPLETE *"),this.notify.showWidgetStyleUpdateNotification(this.updateSuccessMsg,2,"done")})}goTo_BotEditAddPage_CREATE(){this.router.navigate(["project/"+this.project._id+"/bots/my-chatbots/all"])}getDeptByIdToTestChat21AssigneesFunction(){this.deptService.testChat21AssignesFunction(this.id_dept).subscribe(e=>{this.logger.log("[DEPT-EDIT-ADD] -- -- -- TEST func - RESULT: ",e)},e=>{this.logger.error("[DEPT-EDIT-ADD] -- -- -- TEST func - ERROR ",e)},()=>{this.logger.log("[DEPT-EDIT-ADD] -- -- -- TEST func * COMPLETE *")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.F0),t.Y36(D.gz),t.Y36(L.n),t.Y36(k.M),t.Y36(A.e),t.Y36(x.l),t.Y36(p.Ye),t.Y36(_.sK),t.Y36(I.c),t.Y36(C.f),t.Y36(E._),t.Y36(T.m),t.Y36(H.E),t.Y36(J.N),t.Y36(O.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department-edit-add"]],viewQuery:function(e,i){if(1&e&&t.Gf(nt,5),2&e){let o;t.iGM(o=t.CRH())&&(i.navbarbrandRef=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(r){return i.onbeforeunload(r)},!1,t.Jf7)("resize",function(r){return i.onResize(r)},!1,t.Jf7)},inputs:{ws_requestslist_deptIdSelected:"ws_requestslist_deptIdSelected",display_dept_sidebar:"display_dept_sidebar"},features:[t.qOj],decls:24,vars:20,consts:[[1,"navbar-brand","navbar-brand-sidebar-settings",3,"ngStyle","ngClass"],["navbarbrand",""],[1,"material-icons"],[4,"ngIf"],[1,"main-content","main_content_no_left_right_padding",2,"padding-top","0px"],[1,"page-title--sidebar-settings",3,"ngClass"],[1,"material-icons",2,"vertical-align","middle !important","cursor","pointer",3,"click"],[1,"container-fluid",2,"padding-left","10px"],[1,"content-wpr",2,"display","flex"],[1,"teplate-content",2,"flex","1 1 auto","margin-left","20px"],[1,"row"],[1,"col-sm-8","col-md-8","no_padding_left_col"],[1,"card","card--no-border",2,"margin-top","5px"],["class","card-content",4,"ngIf"],["class","col-sm-4 col-md-4 no_padding_right_col",3,"ngClass",4,"ngIf"],["id","right_edit_card","class","col-sm-4 col-md-4 no_padding_right_col",3,"ngClass",4,"ngIf"],["class","view-side",4,"ngIf"],[1,"card-content"],[1,"col-sm-12",2,"padding-top","15px"],[1,"col-xs-6","col-sm-6","col-md-6"],[1,"card_title__underlined",2,"margin-top","5px"],[1,"card_title__underline"],[1,"col-xs-6","col-sm-6","col-md-6",2,"margin-top","6px"],[1,"onoffswitch"],["type","checkbox","name","activate_bot_on_onoffswitch","id","activate_bot_on_onoffswitch",1,"onoffswitch-checkbox",3,"checked","click"],["for","activate_bot_on_onoffswitch",1,"onoffswitch-label"],[1,"onoffswitch-inner"],[1,"onoffswitch-switch"],[1,"col-xs-12"],[1,"section-subtitle",2,"height","5px"],[1,"col-sm-12"],[1,"description-wpr"],[1,"dea-description"],[1,"col-sm-2","custom-label"],[1,"col-xs-12","col-sm-6","col-md-12","col-lg-6"],["bindValue","_id","bindLabel","name","loadingText","Loading...",3,"items","placeholder","ngModel","searchable","clearable","loading","disabled","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"create-new-bot-wpr"],[1,"create-new-bot-btn",3,"click"],[1,"card_title__underlined",2,"margin-top","25px"],[1,"dea-description",2,"margin-bottom","6px"],[1,"quick-tips",2,"line-height","1.1","margin-bottom","1px"],[2,"font-size","12px","color","rgba(0,0,0,1)","font-weight","400"],[2,"vertical-align","middle","font-size","12px","color","rgba(0,0,0,.6)","font-weight","400"],[1,"quick-tips",2,"line-height","1.1","margin-bottom","16px"],[2,"display","block"],[1,"row","aligned-row"],[1,"routing-rules"],[1,"routing-rule",3,"ngClass","click"],[1,"routing-rule-content"],[1,"routing-rule-icon"],["xmlns","http://www.w3.org/2000/svg","height","34px","viewBox","0 0 24 24","width","34px"],["d","M0 0h24v24H0V0z","fill","none"],["d","M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"],[1,"routing-rule-text"],[1,"routing-rule-sub-text"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","34px","viewBox","0 0 24 24","width","34px"],["fill","none","height","24","width","24"],["d","M18.19,12.44l-3.24-1.62c1.29-1,2.12-2.56,2.12-4.32c0-3.03-2.47-5.5-5.5-5.5s-5.5,2.47-5.5,5.5c0,2.13,1.22,3.98,3,4.89 v3.26c-2.15-0.46-2.02-0.44-2.26-0.44c-0.53,0-1.03,0.21-1.41,0.59L4,16.22l5.09,5.09C9.52,21.75,10.12,22,10.74,22h6.3 c0.98,0,1.81-0.7,1.97-1.67l0.8-4.71C20.03,14.32,19.38,13.04,18.19,12.44z M17.84,15.29L17.04,20h-6.3 c-0.09,0-0.17-0.04-0.24-0.1l-3.68-3.68l4.25,0.89V6.5c0-0.28,0.22-0.5,0.5-0.5c0.28,0,0.5,0.22,0.5,0.5v6h1.76l3.46,1.73 C17.69,14.43,17.91,14.86,17.84,15.29z M8.07,6.5c0-1.93,1.57-3.5,3.5-3.5s3.5,1.57,3.5,3.5c0,0.95-0.38,1.81-1,2.44V6.5 c0-1.38-1.12-2.5-2.5-2.5c-1.38,0-2.5,1.12-2.5,2.5v2.44C8.45,8.31,8.07,7.45,8.07,6.5z"],[1,"row",2,"margin-top","12px"],[1,"col-sm-2","custom-label",2,"white-space","nowrap"],["bindLabel","name","bindValue","_id",3,"ngModel","items","searchable","clearable","placeholder","change","ngModelChange"],["class","create-new-group-wpr",4,"ngIf"],[1,"col-sm-12",2,"height","15px"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","15px"],[1,"col-xs-12","col-sm-6","col-md-12","col-lg-6","dept-name-input-wrap"],["type","text",1,"input",2,"margin-top","2px","margin-bottom","5px",3,"ngModel","placeholder","ngClass","disabled","ngModelChange"],["type","text","rows","2",1,"",2,"margin-top","2px",3,"ngModel","placeholder","ngModelChange"],[2,"text-transform","none","color","rgba(0,0,0,.54)","font-size","20px","margin-top","0px"],[1,"alert","dd-info-alert"],[2,"vertical-align","middle","display","inline-flex"],["class","bot-description-trunc",4,"ngIf"],[1,"bot-description-trunc"],[1,"create-new-group-wpr"],[1,"create-new-group-btn",3,"click"],[1,"btn","btn-tdblu-no-boxshadow","create-dept-has-selected-bot",3,"disabled","click"],[1,"btn","btn-tdblu-no-boxshadow","create-dept-not-has-selected-bot",3,"disabled","click"],[1,"btn","btn-tdblu-no-boxshadow","update-dept-btn",3,"disabled","click"],[1,"col-sm-4","col-md-4","no_padding_right_col",3,"ngClass"],[1,"card-content",2,"padding-top","0px"],[1,"col-sm-12","col-md-12"],[1,"card_title__underlined"],[1,"section-subtitle"],[1,"title-attribute",2,"margin-bottom","3px"],[1,"attribute"],["id","right_edit_card",1,"col-sm-4","col-md-4","no_padding_right_col",3,"ngClass"],[1,"card","card--no-border",2,"padding-top","8px","margin-top","5px"],["class","card-content","style","padding-top: 0px;",4,"ngIf"],[1,"card_title__underlined",2,"margin-top","0px"],[1,"row",2,"height","50px"],[1,"row",2,"margin-top","5px","margin-bottom","5px"],[1,"col-sm-12",2,"padding-top","4px"],[2,"margin-bottom","0px"],[1,"tool_tip"],[1,"material-icons","right-sidebar--m-icon"],[1,"top",2,"min-width","unset","top","-7px","padding","5px 10px","border-radius","4px","white-space","nowrap"],[2,"top","88%"],[2,"color","#7695a5","font-weight","400","font-size","12px"],[1,"row",2,"margin-top","5px"],[1,"row-header"],[2,"vertical-align","middle"],[1,"bot"],["class","row-body","style","margin-bottom: 10px; margin-left: 2px;",4,"ngIf"],["class","row-body","style","margin-bottom: 0px; cursor: pointer;",4,"ngIf"],["class","row","style","margin-top:5px",4,"ngIf"],[1,"row",2,"margin-top","0px"],["style","color: rgba(0,0,0,.54);text-transform: uppercase; font-size: 12px;\n                  position: relative;\n                  top: 1px;",4,"ngIf"],["style"," color: rgba(0,0,0,.54);font-size: 12px;\n                  position: relative;\n                  top: 1px;",4,"ngIf"],["class","row-body","style","margin-bottom: 0px;",4,"ngIf"],[1,"dept-avatar-wrapper",2,"float","left","margin-right","5px"],[1,"dept-avatar",2,"background-color","#6264A7"],[1,"dept-name-in-right-sidebar"],[1,"dept-avatar",3,"ngStyle"],[1,"row-body",2,"margin-bottom","10px","margin-left","2px"],[1,"dept___served_by_no_bot"],["src","assets/img/bot_alt_slash.svg",2,"height","auto","width","22px","margin-left","5px","margin-top","5px"],[1,"dept___no_bot",2,"position","relative","top","5px","font-weight","400"],[1,"row-body",2,"margin-bottom","0px","cursor","pointer"],[1,"dept___served_by_bot",3,"click"],["class","bot-img-dept-edit-add","onerror","this.src='assets/img/avatar_bot_tiledesk.svg'",3,"src",4,"ngIf"],[1,"dept___bot",2,"position","relative","top","5px"],["onerror","this.src='assets/img/avatar_bot_tiledesk.svg'",1,"bot-img-dept-edit-add",3,"src"],["src","assets/img/tiledesk_logo_no_text.png",1,"dept_bot-type-logo"],["src","assets/img/external_bot_logo.png",1,"dept_bot-type-logo"],["src","assets/img/Dialogflow_logo_no_text.png",1,"dept_bot-type-logo"],["src","assets/img/rasa_bot_logo.png",1,"dept_bot-type-logo"],["class","bot-type-logo",3,"src",4,"ngIf"],["class","dept_bot-type-logo",3,"src",4,"ngIf"],["class","dept_bot-type-logo","src","assets/img/logos/copilot-logo.svg",4,"ngIf"],["class","dept_bot-type-logo","src","assets/img/logos/webhook-logo.svg",4,"ngIf"],["class","dept_bot-type-logo","src","assets/img/logos/voice-logo.svg",4,"ngIf"],[1,"bot-type-logo",3,"src"],[1,"dept_bot-type-logo",3,"src"],["src","assets/img/logos/copilot-logo.svg",1,"dept_bot-type-logo"],["src","assets/img/logos/webhook-logo.svg",1,"dept_bot-type-logo"],["src","assets/img/logos/voice-logo.svg",1,"dept_bot-type-logo"],[1,"sidebar-description","sidebar-description-cropped",2,"margin-bottom","5px","line-height","18px"],[1,"description-icon-and-text",2,"margin-right","3px"],[1,"material-icons",2,"vertical-align","middle","color","#394f5a","font-size","14px","margin-left","1px"],[2,"font-size","12px","color","#394f5a","font-weight","400","font-family","Poppins"],[1,"bot_description",2,"color","#7695a5","font-weight","400","font-size","12px"],["class","col-sm-12",4,"ngIf"],[2,"font-size","10px","float","right","cursor","pointer",3,"click"],[2,"color","rgba(0,0,0,.54)","text-transform","uppercase","font-size","12px","position","relative","top","1px"],[2,"color","rgba(0,0,0,.54)","font-size","12px","position","relative","top","1px"],[2,"text-transform","uppercase"],[1,"edit-group-link","tool_tip",3,"click"],[2,"text-transform","capitalize"],[1,"bottom",2,"min-width","fit-content","text-align","center","top","30px","line-height","15px"],[2,"white-space","nowrap","text-transform","capitalize"],[2,"display","block","white-space","nowrap","text-transform","none"],[1,"dept___served_by_alluser"],["style","margin-bottom: 5px;",4,"ngFor","ngForOf"],[2,"margin-bottom","5px"],[2,"cursor","pointer",3,"click"],["class","user-img-teammates-in-edit-dept","onerror","this.src='assets/img/no_image_user.png'",3,"src",4,"ngIf"],[2,"font-size","12px","font-weight","400"],["onerror","this.src='assets/img/no_image_user.png'",1,"user-img-teammates-in-edit-dept",3,"src"],[1,"row-body",2,"margin-bottom","0px"],[1,"dept___served_by_group"],[2,"font-size","1em","margin-bottom","0px","color","#7695a5","font-weight","400"],[1,"material-icons",2,"vertical-align","middle","margin-bottom","2px","color","#00bcd4","font-size","18px"],[1,"view-side"],[2,"z-index","2",3,"ngStyle","newInnerWidth","deptName_toUpdate","valueChange","groupcreated"],[3,"ngStyle","valueChange"]],template:function(e,i){1&e&&(t.TgZ(0,"span",0,1)(2,"i",2),t._uU(3,"settings"),t.qZA(),t.YNc(4,it,3,3,"span",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"i",6),t.NdJ("click",function(){return i.goBackToDeptsList()}),t._uU(8,"keyboard_arrow_left"),t.qZA(),t.YNc(9,ot,3,3,"span",3),t.YNc(10,st,3,3,"span",3),t.qZA(),t.TgZ(11,"div",7)(12,"div",8),t._UZ(13,"appdashboard-settings-sidebar"),t.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),t.YNc(18,rt,1,0,"loading-spinner",3),t.YNc(19,ft,110,67,"div",13),t.qZA()(),t.YNc(20,bt,24,15,"div",14),t.YNc(21,ne,4,5,"div",15),t.qZA()()()()(),t.YNc(22,ie,2,5,"div",16),t.YNc(23,oe,2,3,"div",16)),2&e&&(t.Q6J("ngStyle",t.VKq(12,se,!0===i.isChromeVerGreaterThan100?"-64px":"6px"))("ngClass",t.WLB(14,re,i.IS_OPEN_SETTINGS_SIDEBAR,!i.IS_OPEN_SETTINGS_SIDEBAR)),t.xp6(4),t.Q6J("ngIf",i.IS_OPEN_SETTINGS_SIDEBAR),t.xp6(2),t.Q6J("ngClass",t.WLB(17,ae,i.IS_OPEN_SETTINGS_SIDEBAR,!i.IS_OPEN_SETTINGS_SIDEBAR)),t.xp6(3),t.Q6J("ngIf",i.CREATE_VIEW),t.xp6(1),t.Q6J("ngIf",i.EDIT_VIEW&&!1===i.ROUTING_PAGE_MODE),t.xp6(8),t.Q6J("ngIf",i.showSpinner),t.xp6(1),t.Q6J("ngIf",!i.showSpinner),t.xp6(1),t.Q6J("ngIf",i.CREATE_VIEW),t.xp6(1),t.Q6J("ngIf",i.EDIT_VIEW),t.xp6(1),t.Q6J("ngIf",!0===i.OPEN_CREATE_GROUP_RIGHT_SIDEBAR),t.xp6(1),t.Q6J("ngIf",!0===i.OPEN_CREATE_BOT_RIGHT_SIDEBAR))},dependencies:[p.mk,p.sg,p.O5,p.PC,q.S,v.g,g.Fj,g.JJ,g.On,u.w9,u.ir,u.mR,tt,et,p.uU,_.X$,U.eG],styles:['input[type=text][_ngcontent-%COMP%] {\n  height: 36px;\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #fff;\n  border: 1px solid #d9d9d9 !important;\n  border-top: 1px solid #c0c0c0;\n  \n  padding: 0 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 5px;\n  background-color: #fff !important;\n  border: solid 1px #ddd;\n}\n.dept-name-input-wrap[_ngcontent-%COMP%]    > input[type=text][_ngcontent-%COMP%] {\n  height: 36px;\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  padding: 0 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 5px;\n  background-color: #fff;\n  border: solid 1px #ddd;\n}\n.dept-name-input-wrap[_ngcontent-%COMP%]    > .input-dept-name-disbled[_ngcontent-%COMP%] {\n  background-color: #eee !important;\n}\ntextarea[type=text][_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 100%;\n  margin-bottom: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #fff;\n  border: 1px solid #d9d9d9 !important;\n  \n  padding-right: 8px;\n  padding-top: 5px;\n  padding-left: 8px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  border-radius: 5px;\n  background-color: #fff !important;\n  border: solid 1px #ddd;\n}\nselect[_ngcontent-%COMP%] {\n  height: 36px;\n  background: #fff;\n  border-radius: 5px;\n  border-color: #d9d9d9;\n  width: 100%;\n}\n@media (min-width: 992px) and (max-width: 1283px) {\n  .deptname[_ngcontent-%COMP%] {\n    padding-top: 0px !important;\n  }\n}\ninput[type=radio][_ngcontent-%COMP%] {\n  box-sizing: border-box;\n  padding: 0;\n}\n.form-check-input[_ngcontent-%COMP%] {\n  position: absolute;\n  margin-top: 0.3rem;\n  margin-left: -1.25rem;\n}\n@media (max-width: 768px) {\n  .col-sm-9[_ngcontent-%COMP%] {\n    padding-top: 5px !important;\n  }\n}\n.errorGroup[_ngcontent-%COMP%] {\n  color: #ff5252 !important;\n  border-color: #ff5252 !important;\n}\n.selectCustomDisabled[_ngcontent-%COMP%] {\n  color: #c0c0c0 !important;\n  background-color: rgba(192, 192, 192, 0.1) !important;\n}\n.oaerror[_ngcontent-%COMP%] {\n  width: 100%;\n  \n  margin: 0 auto;\n  \n  background-color: #ffffff;\n  \n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  border: 1px solid #eee;\n  border-left-width: 5px;\n  border-radius: 3px;\n  margin: 0 auto;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-size: 14px;\n}\n.danger[_ngcontent-%COMP%] {\n  border-left-color: #d9534f;\n  \n  background-color: rgba(217, 83, 79, 0.1);\n  \n}\n.danger[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  color: #d9534f;\n}\n.warning[_ngcontent-%COMP%] {\n  border-left-color: #f0ad4e;\n  background-color: rgba(240, 173, 78, 0.1);\n}\n.warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  color: #f0ad4e;\n}\n.info[_ngcontent-%COMP%] {\n  border-left-color: #5bc0de;\n}\n.info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  color: #5bc0de;\n}\n.success[_ngcontent-%COMP%] {\n  border-left-color: #2b542c;\n  background-color: rgba(43, 84, 44, 0.1);\n}\n.disabled[_ngcontent-%COMP%] {\n  border-left-color: #999;\n}\n.success[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  color: #2b542c;\n}\n.title-attribute[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  color: #394f5a;\n  font-weight: 400;\n}\n.attribute[_ngcontent-%COMP%] {\n  color: #7695a5;\n}\n.disabled-label[_ngcontent-%COMP%] {\n  color: #aaa !important;\n  opacity: 0.4;\n}\n.selected-routing-info[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  display: inline-flex;\n  font-size: 14px;\n  font-weight: 400;\n  color: #222222;\n}\n.no_padding_left_col[_ngcontent-%COMP%] {\n  padding-left: 10px !important;\n  padding-right: 5px !important;\n}\n.no_padding_right_col[_ngcontent-%COMP%] {\n  padding-left: 5px !important;\n  padding-right: 10px !important;\n}\n.main_content_no_left_right_padding[_ngcontent-%COMP%] {\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n}\n.custom-label[_ngcontent-%COMP%] {\n  color: #7695a5;\n  height: 36px !important;\n  padding-top: 7px !important;\n  padding-left: 16px !important;\n  padding-right: 16px !important;\n  text-align: right !important;\n}\n@media (max-width: 768px) {\n  .custom-label[_ngcontent-%COMP%] {\n    height: 0px !important;\n  }\n  .card-padding[_ngcontent-%COMP%] {\n    padding-top: 0px !important;\n    padding-bottom: 0px !important;\n  }\n}\n@media (min-width: 992px) and (max-width: 1200px) {\n  .custom-label[_ngcontent-%COMP%] {\n    text-align: left !important;\n    padding-top: 18px !important;\n  }\n  .card-padding[_ngcontent-%COMP%] {\n    padding-top: 0px !important;\n    padding-bottom: 0px !important;\n  }\n}\n@media (min-width: 1682px) {\n  .custom-label-for-dept[_ngcontent-%COMP%] {\n    padding-top: 8px;\n  }\n}\n.dept-avatar[_ngcontent-%COMP%] {\n  border-radius: 5px;\n  font-size: 18px;\n  font-weight: 400;\n  text-align: center;\n  padding-top: 5px;\n  padding-bottom: 3px;\n  display: inline-block;\n  width: 42px;\n  height: 42px;\n  line-height: 33px;\n  position: relative;\n  top: 4px;\n  color: #fff;\n}\n.row-header[_ngcontent-%COMP%] {\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  color: #394f5a;\n  font-weight: 500;\n  margin-bottom: 5px;\n  margin-top: 5px;\n}\n.row-body[_ngcontent-%COMP%] {\n  color: #7695a5;\n  font-weight: 400;\n  font-size: 12px;\n  padding-bottom: 5px;\n}\n.dept___served_by_no_bot[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  background-color: #eee;\n  float: left;\n  margin-right: 4px;\n  margin-bottom: 5px;\n}\n.dept___served_by_bot[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  float: left;\n  margin-right: 4px;\n}\n.bot-img-dept-edit-add[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-right: 6px;\n  object-fit: cover;\n}\n.dept_bot-type-logo[_ngcontent-%COMP%] {\n  width: 16px;\n  height: 16px;\n  position: absolute;\n  top: 30px;\n  left: 11px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  padding: 1px;\n  background: #fff;\n}\n.showPosts[_ngcontent-%COMP%] {\n  cursor: pointer;\n  display: table;\n}\n.showPosts[_ngcontent-%COMP%]   .greekCross[_ngcontent-%COMP%], .showPosts[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\n  display: table-cell;\n}\n.greekCross[_ngcontent-%COMP%] {\n  color: #00bff3;\n  font-size: 15px;\n}\n.showPosts[_ngcontent-%COMP%]    > h5[_ngcontent-%COMP%] {\n  font-size: 15px;\n  display: inline;\n  padding-left: 5px;\n}\nselect[disabled][_ngcontent-%COMP%] {\n  color: #999999;\n  background-color: rgb(248, 249, 249);\n}\n[_ngcontent-%COMP%]::placeholder {\n  \n  color: #d9d9d9 !important;\n  font-weight: 200 !important;\n  opacity: 1;\n  \n}\n[_ngcontent-%COMP%]:-ms-input-placeholder {\n  \n  color: #d9d9d9 !important;\n  font-weight: 200 !important;\n}\n[_ngcontent-%COMP%]::-ms-input-placeholder {\n  \n  color: #d9d9d9 !important;\n  font-weight: 200 !important;\n}\n\n[type=radio][_ngcontent-%COMP%] {\n  position: absolute;\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n[type=radio][_ngcontent-%COMP%]    + img[_ngcontent-%COMP%] {\n  cursor: pointer;\n  border-radius: 3px;\n  border: 1px solid #bbb;\n  background: #ebebeb;\n  margin-right: 6px;\n}\n\n[type=radio][_ngcontent-%COMP%]:checked    + img[_ngcontent-%COMP%] {\n  border: 1px solid #03a5e8;\n  background: rgba(3, 165, 232, 0.1);\n}\n.assigned-routing-check-icon[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 81px;\n  top: -5px;\n  font-size: 18px;\n  color: #03a5e8;\n  border-radius: 50%;\n  background: #fff;\n  border: 1px solid #03a5e8;\n}\n.pooled-routing-check-icon[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 170px;\n  top: -5px;\n  font-size: 18px;\n  color: #03a5e8;\n  border-radius: 50%;\n  background: #fff;\n  border: 1px solid #03a5e8;\n}\n.radio-btn-img[_ngcontent-%COMP%]:hover {\n  background: #ebebeb;\n}\n.radio-btn-img[_ngcontent-%COMP%] {\n  border-radius: 3px;\n  width: 80px;\n  height: 80px;\n  padding: 5px;\n}\n.radio_as_img_label[_ngcontent-%COMP%] {\n  display: block;\n  text-align: center;\n  font-size: 12px;\n  color: #394f5a;\n}\n.radio_as_img_label_active[_ngcontent-%COMP%] {\n  color: #03a5e8 !important;\n  font-weight: 400;\n}\n.sidebar-description-cropped[_ngcontent-%COMP%] {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  line-clamp: 3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  \n  -webkit-box-orient: vertical;\n}\n.onoffswitch[_ngcontent-%COMP%] {\n  position: relative;\n  width: 90px;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.onoffswitch-checkbox[_ngcontent-%COMP%] {\n  display: none;\n}\n.onoffswitch-label[_ngcontent-%COMP%] {\n  display: block;\n  overflow: hidden;\n  cursor: pointer;\n  border: 1px solid #d9d9d9 !important;\n  border-radius: 22px;\n}\n.onoffswitch-inner[_ngcontent-%COMP%] {\n  display: block;\n  width: 200%;\n  margin-left: -100%;\n  transition: margin 0.3s ease-in 0s;\n}\n.onoffswitch-inner[_ngcontent-%COMP%]:before, .onoffswitch-inner[_ngcontent-%COMP%]:after {\n  display: block;\n  float: left;\n  width: 50%;\n  height: 30px;\n  padding: 0;\n  line-height: 30px;\n  font-size: 14px;\n  color: white;\n  font-family: Trebuchet, Arial, sans-serif;\n  font-weight: bold;\n  box-sizing: border-box;\n}\n.onoffswitch-inner[_ngcontent-%COMP%]:before {\n  content: "ON";\n  padding-left: 10px;\n  color: #4caf50;\n}\n.onoffswitch-inner[_ngcontent-%COMP%]:after {\n  content: "OFF";\n  padding-right: 10px;\n  color: #f44336;\n  text-align: right;\n}\n.onoffswitch-switch[_ngcontent-%COMP%] {\n  display: block;\n  width: 22px;\n  margin: 5px;\n  background: #f44336;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 56px;\n  border: 1px solid #d9d9d9 !important;\n  border-radius: 22px;\n  transition: all 0.3s ease-in 0s;\n}\n.onoffswitch-checkbox[_ngcontent-%COMP%]:checked    + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-inner[_ngcontent-%COMP%] {\n  margin-left: 0;\n}\n.onoffswitch-checkbox[_ngcontent-%COMP%]:checked    + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-switch[_ngcontent-%COMP%] {\n  right: 0px;\n  background-color: #4caf50;\n}\n.onoffswitch-checkbox[_ngcontent-%COMP%]:disabled    + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-switch[_ngcontent-%COMP%] {\n  background-color: #ddd;\n}\n.onoffswitch-checkbox[_ngcontent-%COMP%]:disabled    + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-inner[_ngcontent-%COMP%]::before {\n  color: #ddd;\n}\n.onoffswitch-checkbox[_ngcontent-%COMP%]:disabled    + .onoffswitch-label[_ngcontent-%COMP%]   .onoffswitch-inner[_ngcontent-%COMP%]::after {\n  color: #ddd;\n}\n@media (max-width: 768px) {\n  .sidebar-hidden-767[_ngcontent-%COMP%] {\n    display: none;\n  }\n}\n.edit-group-link[_ngcontent-%COMP%] {\n  color: #03a5e8;\n  cursor: pointer;\n  text-transform: lowercase;\n}\n.dept-name-in-right-sidebar[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 18px;\n  margin-left: 5px;\n  white-space: nowrap;\n  position: relative;\n  top: 16px;\n  font-family: "Poppins", "Roboto", "Arial", sans-serif;\n  font-weight: 400;\n}\n.description-wpr[_ngcontent-%COMP%] {\n  margin-bottom: 10px;\n}\n.dea-description[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  display: inline-flex;\n  font-size: 13px;\n  color: #222222;\n  font-weight: 400;\n}\n.aligned-row[_ngcontent-%COMP%] {\n  display: flex;\n  flex-flow: row wrap;\n}\n.aligned-row[_ngcontent-%COMP%]::before {\n  display: block;\n}\n.vertical-align[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n.user-img-teammates-in-edit-dept[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-right: 3px;\n  object-fit: cover;\n}\n.bot-description-trunc[_ngcontent-%COMP%] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n}\n.create-new-bot-wpr[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 12px;\n  font-weight: 400;\n  color: #7695a5;\n  line-height: 1.2em;\n  padding-top: 3px;\n}\n.create-new-bot-wpr[_ngcontent-%COMP%]    > .create-new-bot-btn[_ngcontent-%COMP%] {\n  color: var(--blue-20);\n  cursor: pointer;\n}\n.create-new-bot-wpr[_ngcontent-%COMP%]    > .create-new-bot-btn[_ngcontent-%COMP%]:hover {\n  color: var(--blue-40);\n}\n.create-new-group-wpr[_ngcontent-%COMP%] {\n  display: block;\n  font-size: 12px;\n  font-weight: 400;\n  color: #7695a5;\n  line-height: 1.2em;\n  padding-top: 3px;\n}\n.create-new-group-wpr[_ngcontent-%COMP%]    > .create-new-group-btn[_ngcontent-%COMP%] {\n  color: var(--blue-20);\n  cursor: pointer;\n}\n.create-new-group-wpr[_ngcontent-%COMP%]    > .create-new-group-btn[_ngcontent-%COMP%]:hover {\n  color: var(--blue-40);\n}\n.routing-rules[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 24px;\n  margin-bottom: 16px;\n}\n.routing-rule[_ngcontent-%COMP%] {\n  position: relative;\n  background-color: rgb(255, 255, 255);\n  border-radius: 8px;\n  border: 2px solid #d9d9d9;\n  outline: none;\n  cursor: pointer;\n  min-height: 162px;\n  width: 250px;\n  pointer-events: auto;\n}\n.routing-rule.rule-active[_ngcontent-%COMP%] {\n  border: 2px solid var(--blue-20);\n}\n.routing-rule-content[_ngcontent-%COMP%] {\n  padding: 15px 12px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  align-items: center;\n}\n.routing-rule[_ngcontent-%COMP%]    > .routing-rule-content[_ngcontent-%COMP%]    > .routing-rule-text[_ngcontent-%COMP%] {\n  font-family: var(--blue-20);\n  font-weight: 400;\n  color: #647491;\n}\n.routing-rule.rule-active[_ngcontent-%COMP%]    > .routing-rule-content[_ngcontent-%COMP%]    > .routing-rule-text[_ngcontent-%COMP%] {\n  color: var(--icon-hover-color);\n}\n.routing-rule[_ngcontent-%COMP%]    > .routing-rule-content[_ngcontent-%COMP%]    > .routing-rule-icon[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  fill: #647491;\n}\n.routing-rule.rule-active[_ngcontent-%COMP%]    > .routing-rule-content[_ngcontent-%COMP%]    > .routing-rule-icon[_ngcontent-%COMP%]    > svg[_ngcontent-%COMP%] {\n  fill: var(--icon-hover-color);\n}\n.dd-info-alert[_ngcontent-%COMP%] {\n  background-color: #d9edf7;\n  border: 1px solid;\n  border-color: #bce8f1;\n  color: #31708f;\n  box-shadow: none;\n}\n.dd-info-alert[_ngcontent-%COMP%]    > i[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  display: inline-flex;\n  color: var(--blue-20);\n  margin-right: 6px;\n}']}),n})();var de=a(69284),pe=a(31449),ge=a(40520);const ce=[{path:"",component:le}];let _e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[D.Bz.forChild(ce),p.ez,p.ez,_.aw,de.i,pe.m,g.u5,U._G,u.A0,ge.JF]}),n})()}}]);